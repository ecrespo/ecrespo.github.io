<!doctype html>
<html lang="es" itemscope itemtype="http://schema.org/Person">
<head>
            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>API rest ful con Eve (parte 2)</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Ernesto Crespo">

        <link rel="shortcut icon" href="">

        <!-- schema.org -->
        <meta itemprop="name" content="Página de Seraph">
        <meta itemprop="image" content="">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Página de Seraph ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="">
        <meta name="twitter:image" content="">

    <meta name="twitter:creator" content="">
    <meta name="twitter:url" content="https://ecrespo.github.io/api-rest-ful-con-eve-parte-2.html">
    <meta name="twitter:title" content="Página de Seraph ~ API rest ful con Eve (parte 2)">
    <meta name="twitter:description" content="En el primer artículo se tocó el tema del api rest ful con eve de manera sencilla. En este artículo se toca el uso de mongodb para majejo del api rest con mongodb, el artículo se basa en la guía rápida de eve que se encuentra en su sitio. Los …">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="Página de Seraph ~ API rest ful con Eve (parte 2)"/>
    <meta property="og:description" content="En el primer artículo se tocó el tema del api rest ful con eve de manera sencilla. En este artículo se toca el uso de mongodb para majejo del api rest con mongodb, el artículo se basa en la guía rápida de eve que se encuentra en su sitio. Los …"/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <!--<center><a href="https://ecrespo.github.io"><img id="avatar" src=""></a></center>-->
    <h1>Página de Seraph</h1>
    <br>


    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="/archives.html">Archives</a></li>
                <li><a class="nav__link" href="/categories.html">Categories</a></li>
                <li><a class="nav__link" href="/tags.html">Tags</a></li>

                <li><a class="nav__link" href="https://ecrespo.github.io/pages/About.html">Acerca</a></li>
                <li><a class="nav__link" href="https://ecrespo.github.io/pages/Contacto.html">Contacto</a></li>

        </ul>
    </nav>

    <p class="social">
                <a href="https://medium.com/@_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/medium.png"></a>
                <a href="http://ve.linkedin.com/in/ernestocrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/linkedin.png"></a>
                <a href="https://github.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/github.png"></a>
                <a href="https://google.com/+ErnestoCrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/google.png"></a>
                <a href="https://twitter.com/_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/twitter.png"></a>
                <a href="https://www.facebook.com/ernesto.crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/facebook.png"></a>
                <a href="https://gitlab.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/gitlab.png"></a>
                <a href="https://soundcloud.com/ernesto-crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/soundcloud.png"></a>
                <a href="//www.seraph.to/feeds/all.atom.xml" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
            <a href="https://ecrespo.github.io/feeds/all.atom.xml" rel="alternate">
                <img src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
    </p>

        <h2>Categories</h2>
        <ul class="navbar">
                <li><a
                        href="https://ecrespo.github.io/category/accesibilidad.html">Accesibilidad</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncio.html">Anuncio</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncios.html">Anuncios</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/aplicacion-android.html">Aplicación Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/asterisk-debian-linux.html">Asterisk, Debian, Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla.html">Charla</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla-python.html">Charla Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-linux-mac-book.html">Debian, Linux, Mac Book</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-maemo-nokia-n810-python.html">Debian, maemo, Nokia N810, Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/demostracion-aplicacion-para-android.html">Demostración Aplicación para Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/desarrollomovil.html">Desarrollo,Movil</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/evento.html">Evento</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/general.html">General</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linux.html">Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdebian.html">Linux,Debian</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdesarrollo.html">Linux,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxempaquetado.html">Linux,Empaquetado</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxofimaticadesarrollo.html">Linux,Ofimatica,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/movil-nokia.html">Movil, Nokia</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810.html">Nokia N810</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810-debian-maemo.html">Nokia N810 Debian Maemo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/posts.html">posts</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/resumen-2010.html">Resumen 2010</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/sistemas-operativos.html">Sistemas Operativos</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial.html">Tutorial</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-android.html">Tutorial Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-arduino.html">Tutorial de Arduino</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-data-science.html">Tutorial de Data Science</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-docker.html">Tutorial de Docker</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-integracion-continua.html">Tutorial de integración continua</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-linux.html">Tutorial de Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python.html">Tutorial de Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-en-android.html">Tutorial de Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-linux.html">Tutorial de Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-pyqt.html">Tutorial de Python y PyQt</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-debian-bsd-y-python.html">Tutorial Debian BSD y Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux.html">Tutorial Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux-y-python.html">Tutorial Linux y Python</a></li>
                <li class="active"><a
                        href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-en-android.html">Tutorial Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-y-linux.html">Tutorial Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorialdesarrollo.html">Tutorial,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/xml-rpcpython.html">XML-RPC,Python</a></li>
        </ul>


</aside>

<!-- Content -->
<article>
    <section id="content">
        <article>
            <h2 class="post_title post_detail"><a href="https://ecrespo.github.io/api-rest-ful-con-eve-parte-2.html" rel="bookmark"
                                                  title="Permalink to API rest ful con Eve (parte 2)">API rest ful con Eve (parte 2)</a></h2>
            <div class="entry-content blog-post">
                <p>En el primer <a href="https://www.seraph.to/api-rest-full-para-python-con-eve-parte-1.html#api-rest-full-para-python-con-eve-parte-1">artículo</a> se tocó el tema del api rest ful con eve de manera sencilla.</p>
<p>En este artículo se toca el uso de mongodb para majejo del api rest con mongodb, el artículo se basa en la guía rápida de eve que se encuentra en su <a href="https://docs.python-eve.org/en/stable/quickstart.html">sitio</a>.</p>
<p>Los artículos relacionados con mongodb del blog son:</p>
<ol>
<li><a href="https://www.seraph.to/habilitar-autenticacion-en-un-servidor-mongodb.html#habilitar-autenticacion-en-un-servidor-mongodb">Instalar un servidor mongodb en Debian.</a>  </li>
<li><a href="https://www.seraph.to/instalar-un-servidor-mongodb-en-debian.html#instalar-un-servidor-mongodb-en-debian">Habilitar la autenticación en un servidor mongodb.</a>  </li>
</ol>
<p>Para ver la base de datos en mongodb se usará el cliente <a href="https://app.robomongo.org/">robomongo</a> que lo pueden descargar en el siguiente <a href="https://app.robomongo.org/download.html">enlace</a>.</p>
<p>El archivo <code>run.py</code> contiene lo mismo que en el artículo anterior:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python</span>

<span class="kn">from</span> <span class="nn">eve</span> <span class="kn">import</span> <span class="n">Eve</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Eve</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>

<p>El archivo <code>settings.py</code> contendrá algunas directivas.</p>
<p>Configuración de la base de datos mongodb:</p>
<div class="highlight"><pre><span></span><code><span class="err">MONGO_HOST = &#39;localhost&#39;</span>
<span class="err">MONGO_PORT = 27017</span>
<span class="err">#MONGO_USERNAME = &#39;user&#39;</span>
<span class="err">#MONGO_PASSWORD = &#39;user&#39;</span>
<span class="err">MONGO_DBNAME = &#39;eve&#39;</span>
</code></pre></div>

<p>Como a mongodb no se le ha configurado un usuario y clave se comentan esas líneas, la base de datos a usar se llama eve.</p>
<p>Configurar todas las opciones del CRUD (leer, editar, update y borrar):</p>
<div class="highlight"><pre><span></span><code><span class="o">#</span> <span class="n">Enable</span> <span class="k">reads</span> <span class="p">(</span><span class="k">GET</span><span class="p">),</span> <span class="n">inserts</span> <span class="p">(</span><span class="n">POST</span><span class="p">)</span> <span class="k">and</span> <span class="k">DELETE</span> <span class="k">for</span> <span class="n">resources</span><span class="o">/</span><span class="n">collections</span>
<span class="o">#</span> <span class="p">(</span><span class="k">if</span> <span class="n">you</span> <span class="n">omit</span> <span class="n">this</span> <span class="n">line</span><span class="p">,</span> <span class="n">the</span> <span class="n">API</span> <span class="n">will</span> <span class="k">default</span> <span class="k">to</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">]</span> <span class="k">and</span> <span class="n">provide</span>
<span class="o">#</span> <span class="k">read</span><span class="o">-</span><span class="k">only</span> <span class="k">access</span> <span class="k">to</span> <span class="n">the</span> <span class="n">endpoint</span><span class="p">).</span>
<span class="n">RESOURCE_METHODS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="s1">&#39;DELETE&#39;</span><span class="p">]</span>

<span class="o">#</span> <span class="n">Enable</span> <span class="k">reads</span> <span class="p">(</span><span class="k">GET</span><span class="p">),</span> <span class="n">edits</span> <span class="p">(</span><span class="n">PATCH</span><span class="p">),</span> <span class="n">replacements</span> <span class="p">(</span><span class="n">PUT</span><span class="p">)</span> <span class="k">and</span> <span class="n">deletes</span> <span class="k">of</span>
<span class="o">#</span> <span class="n">individual</span> <span class="n">items</span>  <span class="p">(</span><span class="k">defaults</span> <span class="k">to</span> <span class="k">read</span><span class="o">-</span><span class="k">only</span> <span class="n">item</span> <span class="k">access</span><span class="p">).</span>
<span class="n">ITEM_METHODS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;PATCH&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT&#39;</span><span class="p">,</span> <span class="s1">&#39;DELETE&#39;</span><span class="p">]</span>
</code></pre></div>

<p>Se define un esquema el cual permite validar los datos:</p>
<div class="highlight"><pre><span></span><code><span class="n">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># Schema definition, based on Cerberus grammar. Check the Cerberus project</span>
    <span class="c1"># (https://github.com/nicolaiarocci/cerberus) for details.</span>
    <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minlength&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;maxlength&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;apellido&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minlength&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;maxlength&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
        <span class="s1">&#39;required&#39;</span><span class="p">:</span> <span class="n">True</span><span class="p">,</span>
        <span class="c1"># talk about hard constraints! For the purpose of the demo</span>
        <span class="c1"># &#39;lastname&#39; is an API entry-point, so we need it to be unique.</span>
        <span class="s1">&#39;unique&#39;</span><span class="p">:</span> <span class="n">True</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># &#39;role&#39; is a list, and can only contain values from &#39;allowed&#39;.</span>
    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;list&#39;</span><span class="p">,</span>
        <span class="s1">&#39;allowed&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;author&quot;</span><span class="p">,</span> <span class="s2">&quot;contributor&quot;</span><span class="p">,</span> <span class="s2">&quot;copy&quot;</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="c1"># An embedded &#39;strongly-typed&#39; dictionary.</span>
    <span class="s1">&#39;localizacion&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;dict&#39;</span><span class="p">,</span>
        <span class="s1">&#39;schema&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;direccion&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span>
            <span class="s1">&#39;ciudad&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">}</span>
        <span class="p">},</span>
    <span class="p">},</span>
    <span class="s1">&#39;nacimiento: {</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</code></pre></div>

<p>Definición de persona:</p>
<div class="highlight"><pre><span></span><code><span class="n">persona</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">#</span> <span class="p">&#39;</span><span class="n">title</span><span class="p">&#39;</span> <span class="n">tag</span> <span class="n">used</span> <span class="n">in</span> <span class="n">item</span> <span class="n">links</span><span class="p">.</span> <span class="n">Defaults</span> <span class="n">to</span> <span class="n">the</span> <span class="n">resource</span> <span class="n">title</span> <span class="n">minus</span>
    <span class="p">#</span> <span class="n">the</span> <span class="k">final</span><span class="p">,</span> <span class="n">plural</span> <span class="sc">&#39;s&#39;</span> <span class="p">(</span><span class="n">works</span> <span class="n">fine</span> <span class="n">in</span> <span class="n">most</span> <span class="n">cases</span> <span class="n">but</span> <span class="k">not</span> <span class="k">for</span> <span class="p">&#39;</span><span class="n">people</span><span class="p">&#39;)</span>
    <span class="p">&#39;</span><span class="n">titulo</span><span class="p">&#39;</span><span class="o">:</span> <span class="p">&#39;</span><span class="n">persona</span><span class="p">&#39;,</span>

    <span class="p">#</span> <span class="n">by</span> <span class="k">default</span> <span class="n">the</span> <span class="n">standard</span> <span class="n">item</span> <span class="n">entry</span> <span class="n">point</span> <span class="n">is</span> <span class="n">defined</span> <span class="n">as</span>
    <span class="p">#</span> <span class="p">&#39;</span><span class="o">/</span><span class="n">people</span><span class="o">/&lt;</span><span class="n">ObjectId</span><span class="o">&gt;</span><span class="p">&#39;.</span> <span class="n">We</span> <span class="n">leave</span> <span class="n">it</span> <span class="n">untouched</span><span class="p">,</span> <span class="k">and</span> <span class="n">we</span> <span class="n">also</span> <span class="n">enable</span> <span class="n">an</span>
    <span class="p">#</span> <span class="n">additional</span> <span class="n">read</span><span class="o">-</span><span class="n">only</span> <span class="n">entry</span> <span class="n">point</span><span class="p">.</span> <span class="n">This</span> <span class="n">way</span> <span class="n">consumers</span> <span class="n">can</span> <span class="n">also</span> <span class="n">perform</span>
    <span class="p">#</span> <span class="n">GET</span> <span class="n">requests</span> <span class="n">at</span> <span class="p">&#39;</span><span class="o">/</span><span class="n">people</span><span class="o">/&lt;</span><span class="n">lastname</span><span class="o">&gt;</span><span class="p">&#39;.</span>
    <span class="p">&#39;</span><span class="n">additional_lookup</span><span class="p">&#39;</span><span class="o">:</span> <span class="p">{</span>
        <span class="p">&#39;</span><span class="n">url</span><span class="p">&#39;</span><span class="o">:</span> <span class="p">&#39;</span><span class="n">regex</span><span class="p">(</span><span class="s">&quot;[\w]+&quot;</span><span class="p">)&#39;,</span>
        <span class="p">&#39;</span><span class="n">field</span><span class="p">&#39;</span><span class="o">:</span> <span class="p">&#39;</span><span class="n">apellido</span><span class="p">&#39;</span>
    <span class="p">},</span>

    <span class="p">#</span> <span class="n">We</span> <span class="n">choose</span> <span class="n">to</span> <span class="n">override</span> <span class="n">global</span> <span class="n">cache</span><span class="o">-</span><span class="n">control</span> <span class="n">directives</span> <span class="k">for</span> <span class="n">this</span> <span class="n">resource</span><span class="p">.</span>
    <span class="p">&#39;</span><span class="n">cache_control</span><span class="p">&#39;</span><span class="o">:</span> <span class="p">&#39;</span><span class="n">max</span><span class="o">-</span><span class="n">age</span><span class="o">=</span><span class="mh">10</span><span class="p">,</span><span class="n">must</span><span class="o">-</span><span class="n">revalidate</span><span class="p">&#39;,</span>
    <span class="p">&#39;</span><span class="n">cache_expires</span><span class="p">&#39;</span><span class="o">:</span> <span class="mh">10</span><span class="p">,</span>

    <span class="p">#</span> <span class="n">most</span> <span class="n">global</span> <span class="n">settings</span> <span class="n">can</span> <span class="n">be</span> <span class="n">overridden</span> <span class="n">at</span> <span class="n">resource</span> <span class="n">level</span>
    <span class="p">&#39;</span><span class="n">resource_methods</span><span class="p">&#39;</span><span class="o">:</span> <span class="p">[&#39;</span><span class="n">GET</span><span class="p">&#39;,</span> <span class="p">&#39;</span><span class="n">POST</span><span class="p">&#39;],</span>

    <span class="p">&#39;</span><span class="n">schema</span><span class="p">&#39;</span><span class="o">:</span> <span class="n">schema</span>
<span class="p">}</span>
</code></pre></div>

<p>Por último se define el recurso como un dominio, el recurso persona toma la definición dada anteriormente:</p>
<div class="highlight"><pre><span></span><code><span class="err">DOMAIN = {</span>
<span class="err">    &#39;persona&#39;: persona,</span>
<span class="err">}</span>
</code></pre></div>

<p>Con robomongo se puede observar que ya se tiene dos documentos agregados a la colección persona de la base de datos eve:</p>
<p><img alt="" src="./images/apirestfulconeve2-1.png"></p>
<p>Se consulta vía GET a http://127.0.0.1:500 por medio de la extensión de google chrome restclient:</p>
<p><img alt="" src="./images/apirestfulconeve2-2.png"></p>
<p>Al hacer una consulta GET a http://127.0.0.1:5000/persona se tiene lo siguiente:</p>
<p><img alt="" src="./images/apirestfulconeve2-3.png"></p>
<p><img alt="" src="./images/apirestfulconeve2-4.png"></p>
<p>Desde la línea de comandos se agregará dos documentos, se usará curl para ello:</p>
<div class="highlight"><pre><span></span><code><span class="err">curl -d &#39;[{&quot;nombre&quot;: &quot;Ernesto&quot;, &quot;apellido&quot;: &quot;Crespo&quot;}, {&quot;nombre&quot;: &quot;Argimiro&quot;, &quot;apellido&quot;: &quot;Crespo&quot;}]&#39; -H &#39;Content-Type: application/json&#39;  http://127.0.0.1:5000/persona</span>
</code></pre></div>

<p>Al ejecutar devuelve lo siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="err">{</span>
<span class="err">   &quot;_status&quot;: &quot;OK&quot;,</span>
<span class="err">   &quot;_items&quot;: [</span>
<span class="err">      {</span>
<span class="err">         &quot;_updated&quot;: &quot;Mon, 08 Feb 2016 03:34:41 GMT&quot;,</span>
<span class="err">         &quot;_links&quot;: {</span>
<span class="err">            &quot;self&quot;: {</span>
<span class="err">               &quot;href&quot;: &quot;persona/56b80cd146b4402633320fd5&quot;,</span>
<span class="err">               &quot;title&quot;: &quot;Persona&quot;</span>
<span class="err">            }</span>
<span class="err">         },</span>
<span class="err">         &quot;_created&quot;: &quot;Mon, 08 Feb 2016 03:34:41 GMT&quot;,</span>
<span class="err">         &quot;_status&quot;: &quot;OK&quot;,</span>
<span class="err">         &quot;_id&quot;: &quot;56b80cd146b4402633320fd5&quot;,</span>
<span class="err">         &quot;_etag&quot;: &quot;cb32857db339920319adeb23b29359936c92680f&quot;</span>
<span class="err">      },</span>
<span class="err">      {</span>
<span class="err">         &quot;_updated&quot;: &quot;Mon, 08 Feb 2016 03:34:41 GMT&quot;,</span>
<span class="err">         &quot;_links&quot;: {</span>
<span class="err">            &quot;self&quot;: {</span>
<span class="err">               &quot;href&quot;: &quot;persona/56b80cd146b4402633320fd6&quot;,</span>
<span class="err">               &quot;title&quot;: &quot;Persona&quot;</span>
<span class="err">            }</span>
<span class="err">         },</span>
<span class="err">         &quot;_created&quot;: &quot;Mon, 08 Feb 2016 03:34:41 GMT&quot;,</span>
<span class="err">         &quot;_status&quot;: &quot;OK&quot;,</span>
<span class="err">         &quot;_id&quot;: &quot;56b80cd146b4402633320fd6&quot;,</span>
<span class="err">         &quot;_etag&quot;: &quot;c14c62e94c88dd227ccffaf5c248f18492040ee2&quot;</span>
<span class="err">      }</span>
<span class="err">   ]</span>
<span class="err">}</span>
</code></pre></div>

<p>Al revisar la base de datos mongodb se tiene que se insertaron dos documentos:</p>
<p><img alt="" src="./images/apirestfulconeve2-5.png"></p>
<h2></h2>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
            </div>
            <div class="post_list">
                <span>By </span>
                <a href="https://ecrespo.github.io/author/ernesto-crespo.html">@Ernesto Crespo</a>
                <span> in </span>
                <span class="post_category"><a href="https://ecrespo.github.io/category/tutorial-python.html" rel="bookmark"
                                               title="Permalink to Tutorial Python">[ Tutorial Python ]</a></span>
                <span class="post_date">dom 07 febrero 2016</span>
                <div><span>Tags : </span>
                            <span><a href="https://ecrespo.github.io/tag/debian.html">#Debian, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/linux.html">#Linux, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/python.html">#Python, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/ubuntu.html">#Ubuntu, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/api-restfull.html">#API Restfull, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/eve.html">#Eve, </a></span>
                </div>

                <div class="entry-social">
                    <span class="twitter"><a target="_blank" rel="nofollow"
                                             onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;"
                                             title="Twitter"
                                             href="https://twitter.com/share?url=https://ecrespo.github.io/api-rest-ful-con-eve-parte-2.html&text=API rest ful con Eve (parte 2)&via="><img
                            src="https://ecrespo.github.io/theme/images/icons/twitter-s.png"></a></span>

                    <span class="gplus"><a target="_blank" title="Google +"
                                           href="https://plus.google.com/share?url=https://ecrespo.github.io/api-rest-ful-con-eve-parte-2.html&hl=fr"
                                           rel="nofollow"
                                           onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/google-s.png"></a></span>

                    <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow"
                                              onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;"
                                              href="https://www.facebook.com/sharer.php?u=https://ecrespo.github.io/api-rest-ful-con-eve-parte-2.html&t=API rest ful con Eve (parte 2)"><img
                            src="https://ecrespo.github.io/theme/images/icons/facebook-s.png"></a></span>

                    <a target="_blank" title="Linkedin"
                       href="https://www.linkedin.com/shareArticle?mini=true&url=https://ecrespo.github.io/api-rest-ful-con-eve-parte-2.html&title=API rest ful con Eve (parte 2)"
                       rel="nofollow"
                       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/linkedin-s.png"></a>

                    <span class="mail"><a
                            href="mailto:?subject=API rest ful con Eve (parte 2)&amp;body=Viens découvrir un article à propos de [API rest ful con Eve (parte 2)] sur le site de Ernesto Crespo. https://ecrespo.github.io/api-rest-ful-con-eve-parte-2.html"
                            title="Share by Email" target="_blank"><img
                            src="https://ecrespo.github.io/theme/images/icons/mail-s.png"></a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Comments !</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "api-rest-ful-con-eve-parte-2.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://https://seraphto.disqus.com.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
            Blog powered by <a href="http://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="http://python.org">Python</a>.
            Theme <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> by <a
                href="https://parbhatpuri.com/">@parbhat</a>.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-131517246-1']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>