<!doctype html>
<html lang="es" itemscope itemtype="http://schema.org/Person">
<head>
            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>Crear un registro de imágenes Docker privado.</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Ernesto Crespo">

        <link rel="shortcut icon" href="">

        <!-- schema.org -->
        <meta itemprop="name" content="Página de Seraph">
        <meta itemprop="image" content="">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Página de Seraph ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="">
        <meta name="twitter:image" content="">

    <meta name="twitter:creator" content="">
    <meta name="twitter:url" content="https://ecrespo.github.io/crear-un-registro-de-imagenes-docker-privado.html">
    <meta name="twitter:title" content="Página de Seraph ~ Crear un registro de imágenes Docker privado.">
    <meta name="twitter:description" content="Por ahí he leído toda la infraestructura que es necesaria instalar para tener un sistema de registro privado de imágenes de Docker. Pero no, usemos Docker!!! Con esta idea se puede bajar una imagen del registro de Docker del siguiente enlace. Antes de continuar les dejaré la lista de artículos …">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="Página de Seraph ~ Crear un registro de imágenes Docker privado."/>
    <meta property="og:description" content="Por ahí he leído toda la infraestructura que es necesaria instalar para tener un sistema de registro privado de imágenes de Docker. Pero no, usemos Docker!!! Con esta idea se puede bajar una imagen del registro de Docker del siguiente enlace. Antes de continuar les dejaré la lista de artículos …"/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <!--<center><a href="https://ecrespo.github.io"><img id="avatar" src=""></a></center>-->
    <h1>Página de Seraph</h1>
    <br>


    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="/archives.html">Archives</a></li>
                <li><a class="nav__link" href="/categories.html">Categories</a></li>
                <li><a class="nav__link" href="/tags.html">Tags</a></li>

                <li><a class="nav__link" href="https://ecrespo.github.io/pages/About.html">Acerca</a></li>
                <li><a class="nav__link" href="https://ecrespo.github.io/pages/Contacto.html">Contacto</a></li>

        </ul>
    </nav>

    <p class="social">
                <a href="https://medium.com/@_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/medium.png"></a>
                <a href="http://ve.linkedin.com/in/ernestocrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/linkedin.png"></a>
                <a href="https://github.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/github.png"></a>
                <a href="https://google.com/+ErnestoCrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/google.png"></a>
                <a href="https://twitter.com/_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/twitter.png"></a>
                <a href="https://www.facebook.com/ernesto.crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/facebook.png"></a>
                <a href="https://gitlab.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/gitlab.png"></a>
                <a href="https://soundcloud.com/ernesto-crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/soundcloud.png"></a>
                <a href="//www.seraph.to/feeds/all.atom.xml" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
            <a href="https://ecrespo.github.io/feeds/all.atom.xml" rel="alternate">
                <img src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
    </p>

        <h2>Categories</h2>
        <ul class="navbar">
                <li><a
                        href="https://ecrespo.github.io/category/accesibilidad.html">Accesibilidad</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncio.html">Anuncio</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncios.html">Anuncios</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/aplicacion-android.html">Aplicación Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/asterisk-debian-linux.html">Asterisk, Debian, Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla.html">Charla</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla-python.html">Charla Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-linux-mac-book.html">Debian, Linux, Mac Book</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-maemo-nokia-n810-python.html">Debian, maemo, Nokia N810, Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/demostracion-aplicacion-para-android.html">Demostración Aplicación para Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/desarrollomovil.html">Desarrollo,Movil</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/evento.html">Evento</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/general.html">General</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linux.html">Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdebian.html">Linux,Debian</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdesarrollo.html">Linux,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxempaquetado.html">Linux,Empaquetado</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxofimaticadesarrollo.html">Linux,Ofimatica,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/movil-nokia.html">Movil, Nokia</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810.html">Nokia N810</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810-debian-maemo.html">Nokia N810 Debian Maemo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/posts.html">posts</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/resumen-2010.html">Resumen 2010</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/sistemas-operativos.html">Sistemas Operativos</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial.html">Tutorial</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-android.html">Tutorial Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-arduino.html">Tutorial de Arduino</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-data-science.html">Tutorial de Data Science</a></li>
                <li class="active"><a
                        href="https://ecrespo.github.io/category/tutorial-de-docker.html">Tutorial de Docker</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-integracion-continua.html">Tutorial de integración continua</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-linux.html">Tutorial de Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python.html">Tutorial de Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-en-android.html">Tutorial de Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-linux.html">Tutorial de Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-pyqt.html">Tutorial de Python y PyQt</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-debian-bsd-y-python.html">Tutorial Debian BSD y Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux.html">Tutorial Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux-y-python.html">Tutorial Linux y Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-en-android.html">Tutorial Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-y-linux.html">Tutorial Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorialdesarrollo.html">Tutorial,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/xml-rpcpython.html">XML-RPC,Python</a></li>
        </ul>


</aside>

<!-- Content -->
<article>
    <section id="content">
        <article>
            <h2 class="post_title post_detail"><a href="https://ecrespo.github.io/crear-un-registro-de-imagenes-docker-privado.html" rel="bookmark"
                                                  title="Permalink to Crear un registro de imágenes Docker privado.">Crear un registro de imágenes Docker privado.</a></h2>
            <div class="entry-content blog-post">
                <p>Por ahí he leído toda la infraestructura que es necesaria instalar para tener un sistema de registro privado de imágenes de Docker.</p>
<p>Pero no, usemos Docker!!!</p>
<p>Con esta idea se puede bajar una imagen del registro de Docker del siguiente <a href="https://hub.docker.com/_/registry/">enlace</a>.</p>
<p>Antes de continuar les dejaré la lista de artículos sobre Docker que he tocado en el blog:</p>
<ol>
<li>
<p><a href="https://www.seraph.to/instalar-docker-en-debian-jessie.html">Instalar Docker en Debian Jessie</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-1.html">Uso de Docker en Debian Jessie (parte 1)</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-2.html">Uso de Docker en Debian Jessie (parte 2)</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/crear-una-imagen-docker-a-partir-de-un-archivo-dockerfile.html">Crear una imagen Docker a partir de un archivo Dockerfile</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/iniciando-django-usando-docker.html">Iniciando Django usando Docker</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/instalar-gitlab-por-medio-de-docker.html">Instalar Gitlab por medio de Docker</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/ejecutando-micros-servicios-con-docker-usando-docker-compose.html">Ejecutando microservicios con docker usando docker-compose</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/docker-en-docker-dind.html">Docker en Docker (DinD)</a></p>
</li>
<li>
<p><a href="https://www.seraph.to/iniciando-django-con-docker-usando-docker-compose-con-postgresql-como-microservicio.html">Iniciando Django con docker usando docker-compose con postgresql como microservicio.</a></p>
</li>
<li>
<p><a href="https://www.seraph.to/importar-un-contenedor-docker-en-python.html#importar-un-contenedor-docker-en-python">Importar un contenedor Docker en Python.</a> </p>
</li>
<li>
<p><a href="https://www.seraph.to/compartir-imagenes-docker-por-medio-de-archivos-tar.html#compartir-imagenes-docker-por-medio-de-archivos-tar">Compartir imagenes Docker por medio de archivos tar</a>.</p>
</li>
</ol>
<p>Lo primero que se hará es bajar la imagen Docker del registro, se tiene la versión oficial que es la 2 o la última.</p>
<div class="highlight"><pre><span></span><code><span class="err">$docker pull registry:2</span>
</code></pre></div>

<p>ó</p>
<div class="highlight"><pre><span></span><code><span class="err">$docker pull registry</span>
</code></pre></div>

<p>Se inicia el contenedor en el puerto 5000:</p>
<div class="highlight"><pre><span></span><code>$ docker run -d -p <span class="m">5000</span>:5000 registry:2 
3c0719746d75f46220328c08209b3e716c8e883ad6f3df7bbae0d70e50656a45
</code></pre></div>

<p>Para verificar que el registro está corriendo se prueba con curl conectarse a localhost al puerto 5000 a v2/:</p>
<div class="highlight"><pre><span></span><code>$ curl -i http://localhost:5000/v2/
HTTP/1.1 <span class="m">200</span> OK
Content-Length: <span class="m">2</span>
Content-Type: application/json<span class="p">;</span> <span class="nv">charset</span><span class="o">=</span>utf-8
Docker-Distribution-Api-Version: registry/2.0
X-Content-Type-Options: nosniff
Date: Thu, <span class="m">25</span> Feb <span class="m">2016</span> <span class="m">18</span>:40:25 GMT
</code></pre></div>

<p>Ahora se puede probar subir una imagen al sistema privado de registro, se prueba con <code>busybox</code>:</p>
<p>Se crea un tag:</p>
<div class="highlight"><pre><span></span><code><span class="err">$docker tag busybox localhost:5000/busy</span>
</code></pre></div>

<p>Se sube la imagen:</p>
<div class="highlight"><pre><span></span><code>$ docker push localhost:5000/busy
The push refers to a repository <span class="o">[</span>localhost:5000/busy<span class="o">]</span>
5f70bf18a086: Pushed 
9508eff2c687: Pushed 
latest: digest: sha256:b58c00d636b25f40fc7605b1b807af81c1a79a7bbb2179b4753b9dc7e0d1dcd7 size: <span class="m">711</span>
</code></pre></div>

<p>Para poder acceder de manera insegura al registro privado se tiene que modificar el archivo <code>/etc/default/docker</code> y agregar la siguiente línea (tomar en cuenta que el contenedor está corriendo en localhost):</p>
<div class="highlight"><pre><span></span><code><span class="err">DOCKER_OPTS=&quot;--insecure-registry localhost:5000&quot;</span>
</code></pre></div>

<p>Se reinicia el servicio de docker:</p>
<div class="highlight"><pre><span></span><code><span class="err"># service docker restart</span>
</code></pre></div>

<p>Para más información de las opciones del registro de Docker pueden revisar el siguiente <a href="https://github.com/docker/distribution">enlace</a>.</p>
<p>Para revisar las imagenes almacenadas en el sistema de registro privado se ejecuta:</p>
<div class="highlight"><pre><span></span><code><span class="err">curl http://localhost:5000/v2/_catalog</span>
<span class="err">{&quot;repositories&quot;:[&quot;busy&quot;]}</span>
</code></pre></div>

<p><img alt="" src="./images/crearunregistrodeimagenesdockerprivado-1.png"></p>
<p>El catalogo muestra que se tiene la imagen busy.</p>
<p>Se puede crear otra tag de <code>busybox</code> con nombre <code>busy1</code> y se sube al servidor:</p>
<div class="highlight"><pre><span></span><code><span class="err">$</span><span class="n">docker</span> <span class="n">tag</span> <span class="n">busybox</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">busy1</span>

<span class="err">$</span> <span class="n">docker</span> <span class="n">push</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">busy1</span>
<span class="n">The</span> <span class="n">push</span> <span class="n">refers</span> <span class="k">to</span> <span class="n">a</span> <span class="n">repository</span> <span class="p">[</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">busy1</span><span class="p">]</span>
<span class="mi">5</span><span class="n">f70bf18a086</span><span class="p">:</span> <span class="n">Mounted</span> <span class="k">from</span> <span class="n">busy</span> 
<span class="mi">9508</span><span class="n">eff2c687</span><span class="p">:</span> <span class="n">Mounted</span> <span class="k">from</span> <span class="n">busy</span> 
<span class="n">latest</span><span class="p">:</span> <span class="n">digest</span><span class="p">:</span> <span class="n">sha256</span><span class="p">:</span><span class="n">b58c00d636b25f40fc7605b1b807af81c1a79a7bbb2179b4753b9dc7e0d1dcd7</span> <span class="k">size</span><span class="p">:</span> <span class="mi">711</span>
</code></pre></div>

<p>Al volver a consultar el catalogo se tienen dos imagenes:</p>
<div class="highlight"><pre><span></span><code><span class="err">$curl http://localhost:5000/v2/_catalog</span>
<span class="err">{&quot;repositories&quot;:[&quot;busy&quot;,&quot;busy1&quot;]}</span>
</code></pre></div>

<p>Cada imagen tiene un manifiesto:</p>
<div class="highlight"><pre><span></span><code><span class="err">$</span><span class="n">curl</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">v2</span><span class="o">/</span><span class="n">busy1</span><span class="o">/</span><span class="n">manifests</span><span class="o">/</span><span class="n">latest</span>

<span class="err">$</span> <span class="n">curl</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">v2</span><span class="o">/</span><span class="n">busy1</span><span class="o">/</span><span class="n">manifests</span><span class="o">/</span><span class="n">latest</span>
<span class="err">{</span>
   <span class="ss">&quot;schemaVersion&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
   <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;busy1&quot;</span><span class="p">,</span>
   <span class="ss">&quot;tag&quot;</span><span class="p">:</span> <span class="ss">&quot;latest&quot;</span><span class="p">,</span>
   <span class="ss">&quot;architecture&quot;</span><span class="p">:</span> <span class="ss">&quot;amd64&quot;</span><span class="p">,</span>
   <span class="ss">&quot;fsLayers&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="err">{</span>
         <span class="ss">&quot;blobSum&quot;</span><span class="p">:</span> <span class="ss">&quot;sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4&quot;</span>
      <span class="err">}</span><span class="p">,</span>
      <span class="err">{</span>
         <span class="ss">&quot;blobSum&quot;</span><span class="p">:</span> <span class="ss">&quot;sha256:d7e8ec85c5abc60edf74bd4b8d68049350127e4102a084f22060f7321eac3586&quot;</span>
      <span class="err">}</span>
   <span class="p">],</span>
   <span class="ss">&quot;history&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="err">{</span>
         <span class="ss">&quot;v1Compatibility&quot;</span><span class="p">:</span> <span class="ss">&quot;{\&quot;</span><span class="n">architecture</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="n">amd64</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">config</span><span class="err">\</span><span class="ss">&quot;:{\&quot;</span><span class="n">Hostname</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="n">ea7fe68f39fd</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">Domainname</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="k">User</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">Memory</span><span class="err">\</span><span class="ss">&quot;:0,\&quot;</span><span class="n">MemorySwap</span><span class="err">\</span><span class="ss">&quot;:0,\&quot;</span><span class="n">CpuShares</span><span class="err">\</span><span class="ss">&quot;:0,\&quot;</span><span class="n">Cpuset</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">AttachStdin</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">AttachStdout</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">AttachStderr</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">PortSpecs</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">ExposedPorts</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">Tty</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">OpenStdin</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">StdinOnce</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">Env</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">Cmd</span><span class="err">\</span><span class="ss">&quot;:[\&quot;</span><span class="n">sh</span><span class="err">\</span><span class="ss">&quot;],\&quot;</span><span class="n">Image</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="mi">5</span><span class="n">c5fb281b01ee091a0fffa5b4a4c7fb7d358e7fb7c49c263d6d7a4e35d199fd0</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">Volumes</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">WorkingDir</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">Entrypoint</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">NetworkDisabled</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">MacAddress</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">OnBuild</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">Labels</span><span class="err">\</span><span class="ss">&quot;:null},\&quot;</span><span class="n">container</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="n">f63d86f7f85b3207532327b6e484bf09d8a0d1a0979cf7bdce1bd5268666fdd3</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">container_config</span><span class="err">\</span><span class="ss">&quot;:{\&quot;</span><span class="n">Hostname</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="n">ea7fe68f39fd</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">Domainname</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="k">User</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">Memory</span><span class="err">\</span><span class="ss">&quot;:0,\&quot;</span><span class="n">MemorySwap</span><span class="err">\</span><span class="ss">&quot;:0,\&quot;</span><span class="n">CpuShares</span><span class="err">\</span><span class="ss">&quot;:0,\&quot;</span><span class="n">Cpuset</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">AttachStdin</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">AttachStdout</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">AttachStderr</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">PortSpecs</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">ExposedPorts</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">Tty</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">OpenStdin</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">StdinOnce</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">Env</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">Cmd</span><span class="err">\</span><span class="ss">&quot;:[\&quot;</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="o">-</span><span class="k">c</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="o">#</span><span class="p">(</span><span class="n">nop</span><span class="p">)</span> <span class="n">CMD</span> <span class="p">[</span><span class="err">\\\</span><span class="ss">&quot;sh\\\&quot;</span><span class="p">]</span><span class="err">\</span><span class="ss">&quot;],\&quot;</span><span class="n">Image</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="mi">5</span><span class="n">c5fb281b01ee091a0fffa5b4a4c7fb7d358e7fb7c49c263d6d7a4e35d199fd0</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">Volumes</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">WorkingDir</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">Entrypoint</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">NetworkDisabled</span><span class="err">\</span><span class="ss">&quot;:false,\&quot;</span><span class="n">MacAddress</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">OnBuild</span><span class="err">\</span><span class="ss">&quot;:null,\&quot;</span><span class="n">Labels</span><span class="err">\</span><span class="ss">&quot;:null},\&quot;</span><span class="n">created</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="mi">2015</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">08</span><span class="n">T18</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">51</span><span class="p">.</span><span class="mi">481948133</span><span class="n">Z</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">docker_version</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="mi">1</span><span class="p">.</span><span class="mi">8</span><span class="p">.</span><span class="mi">3</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">id</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="n">a997905216262e309de0dccc4c8ed39ee475a9d0e6b3f3c3a40b4ccf28af9b15</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">os</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="n">linux</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">parent</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="mi">3</span><span class="n">d030bd4e34f5ed0b05de21a56503d80881fb1464afdde1c06a2b39c59260a22</span><span class="err">\</span><span class="ss">&quot;}&quot;</span>
      <span class="err">}</span><span class="p">,</span>
      <span class="err">{</span>
         <span class="ss">&quot;v1Compatibility&quot;</span><span class="p">:</span> <span class="ss">&quot;{\&quot;</span><span class="n">id</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="mi">3</span><span class="n">d030bd4e34f5ed0b05de21a56503d80881fb1464afdde1c06a2b39c59260a22</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">created</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="mi">2015</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">08</span><span class="n">T18</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">50</span><span class="p">.</span><span class="mi">979824705</span><span class="n">Z</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">container_config</span><span class="err">\</span><span class="ss">&quot;:{\&quot;</span><span class="n">Cmd</span><span class="err">\</span><span class="ss">&quot;:[\&quot;</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="k">c</span> <span class="o">#</span><span class="p">(</span><span class="n">nop</span><span class="p">)</span> <span class="k">ADD</span> <span class="n">file</span><span class="p">:</span><span class="n">c295b0748bf05d4527f500b62ff269bfd0037f7515f1375d2ee474b830bad382</span> <span class="k">in</span> <span class="o">/</span><span class="err">\</span><span class="ss">&quot;]}}&quot;</span>
      <span class="err">}</span>
   <span class="p">],</span>
   <span class="ss">&quot;signatures&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="err">{</span>
         <span class="ss">&quot;header&quot;</span><span class="p">:</span> <span class="err">{</span>
            <span class="ss">&quot;jwk&quot;</span><span class="p">:</span> <span class="err">{</span>
               <span class="ss">&quot;crv&quot;</span><span class="p">:</span> <span class="ss">&quot;P-256&quot;</span><span class="p">,</span>
               <span class="ss">&quot;kid&quot;</span><span class="p">:</span> <span class="ss">&quot;FO3A:MIWL:JVJW:5O62:N7RK:GZXL:ACGC:WRUQ:PM4P:FVDL:PBAQ:X3IG&quot;</span><span class="p">,</span>
               <span class="ss">&quot;kty&quot;</span><span class="p">:</span> <span class="ss">&quot;EC&quot;</span><span class="p">,</span>
               <span class="ss">&quot;x&quot;</span><span class="p">:</span> <span class="ss">&quot;8eTT88WGU5NVLCrp5qGa4cO_nCo00e1L-eNLKF_0eeE&quot;</span><span class="p">,</span>
               <span class="ss">&quot;y&quot;</span><span class="p">:</span> <span class="ss">&quot;QwgEYEkJDxz4vihT3Mc6OitZ9uraF_TwbfpvZm72dJ8&quot;</span>
            <span class="err">}</span><span class="p">,</span>
            <span class="ss">&quot;alg&quot;</span><span class="p">:</span> <span class="ss">&quot;ES256&quot;</span>
         <span class="err">}</span><span class="p">,</span>
         <span class="ss">&quot;signature&quot;</span><span class="p">:</span> <span class="ss">&quot;LkmuupCii3CgtJKkKbasvkKc1jo7V0rZP9k4EFXuVMQL08-7n8s8TWzNB_Wx8oTv4qMb-Bpqhv3A2jdemu6eSA&quot;</span><span class="p">,</span>
         <span class="ss">&quot;protected&quot;</span><span class="p">:</span> <span class="ss">&quot;eyJmb3JtYXRMZW5ndGgiOjIyMTQsImZvcm1hdFRhaWwiOiJDbjAiLCJ0aW1lIjoiMjAxNi0wMi0yNVQxOToxNjoxNFoifQ&quot;</span>
      <span class="err">}</span>
   <span class="p">]</span>
<span class="err">}</span>
</code></pre></div>

<p>Para listar todos los tags de una imagen se tiene:</p>
<div class="highlight"><pre><span></span><code>$ curl http://localhost:5000/v2/busy1/tags/list
<span class="o">{</span><span class="s2">&quot;name&quot;</span>:<span class="s2">&quot;busy1&quot;</span>,<span class="s2">&quot;tags&quot;</span>:<span class="o">[</span><span class="s2">&quot;latest&quot;</span><span class="o">]}</span>
$ curl http://localhost:5000/v2/busy/tags/list
<span class="o">{</span><span class="s2">&quot;name&quot;</span>:<span class="s2">&quot;busy&quot;</span>,<span class="s2">&quot;tags&quot;</span>:<span class="o">[</span><span class="s2">&quot;latest&quot;</span><span class="o">]}</span>
</code></pre></div>

<p>Se puede hacer un pull del sistema de registro local para verificar que la imagen está actualizada:</p>
<div class="highlight"><pre><span></span><code>$ docker pull localhost:5000/busy1
Using default tag: latest
latest: Pulling from busy1
Digest: sha256:b58c00d636b25f40fc7605b1b807af81c1a79a7bbb2179b4753b9dc7e0d1dcd7
Status: Image is up to date <span class="k">for</span> localhost:5000/busy1:latest
</code></pre></div>

<p>Para más información del despliegue del sistema de registro pueden revisar el siguiente <a href="https://docs.docker.com/registry/deploying/">enlace</a>.</p>
<h2></h2>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
            </div>
            <div class="post_list">
                <span>By </span>
                <a href="https://ecrespo.github.io/author/ernesto-crespo.html">@Ernesto Crespo</a>
                <span> in </span>
                <span class="post_category"><a href="https://ecrespo.github.io/category/tutorial-de-docker.html" rel="bookmark"
                                               title="Permalink to Tutorial de Docker">[ Tutorial de Docker ]</a></span>
                <span class="post_date">jue 25 febrero 2016</span>
                <div><span>Tags : </span>
                            <span><a href="https://ecrespo.github.io/tag/linux.html">#Linux, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/docker.html">#Docker, </a></span>
                </div>

                <div class="entry-social">
                    <span class="twitter"><a target="_blank" rel="nofollow"
                                             onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;"
                                             title="Twitter"
                                             href="https://twitter.com/share?url=https://ecrespo.github.io/crear-un-registro-de-imagenes-docker-privado.html&text=Crear un registro de imágenes Docker privado.&via="><img
                            src="https://ecrespo.github.io/theme/images/icons/twitter-s.png"></a></span>

                    <span class="gplus"><a target="_blank" title="Google +"
                                           href="https://plus.google.com/share?url=https://ecrespo.github.io/crear-un-registro-de-imagenes-docker-privado.html&hl=fr"
                                           rel="nofollow"
                                           onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/google-s.png"></a></span>

                    <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow"
                                              onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;"
                                              href="https://www.facebook.com/sharer.php?u=https://ecrespo.github.io/crear-un-registro-de-imagenes-docker-privado.html&t=Crear un registro de imágenes Docker privado."><img
                            src="https://ecrespo.github.io/theme/images/icons/facebook-s.png"></a></span>

                    <a target="_blank" title="Linkedin"
                       href="https://www.linkedin.com/shareArticle?mini=true&url=https://ecrespo.github.io/crear-un-registro-de-imagenes-docker-privado.html&title=Crear un registro de imágenes Docker privado."
                       rel="nofollow"
                       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/linkedin-s.png"></a>

                    <span class="mail"><a
                            href="mailto:?subject=Crear un registro de imágenes Docker privado.&amp;body=Viens découvrir un article à propos de [Crear un registro de imágenes Docker privado.] sur le site de Ernesto Crespo. https://ecrespo.github.io/crear-un-registro-de-imagenes-docker-privado.html"
                            title="Share by Email" target="_blank"><img
                            src="https://ecrespo.github.io/theme/images/icons/mail-s.png"></a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Comments !</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "crear-un-registro-de-imagenes-docker-privado.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://https://seraphto.disqus.com.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
            Blog powered by <a href="http://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="http://python.org">Python</a>.
            Theme <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> by <a
                href="https://parbhatpuri.com/">@parbhat</a>.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-131517246-1']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>