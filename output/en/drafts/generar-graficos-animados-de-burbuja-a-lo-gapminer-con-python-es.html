
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://ecrespo.github.io/en/../theme/pygments/monokai.min.css">


  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/font-awesome/css/solid.css">


    <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Seraph's Blog Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#e5e5ff">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#e5e5ff">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#e5e5ff">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="En febrero de 2013 creé un artículo sobre Cómo hacer gráficos de burbujas con matplotlib, la idea era ver como se generaba una gráfica al estilo de la presentación de Hans Rosling (por cierto, murió en Febrero de 2017). A continuación el vídeo que explica la historia de 200 países …" />
<meta name="keywords" content="Python, Matplotlib, Numpy, Pandas, Visualización, Data Science, Ciencia de Datos, Gapminer">


<meta property="og:site_name" content="Seraph's Blog"/>
<meta property="og:title" content="Generar gráficos animados de burbuja a lo Gapminer con Python"/>
<meta property="og:description" content="En febrero de 2013 creé un artículo sobre Cómo hacer gráficos de burbujas con matplotlib, la idea era ver como se generaba una gráfica al estilo de la presentación de Hans Rosling (por cierto, murió en Febrero de 2017). A continuación el vídeo que explica la historia de 200 países …"/>
<meta property="og:locale" content="es_VE"/>
<meta property="og:url" content="https://ecrespo.github.io/en/drafts/generar-graficos-animados-de-burbuja-a-lo-gapminer-con-python-es.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2018-10-06 09:00:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ecrespo.github.io/en/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial Python"/>
<meta property="article:tag" content="Python"/>
<meta property="article:tag" content="Matplotlib"/>
<meta property="article:tag" content="Numpy"/>
<meta property="article:tag" content="Pandas"/>
<meta property="article:tag" content="Visualización"/>
<meta property="article:tag" content="Data Science"/>
<meta property="article:tag" content="Ciencia de Datos"/>
<meta property="article:tag" content="Gapminer"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Seraph's Blog &ndash; Generar gráficos animados de burbuja a lo Gapminer con Python</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "pub-0261001661746989",
      enable_page_level_ads: true
    });
  </script>
</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://ecrespo.github.io/en">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>

      <h1>
        <a href="https://ecrespo.github.io/en">Ernesto Crespo</a>
      </h1>

<p>Data Scientist </p>

      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="https://ecrespo.github.io/en/pages/About.html#About">
                  Acerca
                </a>
              </li>
              <li>
                <a target="_self"
                   href="https://ecrespo.github.io/en/pages/Contacto.html#Contacto">
                  Contacto
                </a>
              </li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
              <i class="fab fa-medium"></i>
            </a>
          </li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
              <i class="fab fa-google"></i>
            </a>
          </li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
              <i class="fab fa-facebook"></i>
            </a>
          </li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
              <i class="fab fa-gitlab"></i>
            </a>
          </li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
              <i class="fab fa-soundcloud"></i>
            </a>
          </li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
              <i class="fas fa-rss"></i>
            </a>
          </li>
      </ul>
    </div>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-aside"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234561"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
  </aside>
  <main>
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-responsive"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234562"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

    <nav>
      <a href="https://ecrespo.github.io/en">Home</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ecrespo.github.io/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="generar-graficos-animados-de-burbuja-a-lo-gapminer-con-python">Generar gráficos animados de burbuja a lo Gapminer con Python</h1>
    <p>
      Posted on sáb 06 octubre 2018 in <a href="https://ecrespo.github.io/en/category/tutorial-python.html">Tutorial Python</a>

        &#8226; 3 min read
    </p>
  </header>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234565"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

  <div>
    <p>En febrero de 2013 creé un artículo sobre <a href="https://www.seraph.to/creacion-de-grafico-de-burbujas-con-matplotlib.html">Cómo hacer gráficos de burbujas con matplotlib</a>, la idea era ver como se generaba una gráfica al estilo de la presentación de <a href="https://es.wikipedia.org/wiki/Hans_Rosling">Hans Rosling</a> (por cierto, murió en Febrero de 2017).</p>
<p>A continuación el vídeo que explica la historia de 200 países en 200 años, la esperanza de vida y calidad de vida.</p>
<p><a href="https://youtu.be/P2QHAbl45jc" title="https://youtu.be/P2QHAbl45jc">https://youtu.be/P2QHAbl45jc</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/P2QHAbl45jc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>O su charla TED sobre  sobre las mejores estadísticas que nunca haz visto:</p>
<p><a href="https://youtu.be/hVimVzgtD6w" title="https://youtu.be/hVimVzgtD6w">https://youtu.be/hVimVzgtD6w</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/hVimVzgtD6w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>En el artículo que menciono se usó el conjunto de datos de la rata de criminalidad por estado de Estados Unidos del año 2005. Pero sólo mostraba la información y no la variación en el tiempo.</p>
<p>Este artículo se basa en el siguiente tutorial <a href="https://python-graph-gallery.com/341-python-gapminder-animation/">Python Gapminer Animation</a>.</p>
<p>A continuación se muestra el código del script vía notebook de <code>jupyter</code>:</p>
<p><a href="https://python-graph-gallery.com/341-python-gapminder-animation/">https://python-graph-gallery.com/341-python-gapminder-animation/</a></p>
<p>In [1]:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="c1">#Se importa las librerias matplitlib, numpy, pandas, seaborn</span></span></span>
<span class="code-line"><span class="code-line"><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span></span></span>
<span class="code-line"><span class="code-line"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span></span></span>
<span class="code-line"><span class="code-line"><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">my_dpi</span><span class="o">=</span><span class="mi">96</span></span></span>
</pre></div>


<p>In [2]:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="c1"># Se obtiene los datos en formato csv  y se convierte en un dataframe</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://python-graph-gallery.com/wp-content/uploads/gapminderData.csv&#39;</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></span></span>
</pre></div>


<p>In [3]:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="c1">#Se muestra el data frame</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span></span></span>
</pre></div>


<p>Out[3]:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="center">country</th>
<th align="center">year</th>
<th align="center">pop</th>
<th align="center">continent</th>
<th align="left">lifeExp</th>
<th align="center">gdpPercap</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">0</td>
<td align="center">Afghanistan</td>
<td align="center">1952</td>
<td align="center">8425333.0</td>
<td align="center">Asia</td>
<td align="left">28.801</td>
<td align="center">779.445314</td>
</tr>
<tr>
<td align="left">1</td>
<td align="center">Afghanistan</td>
<td align="center">1957</td>
<td align="center">9240934.0</td>
<td align="center">Asia</td>
<td align="left">30.332</td>
<td align="center">820.853030</td>
</tr>
<tr>
<td align="left">2</td>
<td align="center">Afghanistan</td>
<td align="center">1962</td>
<td align="center">10267083.0</td>
<td align="center">Asia</td>
<td align="left">31.997</td>
<td align="center">853.100710</td>
</tr>
<tr>
<td align="left">3</td>
<td align="center">Afghanistan</td>
<td align="center">1967</td>
<td align="center">11537966.0</td>
<td align="center">Asia</td>
<td align="left">34.020</td>
<td align="center">836.197138</td>
</tr>
<tr>
<td align="left">4</td>
<td align="center">Afghanistan</td>
<td align="center">1972</td>
<td align="center">13079460.0</td>
<td align="center">Asia</td>
<td align="left">36.088</td>
<td align="center">739.981106</td>
</tr>
</tbody>
</table>
<p>Tiene las columnas países, año, población, contienen, esperanza de vida y pib percapita
In [4]:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="c1">#Se revisa los tipos de datos de las columnas</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">data</span><span class="o">.</span><span class="n">info</span><span class="p">()</span></span></span>
<span class="code-line"><span class="code-line"><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="s1">&#39;&gt;</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">RangeIndex</span><span class="p">:</span> <span class="mi">1704</span> <span class="n">entries</span><span class="p">,</span> <span class="mi">0</span> <span class="n">to</span> <span class="mi">1703</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Data</span> <span class="n">columns</span> <span class="p">(</span><span class="n">total</span> <span class="mi">6</span> <span class="n">columns</span><span class="p">):</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">country</span>      <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">year</span>         <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="n">int64</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">pop</span>          <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="n">float64</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">continent</span>    <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">lifeExp</span>      <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="n">float64</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">gdpPercap</span>    <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="n">float64</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">dtypes</span><span class="p">:</span> <span class="n">float64</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">int64</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">object</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">memory</span> <span class="n">usage</span><span class="p">:</span> <span class="mf">80.0</span><span class="o">+</span> <span class="n">KB</span></span></span>
</pre></div>


<p>Se observa que la columna continente es del tipo objeto. Se necesita convertir en un tipo categoria.
In [5]:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="c1"># Transformar los datos de la columna continente a categoria.</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">data</span><span class="p">[</span><span class="s1">&#39;continent&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;continent&#39;</span><span class="p">])</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span></span></span>
</pre></div>


<p>Out[5]:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="center">country</th>
<th align="center">year</th>
<th align="center">pop</th>
<th align="center">continent</th>
<th align="left">lifeExp</th>
<th align="center">gdpPercap</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">0</td>
<td align="center">Afghanistan</td>
<td align="center">1952</td>
<td align="center">8425333.0</td>
<td align="center">Asia</td>
<td align="left">28.801</td>
<td align="center">779.445314</td>
</tr>
<tr>
<td align="left">1</td>
<td align="center">Afghanistan</td>
<td align="center">1957</td>
<td align="center">9240934.0</td>
<td align="center">Asia</td>
<td align="left">30.332</td>
<td align="center">820.853030</td>
</tr>
<tr>
<td align="left">2</td>
<td align="center">Afghanistan</td>
<td align="center">1962</td>
<td align="center">10267083.0</td>
<td align="center">Asia</td>
<td align="left">31.997</td>
<td align="center">853.100710</td>
</tr>
<tr>
<td align="left">3</td>
<td align="center">Afghanistan</td>
<td align="center">1967</td>
<td align="center">11537966.0</td>
<td align="center">Asia</td>
<td align="left">34.020</td>
<td align="center">836.197138</td>
</tr>
<tr>
<td align="left">4</td>
<td align="center">Afghanistan</td>
<td align="center">1972</td>
<td align="center">13079460.0</td>
<td align="center">Asia</td>
<td align="left">36.088</td>
<td align="center">739.981106</td>
</tr>
</tbody>
</table>
<p>In [6]:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="c1">#Se vuelve a revisar los tipos de las columnas y ahora se tiene que contienen es categoria</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">data</span><span class="o">.</span><span class="n">info</span><span class="p">()</span></span></span>
<span class="code-line"><span class="code-line"><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="s1">&#39;&gt;</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">RangeIndex</span><span class="p">:</span> <span class="mi">1704</span> <span class="n">entries</span><span class="p">,</span> <span class="mi">0</span> <span class="n">to</span> <span class="mi">1703</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Data</span> <span class="n">columns</span> <span class="p">(</span><span class="n">total</span> <span class="mi">6</span> <span class="n">columns</span><span class="p">):</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">country</span>      <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">year</span>         <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="n">int64</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">pop</span>          <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="n">float64</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">continent</span>    <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="n">category</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">lifeExp</span>      <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="n">float64</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">gdpPercap</span>    <span class="mi">1704</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="n">float64</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">dtypes</span><span class="p">:</span> <span class="n">category</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">float64</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">int64</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">object</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line"><span class="n">memory</span> <span class="n">usage</span><span class="p">:</span> <span class="mf">68.5</span><span class="o">+</span> <span class="n">KB</span></span></span>
</pre></div>


<p>Ahora se generará las gráficas por año de experanza de vida y PIB por año, cada gráfica se almacena con su nombre y año a fin de que luego con Image Magick se convierta en un gif animado
In [7]:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="c1"># Por cada año</span></span></span>
<span class="code-line"><span class="code-line"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span></span></span>
<span class="code-line"><span class="code-line">    <span class="c1"># inicializa la figura</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">680</span><span class="o">/</span><span class="n">my_dpi</span><span class="p">,</span> <span class="mi">480</span><span class="o">/</span><span class="n">my_dpi</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="n">my_dpi</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line">    <span class="c1"># se cambia de color con c y alpha, se mapea el color del eje X.</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">tmp</span><span class="o">=</span><span class="n">data</span><span class="p">[</span> <span class="n">data</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="n">i</span> <span class="p">]</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">tmp</span><span class="p">[</span><span class="s1">&#39;lifeExp&#39;</span><span class="p">],</span> <span class="n">tmp</span><span class="p">[</span><span class="s1">&#39;gdpPercap&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">tmp</span><span class="p">[</span><span class="s1">&#39;pop&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">200000</span> <span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">tmp</span><span class="p">[</span><span class="s1">&#39;continent&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Accent&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line">    <span class="c1"># Se agrega el título, y los ejes.</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Experanza de vida&quot;</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;PIB per capita&quot;</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Año: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">)</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="c1"># Se salva el archivo como png, cada archivo por año.</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;Gapminder_step&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.png&#39;</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">96</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span></span></span>
</pre></div>


<p>Se muestra una imagen de las generadas:</p>
<p><img alt="" src="./images/generargraficosanimadosdeburbujaalogapminerconpython-1.png"></p>
<p>Para convertir las imágenes generadas en gif se ejecuta el siguiente comando de image magick:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span> convert -delay 80 Gapminder*.png animated_gapminder.gif</span></span>
</pre></div>


<p>El gif resultante se muestra a continuación:</p>
<p><img alt="" src="./images/generargraficosanimadosdeburbujaalogapminerconpython-2.gif"></p>
<p>En próximo artículo espero encontrar el conjunto de datos del artículo mencionado al inicio para hacerle una animación como el realizado en este artículo.</p>
<h2></h2>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ecrespo.github.io/en/tag/python.html">Python</a>
      <a href="https://ecrespo.github.io/en/tag/matplotlib.html">Matplotlib</a>
      <a href="https://ecrespo.github.io/en/tag/numpy.html">Numpy</a>
      <a href="https://ecrespo.github.io/en/tag/pandas.html">Pandas</a>
      <a href="https://ecrespo.github.io/en/tag/visualizacion.html">Visualización</a>
      <a href="https://ecrespo.github.io/en/tag/data-science.html">Data Science</a>
      <a href="https://ecrespo.github.io/en/tag/ciencia-de-datos.html">Ciencia de Datos</a>
      <a href="https://ecrespo.github.io/en/tag/gapminer.html">Gapminer</a>
    </p>
  </div>


  <div class="neighbors">
  </div>


    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234566"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy; 2022 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Seraph's Blog ",
  "url" : "https://ecrespo.github.io/en",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>


</body>
</html>