
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://ecrespo.github.io/en/../theme/pygments/monokai.min.css">


  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/font-awesome/css/solid.css">


    <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Seraph's Blog Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#e5e5ff">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#e5e5ff">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#e5e5ff">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="Continuando con la serie de tutorial de flask, ahora se explicará el uso de plantillas html. En el primer artículo se explicó como usar docker y docker-compose. La serie de artículos de flask lo pueden revisar en el siguiente enlace. Este artículo se basa en el segundo artículo del blog …" />
<meta name="keywords" content="Python, Docker, Flask">


<meta property="og:site_name" content="Seraph's Blog"/>
<meta property="og:title" content="Tutorial de Flask parte 2 (plantillas html)."/>
<meta property="og:description" content="Continuando con la serie de tutorial de flask, ahora se explicará el uso de plantillas html. En el primer artículo se explicó como usar docker y docker-compose. La serie de artículos de flask lo pueden revisar en el siguiente enlace. Este artículo se basa en el segundo artículo del blog …"/>
<meta property="og:locale" content="es_VE"/>
<meta property="og:url" content="https://ecrespo.github.io/en/drafts/tutorial-de-flask-parte-2-plantillas-html-es.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-09-04 09:00:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ecrespo.github.io/en/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial Python"/>
<meta property="article:tag" content="Python"/>
<meta property="article:tag" content="Docker"/>
<meta property="article:tag" content="Flask"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Seraph's Blog &ndash; Tutorial de Flask parte 2 (plantillas html).</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "pub-0261001661746989",
      enable_page_level_ads: true
    });
  </script>
</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://ecrespo.github.io/en">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>

      <h1>
        <a href="https://ecrespo.github.io/en">Ernesto Crespo</a>
      </h1>

<p>Data Scientist </p>

      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="https://ecrespo.github.io/en/pages/About.html#About">
                  Acerca
                </a>
              </li>
              <li>
                <a target="_self"
                   href="https://ecrespo.github.io/en/pages/Contacto.html#Contacto">
                  Contacto
                </a>
              </li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
              <i class="fab fa-medium"></i>
            </a>
          </li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
              <i class="fab fa-google"></i>
            </a>
          </li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
              <i class="fab fa-facebook"></i>
            </a>
          </li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
              <i class="fab fa-gitlab"></i>
            </a>
          </li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
              <i class="fab fa-soundcloud"></i>
            </a>
          </li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
              <i class="fas fa-rss"></i>
            </a>
          </li>
      </ul>
    </div>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-aside"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234561"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
  </aside>
  <main>
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-responsive"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234562"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

    <nav>
      <a href="https://ecrespo.github.io/en">Home</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ecrespo.github.io/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="tutorial-de-flask-parte-2-plantillas-html">Tutorial de Flask parte 2 (plantillas html).</h1>
    <p>
      Posted on dom 04 septiembre 2016 in <a href="https://ecrespo.github.io/en/category/tutorial-python.html">Tutorial Python</a>

        &#8226; 4 min read
    </p>
  </header>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234565"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

  <div>
    <p>Continuando con la serie de tutorial de flask, ahora se explicará el uso de plantillas html.</p>
<p>En el <a href="https://www.seraph.to/tutorial-de-flask-parte-1.html#tutorial-de-flask-parte-1">primer artículo</a> se explicó como usar docker y docker-compose. </p>
<p>La serie de artículos de flask lo pueden revisar en el siguiente <a href="https://www.seraph.to/tag/flask.html">enlace</a>.</p>
<p>Este artículo se basa en el segundo artículo del blog de <a href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ii-templates">Miguel Grinberg</a>.</p>
<p>La estructura de archivos y directorios del proyecto se muestra a continuación:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span>tutorial-flask</span></span>
<span class="code-line"><span class="code-line">├── app</span></span>
<span class="code-line"><span class="code-line">│   ├── __init__.py</span></span>
<span class="code-line"><span class="code-line">│   ├── __pycache__</span></span>
<span class="code-line"><span class="code-line">│   │   ├── __init__.cpython-35.pyc</span></span>
<span class="code-line"><span class="code-line">│   │   └── views.cpython-35.pyc</span></span>
<span class="code-line"><span class="code-line">│   ├── templates</span></span>
<span class="code-line"><span class="code-line">│   │   ├── base.html</span></span>
<span class="code-line"><span class="code-line">│   │   └── index.html</span></span>
<span class="code-line"><span class="code-line">│   └── views.py</span></span>
<span class="code-line"><span class="code-line">├── docker-compose.yml</span></span>
<span class="code-line"><span class="code-line">├── Dockerfile</span></span>
<span class="code-line"><span class="code-line">├── README.md</span></span>
<span class="code-line"><span class="code-line">├── run.py</span></span>
<span class="code-line"><span class="code-line">└── tmp</span></span>
</pre></div>


<p>Los nuevos archivos son:    </p>
<ul>
<li><code>base.html</code>: Es la plantilla base que se usará en las páginas web.  </li>
<li><code>index.html</code>: Es la página inicial que hereda de la plantilla base.html.  </li>
<li><code>views.py</code>: Ahora este archivo manejará el pase de información vía renderizado a las plantillas.  </li>
</ul>
<p>Los demás archivos se explicaron ya en el artículo anterior.</p>
<p>Archivo <code>templates/base.html</code>:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line">  <span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line">    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span></span></span>
<span class="code-line"><span class="code-line">    <span class="o">&lt;</span><span class="n">title</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">title</span> <span class="p">}}</span> <span class="o">-</span> <span class="n">microblog</span><span class="o">&lt;/</span><span class="n">title</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line">    <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span></span></span>
<span class="code-line"><span class="code-line">    <span class="o">&lt;</span><span class="n">title</span><span class="o">&gt;</span><span class="n">microblog</span><span class="o">&lt;/</span><span class="n">title</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line">    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span></span></span>
<span class="code-line"><span class="code-line">  <span class="o">&lt;/</span><span class="n">head</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line">  <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line">    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">Microblog</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;/index&quot;</span><span class="o">&gt;</span><span class="n">Home</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line">    <span class="o">&lt;</span><span class="n">hr</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line">    <span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span></span></span>
<span class="code-line"><span class="code-line">  <span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line"><span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span></span></span>
</pre></div>


<p>Está plantilla define el código base html de la página, donde se define el título si se le pasa como variable, si no se coloca directamente en el código html. Luego se colocá el enlace del blog y se define el bloque de contenido el cual se usará en la plantilla index.html.</p>
<p>Archivo <code>templates/index.html</code>:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="o">%</span><span class="p">}</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Hola</span><span class="p">,</span> <span class="p">{{</span> <span class="n">usuario</span><span class="o">.</span><span class="n">nickname</span> <span class="p">}}</span><span class="err">!</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">posts</span> <span class="o">%</span><span class="p">}</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">      <span class="p">{{</span> <span class="n">post</span><span class="o">.</span><span class="n">autor</span><span class="o">.</span><span class="n">nickname</span> <span class="p">}}</span> <span class="n">dice</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">b</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">post</span><span class="o">.</span><span class="n">cuerpo</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">b</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span></span></span>
</pre></div>


<p>Lo primero que se hace es extender las características que maneja base.html, luego se muestra el bloque content, donde se define un h1, luego se muestra los posts del microblog.</p>
<p>Ahora toca el turno al archivo views.py:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="c1">#Se importa render_template para renderizar plantillas html</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">render_template</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Se importa la aplicacion</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="kn">from</span> <span class="nn">app</span> <span class="kn">import</span> <span class="n">app</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Se define la ruta del url raiz e index</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/index&#39;</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="k">def</span> <span class="nf">index</span><span class="p">():</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="c1">#Se define el nombre del usuario</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="n">usuario</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;nickname&#39;</span><span class="p">:</span> <span class="s1">&#39;Ernesto&#39;</span><span class="p">}</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="c1">#Se define los posts del blog</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="n">posts</span> <span class="o">=</span> <span class="p">[</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">        <span class="p">{</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">            <span class="s1">&#39;autor&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;nickname&#39;</span><span class="p">:</span> <span class="s1">&#39;John Doe&#39;</span><span class="p">},</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">            <span class="s1">&#39;cuerpo&#39;</span><span class="p">:</span> <span class="s1">&#39;Un dia en Edimburgo&#39;</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">        <span class="p">},</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">        <span class="p">{</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">            <span class="s1">&#39;autor&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;nickname&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane Doe&#39;</span><span class="p">},</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">            <span class="s1">&#39;cuerpo&#39;</span><span class="p">:</span> <span class="s1">&#39;Muy buena Civil war!&#39;</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">        <span class="p">}</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="p">]</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="c1">#Se devuelve index.html con el titulo, usuario y posts</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;index.html&quot;</span><span class="p">,</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">                           <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Home&#39;</span><span class="p">,</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">                           <span class="n">usuario</span><span class="o">=</span><span class="n">usuario</span><span class="p">,</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line">                           <span class="n">posts</span><span class="o">=</span><span class="n">posts</span><span class="p">)</span></span></span>
</pre></div>


<p>Con los diccionarios se pasa los datos a las plantillas al devolver el renderizado de la plantilla con la página web (index.html, el título de la ágina, el usuario y los posts).</p>
<p>Sólo queda construir la imagen de docker  y levantar la aplicación usando docker-compose:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span><span class="w">  </span><span class="kr">build</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Building</span><span class="w"> </span><span class="n">web</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">FROM</span><span class="w"> </span><span class="n">python</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="mf">7f</span><span class="n">d24fb1b492</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">WORKDIR</span><span class="w"> </span><span class="o">/</span><span class="n">code</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">bdc41d9c0a55</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">--</span><span class="n">upgrade</span><span class="w"> </span><span class="n">pip</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">a2f64276e289</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">flask</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="mi">56</span><span class="n">d3d1077646</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">flask</span><span class="o">-</span><span class="n">login</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">ebe8bc959ad8</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">flask</span><span class="o">-</span><span class="n">openid</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">fe54237ce068</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">flask</span><span class="o">-</span><span class="n">mail</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">f1594ad12f2b</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">flask</span><span class="o">-</span><span class="n">sqlalchemy</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="mi">6</span><span class="n">d04889555c2</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">sqlalchemy</span><span class="o">-</span><span class="n">migrate</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">d25cd2a54289</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">flask</span><span class="o">-</span><span class="n">whooshalchemy</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="mf">4479491e59</span><span class="n">aa</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">flask</span><span class="o">-</span><span class="n">wtf</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="mi">170</span><span class="n">b10c7dea0</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">flask</span><span class="o">-</span><span class="n">babel</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">fe581f26a1e5</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">guess_language</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="mi">6</span><span class="n">d2d290ed6d3</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">flipflop</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="mf">35e2</span><span class="n">dff248ce</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">coverage</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="mi">7012043</span><span class="n">af8e9</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w">  </span><span class="n">redis</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">ce2854de687f</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">EXPOSE</span><span class="w"> </span><span class="mi">5000</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">f947cd2c0d69</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ADD</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">/</span><span class="n">code</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="mi">3</span><span class="n">cc197931bf8</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Step</span><span class="w"> </span><span class="mi">19</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">CMD</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="n">run</span><span class="p">.</span><span class="n">py</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">cache</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="w"> </span><span class="o">---&gt;</span><span class="w"> </span><span class="mi">7154441</span><span class="n">c088c</span><span class="w"></span></span></span>
<span class="code-line"><span class="code-line"><span class="n">Successfully</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="mi">7154441</span><span class="n">c088c</span><span class="w"></span></span></span>
</pre></div>


<p>Es necesario reconstruir la imagen para que tome el volumen definido en <code>docker-compose.yml</code>.</p>
<p>Ahora se levanta la aplicación:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span>docker-compose up</span></span>
<span class="code-line"><span class="code-line">Creating tutorialflask_web_1</span></span>
<span class="code-line"><span class="code-line">Attaching to tutorialflask_web_1</span></span>
<span class="code-line"><span class="code-line">web_1  |  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)</span></span>
<span class="code-line"><span class="code-line">web_1  |  * Restarting with stat</span></span>
<span class="code-line"><span class="code-line">web_1  |  * Debugger is active!</span></span>
<span class="code-line"><span class="code-line">web_1  |  * Debugger pin code: 309-259-945</span></span>
</pre></div>


<p>Al abrir el navegador en la página http://localhost:5000 se tiene lo que muestra la siguiente imagen:</p>
<p><img alt="" src="./images/tutorialdeflask2-1.png"> </p>
<p>Para detener la aplicación se usa docker-compose down:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span>docker-compose down </span></span>
<span class="code-line"><span class="code-line">Stopping tutorialflask_web_1 ... done</span></span>
<span class="code-line"><span class="code-line">Removing tutorialflask_web_1 ... done</span></span>
</pre></div>


<p>El código de este artículo lo pueden ver en la rama <a href="https://gitlab.com/ecrespo/tutorial-flask/tree/articulo2">articulo2</a> articulo2 del repositorio en gitlab.</p>
<h2></h2>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ecrespo.github.io/en/tag/python.html">Python</a>
      <a href="https://ecrespo.github.io/en/tag/docker.html">Docker</a>
      <a href="https://ecrespo.github.io/en/tag/flask.html">Flask</a>
    </p>
  </div>


  <div class="neighbors">
  </div>


    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234566"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy; 2022 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Seraph's Blog ",
  "url" : "https://ecrespo.github.io/en",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>


</body>
</html>