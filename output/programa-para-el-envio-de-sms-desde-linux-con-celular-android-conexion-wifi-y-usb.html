<!doctype html>
<html lang="es" itemscope itemtype="http://schema.org/Person">
<head>
            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Ernesto Crespo">

        <link rel="shortcut icon" href="">

        <!-- schema.org -->
        <meta itemprop="name" content="Página de Seraph">
        <meta itemprop="image" content="">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Página de Seraph ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="">
        <meta name="twitter:image" content="">

    <meta name="twitter:creator" content="">
    <meta name="twitter:url" content="https://ecrespo.github.io/programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb.html">
    <meta name="twitter:title" content="Página de Seraph ~ Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)">
    <meta name="twitter:description" content="En el artículo de ejecución remota de script versión conectado por USB y la versión por wifi, se explica en el primer caso como enviar mensajes de texto y en el segundo como ejecutar una aplicación remotamente en el celular. En este caso se fusionará ambos tipos de conexiones para …">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="Página de Seraph ~ Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)"/>
    <meta property="og:description" content="En el artículo de ejecución remota de script versión conectado por USB y la versión por wifi, se explica en el primer caso como enviar mensajes de texto y en el segundo como ejecutar una aplicación remotamente en el celular. En este caso se fusionará ambos tipos de conexiones para …"/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <!--<center><a href="https://ecrespo.github.io"><img id="avatar" src=""></a></center>-->
    <h1>Página de Seraph</h1>
    <br>


    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="/archives.html">Archives</a></li>
                <li><a class="nav__link" href="/categories.html">Categories</a></li>
                <li><a class="nav__link" href="/tags.html">Tags</a></li>

                <li><a class="nav__link" href="https://ecrespo.github.io/pages/About.html">Acerca</a></li>
                <li><a class="nav__link" href="https://ecrespo.github.io/pages/Contacto.html">Contacto</a></li>

        </ul>
    </nav>

    <p class="social">
                <a href="https://medium.com/@_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/medium.png"></a>
                <a href="http://ve.linkedin.com/in/ernestocrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/linkedin.png"></a>
                <a href="https://github.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/github.png"></a>
                <a href="https://google.com/+ErnestoCrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/google.png"></a>
                <a href="https://twitter.com/_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/twitter.png"></a>
                <a href="https://www.facebook.com/ernesto.crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/facebook.png"></a>
                <a href="https://gitlab.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/gitlab.png"></a>
                <a href="https://soundcloud.com/ernesto-crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/soundcloud.png"></a>
                <a href="//www.seraph.to/feeds/all.atom.xml" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
            <a href="https://ecrespo.github.io/feeds/all.atom.xml" rel="alternate">
                <img src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
    </p>

        <h2>Categories</h2>
        <ul class="navbar">
                <li><a
                        href="https://ecrespo.github.io/category/accesibilidad.html">Accesibilidad</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncio.html">Anuncio</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncios.html">Anuncios</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/aplicacion-android.html">Aplicación Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/asterisk-debian-linux.html">Asterisk, Debian, Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla.html">Charla</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla-python.html">Charla Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-linux-mac-book.html">Debian, Linux, Mac Book</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-maemo-nokia-n810-python.html">Debian, maemo, Nokia N810, Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/demostracion-aplicacion-para-android.html">Demostración Aplicación para Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/desarrollomovil.html">Desarrollo,Movil</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/evento.html">Evento</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/general.html">General</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linux.html">Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdebian.html">Linux,Debian</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdesarrollo.html">Linux,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxempaquetado.html">Linux,Empaquetado</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxofimaticadesarrollo.html">Linux,Ofimatica,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/movil-nokia.html">Movil, Nokia</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810.html">Nokia N810</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810-debian-maemo.html">Nokia N810 Debian Maemo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/posts.html">posts</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/resumen-2010.html">Resumen 2010</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/sistemas-operativos.html">Sistemas Operativos</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial.html">Tutorial</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-android.html">Tutorial Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-arduino.html">Tutorial de Arduino</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-data-science.html">Tutorial de Data Science</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-docker.html">Tutorial de Docker</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-integracion-continua.html">Tutorial de integración continua</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-linux.html">Tutorial de Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python.html">Tutorial de Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-en-android.html">Tutorial de Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-linux.html">Tutorial de Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-pyqt.html">Tutorial de Python y PyQt</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-debian-bsd-y-python.html">Tutorial Debian BSD y Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux.html">Tutorial Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux-y-python.html">Tutorial Linux y Python</a></li>
                <li class="active"><a
                        href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-en-android.html">Tutorial Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-y-linux.html">Tutorial Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorialdesarrollo.html">Tutorial,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/xml-rpcpython.html">XML-RPC,Python</a></li>
        </ul>


</aside>

<!-- Content -->
<article>
    <section id="content">
        <article>
            <h2 class="post_title post_detail"><a href="https://ecrespo.github.io/programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb.html" rel="bookmark"
                                                  title="Permalink to Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)">Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)</a></h2>
            <div class="entry-content blog-post">
                <p>En el artículo de ejecución remota de script versión conectado por <a href="https://www.seraph.to/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android-version-conectado-el-celular-por-usb.html">USB</a> y la versión por <a href="https://www.seraph.to/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android.html">wifi</a>, se  explica  en el primer caso como enviar mensajes de texto y en el segundo como ejecutar una aplicación remotamente en el celular.</p>
<p>En este caso se fusionará ambos tipos de conexiones para enviar mensajes de texto tanto por USB como por wifi.</p>
<p>Para ello se creo un clase AndroidSMS donde se define los datos siguientes:</p>
<ul>
<li>Tipo de conexión (wifi o usb)</li>
<li>Puerto (Puerto del servidor de SL4A que se activa en el celular)</li>
<li>Host (IP que tiene asignado el celular en la red wifi)</li>
</ul>
<p>En los artículos mencionados anteriormente se explica como usar el comando adb del sdk de Android y la creación de variables de entorno para poder ejecutar remotamente scripts desde Linux al celular con Android. En este caso todo ese proceso se automatiza  en el script, pero es necesario para el caso USB ejecutar SL4A con la opción de privado y en el caso wifi con la opción de público. Además se tiene que verificar el número del puerto asignado en el servidor SL4A para pasarle como parámetro dichos datos al programa desde la línea de comandos.</p>
<p>A continuación se muestra el código del programa:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1">#Script que permite enviar mensaje de texto a un celular android desde Linux.</span>
<span class="c1">#Autor: Ernesto Crespo</span>
<span class="c1">#Correo:ecrespo@gmail.com</span>
<span class="c1">#Licencia: GPLv3</span>
<span class="c1">#Version:0.4</span>

<span class="c1">#Importando el modulo android,sys,re y getstatusoutput</span>
<span class="kn">import</span> <span class="nn">android</span><span class="o">,</span><span class="nn">sys</span><span class="o">,</span><span class="nn">re</span>
<span class="kn">from</span> <span class="nn">commands</span> <span class="kn">import</span> <span class="n">getstatusoutput</span>

<span class="k">class</span> <span class="nc">AndroidSMS</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">conexion</span><span class="p">,</span><span class="n">puerto</span><span class="p">,</span><span class="n">host</span><span class="o">=</span><span class="s2">&quot;192.168.0.100&quot;</span><span class="p">):</span>
        <span class="c1">#Asignacion de la estructura de datos del Objeto</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__adb</span> <span class="o">=</span> <span class="s2">&quot;/home/ernesto/android-sdk-linux_x86/platform-tools/adb&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__puerto</span> <span class="o">=</span> <span class="n">puerto</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__host</span> <span class="o">=</span> <span class="n">host</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">=</span> <span class="n">conexion</span>

    <span class="k">def</span> <span class="nf">__ValidarNumero__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numero</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Valida si los numeros tienen 11 digitos y que sean</span>
<span class="sd">        de los proveedores movilnet, digitel y movistar</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">numero</span><span class="p">)</span> <span class="o">==</span> <span class="mi">11</span> <span class="ow">and</span> <span class="p">((</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;041[2|4|6]\d\d\d\d\d\d\d&quot;</span><span class="p">,</span><span class="n">numero</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;042[4|6]\d\d\d\d\d\d\d&quot;</span><span class="p">,</span><span class="n">numero</span><span class="p">)))</span> <span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__ConfigAndroid__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;__ConfigAndroid: Metodo que permite habilitar el funcionamiento</span>
<span class="sd">        del celular Android desde Linux tanto para wifi como para conexion USB</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#Se apaga el servidor adb en el Linux</span>
        <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> kill-server&quot;</span> <span class="o">%</span><span class="bp">self</span><span class="o">.</span><span class="n">__adb</span><span class="p">)</span>
        <span class="c1">#Se borra las variables de entorno AP_PORT y AP_HOST</span>
        <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;export AP_PORT=</span><span class="se">\&quot;\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;export AP_HOST=</span><span class="se">\&quot;\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1">#Se inicia el servidor adb y se verifica que funciona correctamente</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> devices&quot;</span> <span class="o">%</span><span class="bp">self</span><span class="o">.</span><span class="n">__adb</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span> <span class="s2">&quot;Problemas con la configuracion del celular&quot;</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">==</span> <span class="s2">&quot;usb&quot;</span><span class="p">:</span>
                <span class="c1">#Se verifica que el dispositivo aparece identificado</span>
                <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="nb">print</span> <span class="s2">&quot;NO hay un celular conectado&quot;</span>
                    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span>
        <span class="c1">#En este punto se tiene el dispositivo funcionando</span>
        <span class="c1">#Tanto por wifi como por usb.</span>
        <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">  forward tcp:9999 tcp:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__adb</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">__puerto</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">==</span> <span class="s2">&quot;wifi&quot;</span><span class="p">:</span>
            <span class="c1">#Se crean las variables de entorno AP_PORT y AP_HOST</span>
            <span class="c1">#para el caso de wifi</span>
            <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;export AP_PORT=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="bp">self</span><span class="o">.</span><span class="n">__puerto</span><span class="p">)</span>
            <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;export AP_HOST=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="bp">self</span><span class="o">.</span><span class="n">__host</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">==</span> <span class="s2">&quot;usb&quot;</span><span class="p">:</span>
            <span class="c1">#Se crea la variable de entorno AP_PORT</span>
            <span class="c1">#para el caso conexion usb</span>
            <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;export AP_PORT=9999&quot;</span><span class="p">)</span>
        <span class="nb">print</span> <span class="s2">&quot;Se configuro el celular sin problemas&quot;</span>


    <span class="k">def</span> <span class="nf">EnviarMensaje</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numero</span><span class="p">,</span><span class="n">mensaje</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;EnviarMensaje: Metodo que permite enviar un mensaje de texto</span>
<span class="sd">        pasando el numero y el mensaje</span>
<span class="sd">        Maneja ambos casos conexion USB o por red wifi.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ValidarNumero__</span><span class="p">(</span><span class="n">numero</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span> <span class="s2">&quot;Numero invalido&quot;</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span>
        <span class="c1">#Creando la instancia droid del objeto Android</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ConfigAndroid__</span><span class="p">()</span>
        <span class="c1">#Se crea la instancia del objeto Android dependiendo si es conexion</span>
        <span class="c1">#wifi se le pasa el host y el puerto</span>
        <span class="c1">#Si es conexion USB simplemente se crea la instancia</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">==</span> <span class="s2">&quot;wifi&quot;</span><span class="p">:</span>
            <span class="n">droid</span> <span class="o">=</span> <span class="n">android</span><span class="o">.</span><span class="n">Android</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">__host</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">__puerto</span><span class="p">))</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">==</span> <span class="s2">&quot;usb&quot;</span><span class="p">:</span>
            <span class="n">droid</span> <span class="o">=</span> <span class="n">android</span><span class="o">.</span><span class="n">Android</span><span class="p">()</span>
        <span class="c1">#Enviando el mensaje de texto</span>
        <span class="n">droid</span><span class="o">.</span><span class="n">smsSend</span><span class="p">(</span><span class="n">numero</span><span class="p">,</span><span class="n">mensaje</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Se capturan los valores de:</span>
<span class="sd">    *numero</span>
<span class="sd">    *mensaje</span>
<span class="sd">    *conexion</span>
<span class="sd">    *puerto</span>
<span class="sd">    *host</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
        <span class="n">numero</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">mensaje</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">conexion</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">puerto</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">host</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">numero</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">mensaje</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">conexion</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">puerto</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">host</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s2">&quot;Error: No se pasaron los parametros completos&quot;</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span>
    <span class="c1">#Se crea la instancia de la clase AndroidSM pasando conexion,puerto y host</span>
    <span class="n">androidsms</span> <span class="o">=</span> <span class="n">AndroidSMS</span><span class="p">(</span><span class="n">conexion</span><span class="p">,</span><span class="n">puerto</span><span class="p">,</span><span class="n">host</span><span class="p">)</span>
    <span class="c1">#Se envie el mensaje de texto</span>
    <span class="n">androidsms</span><span class="o">.</span><span class="n">EnviarMensaje</span><span class="p">(</span><span class="n">numero</span><span class="p">,</span><span class="n">mensaje</span><span class="p">)</span>
</code></pre></div>

<p>La ejecución del programa se muestra a continuación:
Se pasa primero el número de celular, luego el mensaje, luego el tipo de conexión (usb,wifi), luego el puerto y por último la IP si es el caso de wifi.</p>
<ul>
<li>wifi: python mensaje4.py 0xxyyyzzww "Prueba3" wifi  47529 "192.168.0.100"</li>
<li>usb: python mensaje4.py 0xxyyyzzww "Prueba4" usb  43421</li>
</ul>
<p>En la siguiente figura se muestra los mensajes recibidos en el celular:</p>
<p><img alt="SMS" src="./images/smsandroidlinux.png"></p>
<p>===</p>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
            </div>
            <div class="post_list">
                <span>By </span>
                <a href="https://ecrespo.github.io/author/ernesto-crespo.html">@Ernesto Crespo</a>
                <span> in </span>
                <span class="post_category"><a href="https://ecrespo.github.io/category/tutorial-python.html" rel="bookmark"
                                               title="Permalink to Tutorial Python">[ Tutorial Python ]</a></span>
                <span class="post_date">jue 16 junio 2011</span>
                <div><span>Tags : </span>
                            <span><a href="https://ecrespo.github.io/tag/linux.html">#Linux, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/python.html">#Python, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/android.html">#Android, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/debian.html">#Debian, </a></span>
                </div>

                <div class="entry-social">
                    <span class="twitter"><a target="_blank" rel="nofollow"
                                             onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;"
                                             title="Twitter"
                                             href="https://twitter.com/share?url=https://ecrespo.github.io/programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb.html&text=Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)&via="><img
                            src="https://ecrespo.github.io/theme/images/icons/twitter-s.png"></a></span>

                    <span class="gplus"><a target="_blank" title="Google +"
                                           href="https://plus.google.com/share?url=https://ecrespo.github.io/programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb.html&hl=fr"
                                           rel="nofollow"
                                           onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/google-s.png"></a></span>

                    <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow"
                                              onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;"
                                              href="https://www.facebook.com/sharer.php?u=https://ecrespo.github.io/programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb.html&t=Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)"><img
                            src="https://ecrespo.github.io/theme/images/icons/facebook-s.png"></a></span>

                    <a target="_blank" title="Linkedin"
                       href="https://www.linkedin.com/shareArticle?mini=true&url=https://ecrespo.github.io/programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb.html&title=Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)"
                       rel="nofollow"
                       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/linkedin-s.png"></a>

                    <span class="mail"><a
                            href="mailto:?subject=Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)&amp;body=Viens découvrir un article à propos de [Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)] sur le site de Ernesto Crespo. https://ecrespo.github.io/programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb.html"
                            title="Share by Email" target="_blank"><img
                            src="https://ecrespo.github.io/theme/images/icons/mail-s.png"></a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Comments !</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://https://seraphto.disqus.com.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
            Blog powered by <a href="http://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="http://python.org">Python</a>.
            Theme <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> by <a
                href="https://parbhatpuri.com/">@parbhat</a>.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-131517246-1']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>