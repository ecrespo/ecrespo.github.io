
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/pygments/monokai.min.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/solid.css">


    <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Página de Seraph Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="En los 3 artículos anteriores se explicó como realizar profiling con 3 herramientas (timeit, line_profiler y cProfile). Ahora se explicará como depurar código python. En este caso se explicará la depuración de código utilizando ipython. ipython aparte de permitir hacer profiling también permite realizar depuración de código. Se mostrará el …" />
<meta name="keywords" content="General, Linux, numpy, python, ipython">

<meta property="og:site_name" content="Página de Seraph"/>
<meta property="og:title" content="Depurar código python con ipython."/>
<meta property="og:description" content="En los 3 artículos anteriores se explicó como realizar profiling con 3 herramientas (timeit, line_profiler y cProfile). Ahora se explicará como depurar código python. En este caso se explicará la depuración de código utilizando ipython. ipython aparte de permitir hacer profiling también permite realizar depuración de código. Se mostrará el …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://ecrespo.github.io/depurar-codigo-python-con-ipython.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2012-12-06 09:00:00-04:30"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ecrespo.github.io/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial Python"/>
<meta property="article:tag" content="General"/>
<meta property="article:tag" content="Linux"/>
<meta property="article:tag" content="numpy"/>
<meta property="article:tag" content="python"/>
<meta property="article:tag" content="ipython"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Página de Seraph &ndash; Depurar código python con ipython.</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://ecrespo.github.io">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>
      <h1><a href="https://ecrespo.github.io">Ernesto Crespo</a></h1>

<p>Data Scientist </p>
      <nav>
        <ul class="list">
          <li><a href="https://ecrespo.github.io/pages/About.html#About">Acerca</a></li>
          <li><a href="https://ecrespo.github.io/pages/Contacto.html#Contacto">Contacto</a></li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
            <i class="fab fa-medium">
            </i>
          </a></li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
            <i class="fab fa-linkedin">
            </i>
          </a></li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
            <i class="fab fa-github">
            </i>
          </a></li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
            <i class="fab fa-google">
            </i>
          </a></li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
            <i class="fab fa-twitter">
            </i>
          </a></li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
            <i class="fab fa-facebook">
            </i>
          </a></li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
            <i class="fab fa-gitlab">
            </i>
          </a></li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
            <i class="fab fa-soundcloud">
            </i>
          </a></li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
            <i class="fas fa-rss">
            </i>
          </a></li>
      </ul>
    </div>



  </aside>
  <main>

    <nav>
      <a href="https://ecrespo.github.io">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ecrespo.github.io/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="depurar-codigo-python-con-ipython">Depurar código python con ipython.</h1>
    <p>
          Posted on jue 06 diciembre 2012 in <a href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a>


        &#8226; 3 min read
    </p>
  </header>


  <div>
    <p>En los 3 art&iacute;culos anteriores se explic&oacute; como realizar profiling con 3 herramientas (timeit, line_profiler y cProfile). Ahora se explicar&aacute; como depurar c&oacute;digo python.</p>
<p>En este caso se explicar&aacute; la depuraci&oacute;n de c&oacute;digo utilizando <code>ipython</code>.
<code>ipython</code> aparte de permitir hacer profiling tambi&eacute;n permite realizar depuraci&oacute;n de c&oacute;digo.</p>
<p>Se mostrar&aacute; el c&oacute;digo de la generaci&oacute;n de un arreglo, luego se muestra en pantalla el arreglo, el valor de un elemento de ese arreglo y el recorrido de los elementos del arreglo:</p>
<p>```python</p>
<h1 id="!/usr/bin/env python">!/usr/bin/env python</h1>
<h1 id="-- coding: utf-8 --">-<em>- coding: utf-8 -</em>-</h1>
<h1 id="se importa numpy como np">Se importa numpy como np</h1>
<p>import numpy as np</p>
<p>a = np.arange(10)</p>
<p>print a</p>
<p>print a[8]</p>
<p>print a[9]</p>
<p>for i in a:</p>
<pre><code>print i
</code></pre>
<p>print a[10]
```</p>
<p>El resultado de ejecutar el script es el siguiente:</p>
<p>```
ecrespo@jewel:~/proyectos/ernesto-ecrespo.blogspot/debugipython$ python arreglo.py </p>
<p>[0 1 2 3 4 5 6 7 8 9]</p>
<p>8</p>
<p>9</p>
<p>0</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>6</p>
<p>7</p>
<p>8</p>
<p>9</p>
<p>Traceback (most recent call last):</p>
<p>File "arreglo.py", line 17, in <module></module></p>
<pre><code>print a[10]
</code></pre>
<p>IndexError: index out of bounds
```</p>
<p>Se muestra el mensaje de error de tratar de presentar en pantalla el valor del elemento 10 del arreglo a (que no existe).</p>
<p>Se ejecuta a continuaci&oacute;n <code>ipython</code> desde la consola Linux, ipython entra en un interprete interactivo, ah&iacute; se ejecuta el comando <code>%run script.py</code>. Esto hace que se inicie el modo depuraci&oacute;n con el script que se pasa como argumento:</p>
<p>```python
ecrespo@jewel:~/proyectos/ernesto-ecrespo.blogspot/debugipython$ ipython</p>
<p>Python 2.7.3rc2 (default, Apr 22 2012, 22:35:38) </p>
<p>Type "copyright", "credits" or "license" for more information.</p>
<p>IPython 0.13.1 -- An enhanced Interactive Python.</p>
<p>?         -&gt; Introduction and overview of IPython's features.</p>
<p>%quickref -&gt; Quick reference.</p>
<p>help      -&gt; Python's own help system.</p>
<p>object?   -&gt; Details about 'object', use 'object??' for extra details.</p>
<p>In [1]: %run arreglo.py</p>
<p>[0 1 2 3 4 5 6 7 8 9]</p>
<p>8</p>
<p>9</p>
<p>0</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>6</p>
<p>7</p>
<p>8</p>
<p>9</p>
<hr/>
<p>IndexError                                Traceback (most recent call last)</p>
<p>/usr/lib/python2.7/dist-packages/IPython/utils/py3compat.pyc in execfile(fname, *where)</p>
<pre><code>176             else:


177                 filename = fname
</code></pre>
<p>--&gt; 178             <strong>builtin</strong>.execfile(filename, *where)</p>
<p>/home/ecrespo/proyectos/ernesto-ecrespo.blogspot/debugipython/arreglo.py in <module>()</module></p>
<pre><code> 15     print i


 16
</code></pre>
<p>---&gt; 17 print a[10]</p>
<p>IndexError: index out of bounds</p>
<p>```</p>
<p>El resultado es la ejecuci&oacute;n del script y se&ntilde;ala la secci&oacute;n donde se tiene el error.</p>
<p>Ahora se ejecuta el comando <code>%debug</code>:
```python
In [2]: %debug</p>
<blockquote>
<p>/home/ecrespo/proyectos/ernesto-ecrespo.blogspot/debugipython/arreglo.py(17)<module>()
     15     print i
     16 
---&gt; 17 print a[10]
```
Se ve claramente que el error se encuentra en la l&iacute;nea 17 del script, donde se trata de mostrar en pantalla el elemento 10 del arreglo el cual no existe.</module></p>
</blockquote>
<p>Se puede listar el c&oacute;digo al ejecutar el comando <code>list</code>:
<code>python
ipdb&gt; list
     12 print a[9]
     13 
     14 for i in a:
     15     print i
     16 
---&gt; 17 print a[10]</code>
Evaluar c&oacute;digo. Se puede ejecutar una instrucci&oacute;n python para evaluar el tama&ntilde;o del arreglo.
<code>python
ipdb&gt; len(a)
10</code>
Se muestra en pantalla el valor de a:
<code>python
ipdb&gt; print a
[0 1 2 3 4 5 6 7 8 9]</code>
Ver las llamadas del stack:Es un stack que contiene informaci&oacute;n acerca de las funciones activas de un programa en ejecuci&oacute;n. El comando para ver el stack es bt:</p>
<p>```python
ipdb&gt; bt</p>
<p>/usr/lib/python2.7/dist-packages/IPython/utils/py3compat.py(178)execfile()</p>
<pre><code>174             if isinstance(fname, unicode):


175                 filename = fname.encode(sys.getfilesystemencoding())


176             else:


177                 filename = fname
</code></pre>
<p>--&gt; 178             <strong>builtin</strong>.execfile(filename, *where)</p>
<blockquote>
<p>/home/ecrespo/proyectos/ernesto-ecrespo.blogspot/debugipython/arreglo.py(17)<module>()</module></p>
</blockquote>
<pre><code> 13


 14 for i in a:


 15     print i


 16
</code></pre>
<p>---&gt; 17 print a[10]</p>
<p>Moverse hacia arriba en el stack se logra al ejecutar el comando <code>u</code>:
```python
ipdb&gt; u</p>
<blockquote>
<p>/usr/lib/python2.7/dist-packages/IPython/utils/py3compat.py(178)execfile()
    176             else:
    177                 filename = fname
--&gt; 178             <strong>builtin</strong>.execfile(filename, *where)</p>
</blockquote>
<p>Para moverse hacia abajo en el stack se logra al ejecutar el comando d:
ipdb&gt; d</p>
<blockquote>
<p>/home/ecrespo/proyectos/ernesto-ecrespo.blogspot/debugipython/arreglo.py(17)<module>()
     15     print i
     16 
---&gt; 17 print a[10]
```</module></p>
</blockquote>
<p>Para salirse del modo depuraci&oacute;n se ejecuta el comando <code>exit</code>, para salirse del interprete de comandos <code>ipython</code> se vuelve a ejectuar <code>exit</code>.</p>
<p>Se tiene claro que el error en el script se encuentra en la l&iacute;nea 17, donde se trata de imprimir en pantalla un elemento del arreglo que no existe.</p>
<p>De esta forma se puede realizar depuraci&oacute;n de c&oacute;digo python con <code>ipython</code>. </p>
<h2 id="_1"></h2>
<p>&iexcl;Haz tu donativo!
Si te gust&oacute; el art&iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el c&oacute;digo QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ecrespo.github.io/tag/general.html">General</a>
      <a href="https://ecrespo.github.io/tag/linux.html">Linux</a>
      <a href="https://ecrespo.github.io/tag/numpy.html">numpy</a>
      <a href="https://ecrespo.github.io/tag/python.html">python</a>
      <a href="https://ecrespo.github.io/tag/ipython.html">ipython</a>
    </p>
  </div>



  <div class="related-posts">
    <h4>    You might enjoy
</h4>
    <ul class="related-posts">
      <li><a href="https://ecrespo.github.io/graficar-la-tangente-de-una-curva-con-python-numpy-y-pylab.html">Graficar la tangente de una curva con python, numpy y pylab.</a></li>
      <li><a href="https://ecrespo.github.io/encontrar-la-raiz-de-una-funcion-con-fsolve.html">Encontrar la raíz de una función con fsolve</a></li>
      <li><a href="https://ecrespo.github.io/graficar-una-funcion-de-2-variables-con-matplotlib.html">Graficar una función de 2 variables con matplotlib</a></li>
      <li><a href="https://ecrespo.github.io/graficar-el-espectro-de-frecuencia-con-numpy.html">Graficar el espectro de frecuencia con Numpy</a></li>
      <li><a href="https://ecrespo.github.io/pruebas-unitarias-en-python-con-unittest.html">Pruebas Unitarias en Python con unittest</a></li>
    </ul>
  </div>


<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy;  2006</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Página de Seraph ",
  "url" : "https://ecrespo.github.io",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>

</body>
</html>