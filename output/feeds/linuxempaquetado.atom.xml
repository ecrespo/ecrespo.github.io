<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Página de Seraph - Linux,Empaquetado</title><link href="https://ecrespo.github.io/" rel="alternate"></link><link href="https://ecrespo.github.io/feeds/linuxempaquetado.atom.xml" rel="self"></link><id>https://ecrespo.github.io/</id><updated>2012-01-23T09:00:00-05:30</updated><subtitle>Data Scientist </subtitle><entry><title>Crear metapaquete con equivs (incorporando archivos postinst y prerm)</title><link href="https://ecrespo.github.io/crear-metapaquete-con-equivs-incorporando-archivos-postinst-y-prerm.html" rel="alternate"></link><published>2012-01-23T09:00:00-05:30</published><updated>2012-01-23T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2012-01-23:/crear-metapaquete-con-equivs-incorporando-archivos-postinst-y-prerm.html</id><summary type="html">&lt;p&gt;Para continuar con los art&amp;iacute;culos de metaempaquetado para Debian/Canaima, el &amp;uacute;ltimo art&amp;iacute;culo sobre la herramienta &lt;code&gt;equivs&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Lo que faltaba por hacer era crear un metapaquete de configuraci&amp;oacute;n que copie archivos de configuraci&amp;oacute;n del escritorio cuando se instala y que se guarde dichas configuraciones en el directorio &lt;code&gt;/etc/skel&lt;/code&gt; para …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Para continuar con los art&amp;iacute;culos de metaempaquetado para Debian/Canaima, el &amp;uacute;ltimo art&amp;iacute;culo sobre la herramienta &lt;code&gt;equivs&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Lo que faltaba por hacer era crear un metapaquete de configuraci&amp;oacute;n que copie archivos de configuraci&amp;oacute;n del escritorio cuando se instala y que se guarde dichas configuraciones en el directorio &lt;code&gt;/etc/skel&lt;/code&gt; para cuando se cree un nuevo usuario en el sistema.&lt;/p&gt;
&lt;p&gt;En el tutorial de Ubuntu Forums explican como crear el &lt;a href="https://ubuntuforums.org/showthread.php?t=726317"&gt;metapaquete con archivos postinst y prerm&lt;/a&gt;, el problema es que los archivos de ejemplo no se encuentran en los enlaces que hacen referencia.&lt;/p&gt;
&lt;p&gt;La idea es agregar el applet del programa &lt;code&gt;radiotray&lt;/code&gt; en el escritorio de gnome para todos los usuarios. Como normalmente ya se tiene usuarios en el equipo, se tendr&amp;aacute; que copiar los archivos de configuraci&amp;oacute;n de &lt;code&gt;radiotray&lt;/code&gt; al directorio &lt;code&gt;home&lt;/code&gt; de cada usuario; para los usuarios que se creen luego de la instalaci&amp;oacute;n del metapaquete el sistema copiar&amp;aacute; los archivos de configuraci&amp;oacute;n que se encuentran en el directorio &lt;code&gt;/etc/skel/&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;Lo primero que se necesita hacer es crear el archivo control para metaempaquetado de &lt;code&gt;equivs&lt;/code&gt; con el comando &lt;code&gt;equivs-control&lt;/code&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;$equivs-control canaima-radiotray-conf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Este archivo contendr&amp;aacute;:&lt;/p&gt;
&lt;p&gt;```
Section: misc
Priority: optional
Homepage: http://canaima.softwarelibre.gob.ve
Standards-Version: 3.9.1&lt;/p&gt;
&lt;p&gt;Package: canaima-radiotray-conf
Version: 0.1
Maintainer: Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;
Pre-Depends: radiotray
Depends: ${misc:Depends}
Architecture: all
Copyright: copyright
Changelog: changelog
Files: ./radiotray/radiotray.desktop /etc/skel/.config/autostart/radiotray.desktop
       ./radiotray/bookmarks.xml   /etc/skel/.local/share/radiotray/bookmarks.xml
File: postinst
 #!/bin/sh -e
 # preinst for main-package-config. Divert some configuration file of main-package.
 .
 set -e
 .
 PKG=canaima-radiotray-conf
 .
     if [ "$1" = configure ] ; then
 .
    for usuario in  /home/&lt;em&gt;? ; do
 .
        usuario_min=$(basename $usuario)
 .
        case $(grep "${usuario_min}:.&lt;/em&gt;:.&lt;em&gt;:.&lt;/em&gt;:.&lt;em&gt;:.&lt;/em&gt;:::" /etc/shadow ) in
 .
                '')
                #no se hace nada
                ;;
 .
                *)
                usuario=${usuario_min}
 .
                if [ -f  /home/${usuario}/.config/autostart/radiotray.desktop ];
 .
                then
 .
                        cp -r /etc/skel/.config/autostart/radiotray.desktop /home/${usuario}/.config/autostart/radiotray.desktop
 .
                        chown ${usuario}.${usuario} /home/${usuario}/.config/autostart/radiotray.desktop&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;            else
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;.
                        mkdir -p  /home/${usuario}/.config; chown -R ${usuario}.${usuario} /home/${usuario}/.config
 .
                        mkdir -p /home/${usuario}/.config/autostart; chown -R ${usuario}.${usuario} /home/${usuario}/.config/autostart
 .
                        cp -r /etc/skel/.config/autostart/radiotray.desktop /home/${usuario}/.config/autostart/radiotray.desktop
 .
                        chown ${usuario}.${usuario} /home/${usuario}/.config/autostart/radiotray.desktop
 .
                fi
 .
                if [ -f /home/${usuario}/.local/share/radiotray/bookmarks.xml ];
 .
                then
 .
                        cp -r /etc/skel/.local/share/radiotray/bookmarks.xml /home/${usuario}/.local/share/radiotray/bookmarks.xml
 .
                        chown ${usuario}.${usuario} /home/${usuario}/.local/share/radiotray/bookmarks.xml
 .
                else
 .
                        mkdir -p /home/${usuario}/.local; chown -R ${usuario}.${usuario} /home/${usuario}/.local
 .
                        mkdir -p /home/${usuario}/.local/share; chown -R ${usuario}.${usuario} /home/${usuario}/.local/share
 .
                        mkdir -p /home/${usuario}/.local/share/radiotray; chown -R ${usuario}.${usuario} /home/${usuario}/.local/share/radiotray
 .
                        cp -r /etc/skel/.local/share/radiotray/bookmarks.xml /home/${usuario}/.local/share/radiotray/bookmarks.xml
 .
                        chown ${usuario}.${usuario} /home/${usuario}/.local/share/radiotray/bookmarks.xml
 .
                fi
 .
        esac
 .
    done
 .
     fi
 .
    exit 0
File: prerm
 #!/bin/sh -e
 .
 set -e
 .
 PKG=canaima-radiotray-conf
 .
    if [ "$1" = configure ] ; then
 .
        for usuario in  /home/&lt;em&gt;? ; do
 .
            usuario_min=$(basename $usuario)
 .
             case $(grep "${usuario_min}:.&lt;/em&gt;:.&lt;em&gt;:.&lt;/em&gt;:.&lt;em&gt;:.&lt;/em&gt;:::" /etc/shadow ) in
 .
                '')
                    #no se hace nada
                    ;;
 .
                    *)
                    usuario=${usuario_min}
 .
                    if [ -f  /home/${usuario}/.config/autostart/radiotray.desktop ];
 .
                        then
 .
                            rm -f /home/${usuario}/.config/autostart/radiotray.desktop
 .
                    fi
 .
                    if [ -f /home/${usuario}/.local/share/radiotray/bookmarks.xml ];
 .
                        then
 .
                            rm -f /home/${usuario}/.local/share/radiotray/bookmarks.xml
 .
                fi
 .
            esac
 .
        done
 .
    fi
 .
     exit 0
Description: Radiotray bookmarks to Venezuelan radio streaming
Radiotray config to autostart in gnome and radio stream bookmark
``` &lt;/p&gt;
&lt;p&gt;Se define la secci&amp;oacute;n y prioridad del programa, se define el sitio del programa, la versi&amp;oacute;n del &lt;code&gt;policy&lt;/code&gt; a utilizar; el nombre del programa, su versi&amp;oacute;n, el mantenedor del programa, la predependencia en este caso es el programa &lt;code&gt;radiotray&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;La dependencia es &lt;code&gt;${misc:Depends}&lt;/code&gt;, esta variable se define ya que se est&amp;aacute; usando &lt;code&gt;debhelper&lt;/code&gt; para empaquetar. La arquitectura es all&amp;iacute;, se definen los archivos &lt;code&gt;copyright&lt;/code&gt; y &lt;code&gt;changelog&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Luego con la opci&amp;oacute;n &lt;code&gt;Files&lt;/code&gt; se definen los archivos que se van a copiar en el directorio &lt;code&gt;/etc/skel/&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;Con la opci&amp;oacute;n &lt;code&gt;File&lt;/code&gt; se define cada script que se desea agregar al paquete, en este caso los archivos &lt;code&gt;postinst&lt;/code&gt; y &lt;code&gt;prerm&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Lo que hace &lt;code&gt;postinst&lt;/code&gt; es averiguar las cuentas de los usuarios del equipo y copiar los archivos de configuraci&amp;oacute;n en los directorios que usa gnome para manejar las configuraciones. En el caso de &lt;code&gt;prerm&lt;/code&gt; lo que hace es borrar dichos archivos de cada usuario del equipo.&lt;/p&gt;
&lt;p&gt;Por &amp;uacute;ltimo se da una descripci&amp;oacute;n corta y luego larga del programa.&lt;/p&gt;
&lt;p&gt;El archivo &lt;code&gt;changelog&lt;/code&gt; tendr&amp;aacute; los cambios realizados en el metapaquete:
```
canaima-radiotray-conf (1:0.1) unstable; urgency=low&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First release.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;-- Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;  Fri, 23 Dec 2011 10:57:05 -0430&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;El archivo &lt;code&gt;copyright&lt;/code&gt; contendr&amp;aacute; lo siguiente:
```
Authors:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Copyright (C) 2011 Ernesto Nadir Crespo Avila &amp;lt;ecrespo@cenditel.gob.ve&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;License:&lt;/p&gt;
&lt;p&gt;This package is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; version 2 dated June, 1991.&lt;/p&gt;
&lt;p&gt;This package is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.&lt;/p&gt;
&lt;p&gt;You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;On Debian GNU/Linux systems, the complete text of the GNU General
Public License can be found in `/usr/share/common-licenses/GPL-2'.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;Se crea el directorio &lt;code&gt;radiotray&lt;/code&gt; que contendr&amp;aacute; los archivos de configuraci&amp;oacute;n:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;$mkdir radiotray&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se crean los archivos &lt;code&gt;bookmarks.xml&lt;/code&gt; y &lt;code&gt;radiotray.desktop&lt;/code&gt;. El primero define las radios por Internet que se quieren tener en los favoritos y el segundo archivo define que el programa &lt;code&gt;radiotray&lt;/code&gt; se coloque como un applet en el escritorio Gnome.&lt;/p&gt;
&lt;p&gt;Archivo &lt;code&gt;bookmarks.xml&lt;/code&gt;. El contenido de este archivo se muestra en la siguiente figura:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/crearmetapaqueteconequivsincorporandoarchivospostinstyprerm-1.png"/&gt;&lt;/p&gt;
&lt;p&gt;Archivo &lt;code&gt;radiotray.desktop&lt;/code&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;[Desktop Entry]
Type=Application
Exec=radiotray
Hidden=false
X-GNOME-Autostart-enabled=true
Name[es_VE]=radiotray
Name=radiotray
Comment[es_VE]=Cliente de radio por internet
Comment=Cliente de radio por internet&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Equivs&lt;/code&gt; toma la definici&amp;oacute;n de archivos (File) y crea los archivos para el proceso de instalaci&amp;oacute;n. En la siguiente figura se muestra la estructura de archivos del directorio DEBIAN dentro del paquete deb:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/crearmetapaqueteconequivsincorporandoarchivospostinstyprerm-2.png"/&gt;&lt;/p&gt;
&lt;p&gt;Al subir el metapaquete a un repositorio e instalar se puede ver en la siguiente figura las radios que aparecen en favoritos de &lt;code&gt;radiotray&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/crearmetapaqueteconequivsincorporandoarchivospostinstyprerm-3.png"/&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;&lt;/h2&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content></entry><entry><title>Creación de paquete Debian que contiene un archivo cron con config-package-dev</title><link href="https://ecrespo.github.io/creacion-de-paquete-debian-que-contiene-un-archivo-cron-con-config-package-dev.html" rel="alternate"></link><published>2011-11-14T09:00:00-05:30</published><updated>2011-11-14T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-11-14:/creacion-de-paquete-debian-que-contiene-un-archivo-cron-con-config-package-dev.html</id><summary type="html">&lt;p&gt;El paquete &lt;code&gt;config-package-dev&lt;/code&gt; facilita la creaci&amp;oacute;n de un paquete Debian que contenga un archivo de configuraci&amp;oacute;n de cron.&lt;/p&gt;
&lt;p&gt;Para este caso se crear&amp;aacute; un archivo cron para el programa &lt;code&gt;logcheck&lt;/code&gt;. Este programa estar&amp;aacute; como Pre-Depends para que est&amp;eacute; instalado y configurado antes de instalar el paquete con la configuraci&amp;oacute;n de …&lt;/p&gt;</summary><content type="html">&lt;p&gt;El paquete &lt;code&gt;config-package-dev&lt;/code&gt; facilita la creaci&amp;oacute;n de un paquete Debian que contenga un archivo de configuraci&amp;oacute;n de cron.&lt;/p&gt;
&lt;p&gt;Para este caso se crear&amp;aacute; un archivo cron para el programa &lt;code&gt;logcheck&lt;/code&gt;. Este programa estar&amp;aacute; como Pre-Depends para que est&amp;eacute; instalado y configurado antes de instalar el paquete con la configuraci&amp;oacute;n de &lt;code&gt;logcheck&lt;/code&gt; en el cron.&lt;/p&gt;
&lt;p&gt;Instalar &lt;code&gt;logcheck&lt;/code&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;apt-get install logcheck&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;El archivo cron para &lt;code&gt;logcheck&lt;/code&gt; contendr&amp;aacute; lo siguiente:&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;h1 id="/etc/cron.d/logcheck: crontab entries for the logcheck package"&gt;/etc/cron.d/logcheck: crontab entries for the logcheck package&lt;/h1&gt;
&lt;p&gt;PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
MAILTO=root&lt;/p&gt;
&lt;p&gt;@reboot logcheckif [ -x /usr/sbin/logcheck ]; then nice -n10 /usr/sbin/logcheck -R; fi
* &lt;em&gt; * &lt;/em&gt; *   logcheckif [ -x /usr/sbin/logcheck ]; then nice -n10 /usr/sbin/logcheck; fi&lt;/p&gt;
&lt;h1 id="eof"&gt;EOF&lt;/h1&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;h2 id="procedimiento para la creacion del paquete:"&gt;Procedimiento para la creaci&amp;oacute;n del paquete:&lt;/h2&gt;
&lt;h4 id="1. creacion del directorio de trabajo y del directorio debian"&gt;1. Creaci&amp;oacute;n del directorio de trabajo y del directorio Debian&lt;/h4&gt;
&lt;p&gt;``` 
mkdir -p canaima-cron-logcheck-0.1&lt;/p&gt;
&lt;p&gt;mkdir -p canaima-cron-logcheck-0.1/debian
```&lt;/p&gt;
&lt;h4 id="2. se crea el archivo debian/changelog."&gt;2. Se crea el archivo &lt;code&gt;debian/changelog&lt;/code&gt;.&lt;/h4&gt;
&lt;p&gt;```
canaima-cron-logcheck (0.1) unstable; urgency=low&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Initial release.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;-- Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@gmail.com"&gt;ecrespo@gmail.com&lt;/a&gt;  Mon, 14 Nov 2011 21:48:20 -0430
```&lt;/p&gt;
&lt;h4 id="3. se crea el archivo compat con el valor de 7."&gt;3. Se crea el archivo &lt;code&gt;compat&lt;/code&gt; con el valor de 7.&lt;/h4&gt;
&lt;h4 id="4. se crea el archivo control y control.in con lo siguiente:"&gt;4. Se crea el archivo &lt;code&gt;control&lt;/code&gt; y &lt;code&gt;control.in&lt;/code&gt; con lo siguiente:&lt;/h4&gt;
&lt;p&gt;Se coloca &lt;code&gt;logcheck&lt;/code&gt; como predependencia, se define el &lt;code&gt;standar version&lt;/code&gt; con valor &lt;code&gt;3.9.2&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;```
Source: canaima-cron-logcheck
Section: config
Priority: extra
Maintainer: Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@gmail.com"&gt;ecrespo@gmail.com&lt;/a&gt;
Build-Depends: cdbs (&amp;gt;= 0.4.23-1.1), debhelper (&amp;gt;= 4.2.0), config-package-dev (&amp;gt;= 4.5~)
Standards-Version: 3.9.2&lt;/p&gt;
&lt;p&gt;Package: canaima-cron-logcheck
Architecture: all
Depends: cdbs, ${misc:Depends}
Pre-Depends: logcheck
Provides: ${diverted-files}
Conflicts: ${diverted-files}
Description: Configuracion de cron para logcheck
Configuracion de cron para logcheck.
```&lt;/p&gt;
&lt;h4 id="5. se crea el archivo debian/copyright:"&gt;5. Se crea el archivo &lt;code&gt;debian/copyright&lt;/code&gt;:&lt;/h4&gt;
&lt;p&gt;Se mantiene el autor del paquete ya que se est&amp;aacute; usando tal cual el ejemplo de cron para logcheck de &lt;code&gt;config-package-dev&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;```
canaima-cron-logcheck.
Example config-package-dev package.&lt;/p&gt;
&lt;p&gt;Author: Tim Abbott &lt;a href="mailto:tabbott@mit.edu"&gt;tabbott@mit.edu&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Copyright &amp;copy; 2008 Tim Abbott &lt;a href="mailto:tabbott@mit.edu"&gt;tabbott@mit.edu&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:&lt;/p&gt;
&lt;p&gt;The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.&lt;/p&gt;
&lt;p&gt;THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
```&lt;/p&gt;
&lt;h4 id="6. se crea el archivo debian/canaima-cron-logcheck.cron.d con el contenido del cron para logcheck:"&gt;6. Se crea el archivo &lt;code&gt;debian/canaima-cron-logcheck.cron.d&lt;/code&gt; con el contenido del cron para &lt;code&gt;logcheck&lt;/code&gt;:&lt;/h4&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;h1 id="/etc/cron.d/logcheck: crontab entries for the logcheck package_3"&gt;/etc/cron.d/logcheck: crontab entries for the logcheck package&lt;/h1&gt;
&lt;p&gt;PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
MAILTO=root&lt;/p&gt;
&lt;p&gt;@reboot logcheckif [ -x /usr/sbin/logcheck ]; then nice -n10 /usr/sbin/logcheck -R; fi
* &lt;em&gt; * &lt;/em&gt; *   logcheckif [ -x /usr/sbin/logcheck ]; then nice -n10 /usr/sbin/logcheck; fi&lt;/p&gt;
&lt;h1 id="eof_1"&gt;EOF&lt;/h1&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;h4 id="7. se crea el archivo debian/rules con el siguiente contenido:"&gt;7. Se crea el archivo &lt;code&gt;debian/rules&lt;/code&gt; con el siguiente contenido:&lt;/h4&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;h1 id="!/usr/bin/make -f_1"&gt;!/usr/bin/make -f&lt;/h1&gt;
&lt;p&gt;DEB_DIVERT_EXTENSION = .canaima&lt;/p&gt;
&lt;p&gt;# This will remove /etc/cron.d/logcheck
  DEB_REMOVE_FILES_canaima-cron-logcheck += \
/etc/cron.d/logcheck&lt;/p&gt;
&lt;p&gt;# We will install (using dh_installcron, by placing the new cron job
 # at debian/canaima-cron-logcheck.cron.d) a new version that runs
 # every minute, rather than every 30 minutes.  This will generate a
 # lot of mail.  Note that we cannot install a new file to the path
 # /etc/cron.d/logcheck from which a file was removed using
 # DEB_REMOVE_FILES.&lt;/p&gt;
&lt;p&gt;include /usr/share/cdbs/1/rules/debhelper.mk
include /usr/share/cdbs/1/rules/config-package.mk
```&lt;/p&gt;
&lt;h4 id="8. se le agrega permiso de ejecucion al archivo debian/rules:"&gt;8. Se le agrega permiso de ejecuci&amp;oacute;n al archivo &lt;code&gt;debian/rules&lt;/code&gt;:&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;chmod a+x debian/rules&lt;/code&gt;&lt;/p&gt;
&lt;h4 id="9. al final se tienen los siguientes archivos:"&gt;9. Al final se tienen los siguientes archivos:&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;ecrespo@jewel:~/canaima/canaima-cron-logcheck-0.1$ ls -l debian/
total 28
-rw-r--r-- 1 ecrespo ecrespo  347 nov 14 22:02 canaima-cron-logcheck.cron.d
-rw-r--r-- 1 ecrespo ecrespo  157 nov 14 21:50 changelog
-rw-r--r-- 1 ecrespo ecrespo2 nov 14 21:50 compat
-rw-r--r-- 1 ecrespo ecrespo  481 nov 14 21:55 control
-rw-r--r-- 1 ecrespo ecrespo  481 nov 14 21:55 control.in
-rw-r--r-- 1 ecrespo ecrespo 1169 nov 14 22:01 copyright
-rwxr-xr-x 1 ecrespo ecrespo  612 nov 14 22:06 rules&lt;/code&gt;&lt;/p&gt;
&lt;h4 id="10. se crea y se firma el paquete canaima-cron-logcheck-0.1:"&gt;10. Se crea y se firma el paquete &lt;code&gt;canaima-cron-logcheck-0.1&lt;/code&gt;:&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;dpkg-buildpackage -rfakeroot -kC97E7015&lt;/code&gt;&lt;/p&gt;
&lt;h4 id="11. al final se crean los siguientes archivos:"&gt;11. Al final se cre&amp;aacute;n los siguientes archivos:&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;ls -l canaima-cron-logcheck*
-rw-r--r-- 1 ecrespo ecrespo 2902 nov 14 22:08 canaima-cron-logcheck_0.1_all.deb
-rw-r--r-- 1 ecrespo ecrespo  876 nov 14 22:08 canaima-cron-logcheck_0.1.dsc
-rw-r--r-- 1 ecrespo ecrespo 1551 nov 14 22:09 canaima-cron-logcheck_0.1_i386.changes
-rw-r--r-- 1 ecrespo ecrespo 1807 nov 14 22:08 canaima-cron-logcheck_0.1.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;h4 id="12. se verifica si el paquete cumple con las politicas de debian con lintian:"&gt;12. Se verifica si el paquete cumple con las pol&amp;iacute;ticas de Debian con &lt;code&gt;lintian&lt;/code&gt;:&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;lintian -i canaima-cron-logcheck_0.1.dsc&lt;/code&gt;&lt;/p&gt;
&lt;h4 id="13. se instala el paquete:"&gt;13. Se instala el paquete:&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;dpkg -i canaima-cron-logcheck_0.1_all.deb&lt;/code&gt;&lt;/p&gt;
&lt;h4 id="14. el archivo del cron se encuentra ya instalado:"&gt;14. El archivo del cron se encuentra ya instalado:&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;ls -l /etc/cron.d
total 12
-rw-r--r-- 1 root root 244 nov  1  2009 anacron
-rw-r--r-- 1 root root 347 nov 14 22:08 canaima-cron-logcheck
-rw-r--r-- 1 root root 544 sep 13 05:59 php5&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="_2"&gt;&lt;/h2&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Canaima"></category><category term="Debian"></category><category term="Empaquetado"></category><category term="General"></category><category term="Ubuntu"></category></entry><entry><title>Como crear un metapaquete de configuración con config-package-dev</title><link href="https://ecrespo.github.io/como-crear-un-metapaquete-de-configuracion-con-config-package-dev.html" rel="alternate"></link><published>2011-11-13T09:00:00-05:30</published><updated>2011-11-13T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-11-13:/como-crear-un-metapaquete-de-configuracion-con-config-package-dev.html</id><summary type="html">&lt;p&gt;Anteriormente se explic&amp;oacute; como crear un metapaquete con &lt;code&gt;equivs&lt;/code&gt;, se tiene tambi&amp;eacute;n el paquete &lt;code&gt;config-package-dev&lt;/code&gt; el cual permite crear paquetes de configuraci&amp;oacute;n donde se puede cambiar la configuraci&amp;oacute;n de otros archivos dentro del directorio &lt;code&gt;/etc/&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;Este art&amp;iacute;culo se basa en el &lt;a href="https://debathena.mit.edu/config-package-dev/"&gt;tutorial del MIT sobre creaci&amp;oacute;n de paquetes de configuraci&amp;oacute;n …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Anteriormente se explic&amp;oacute; como crear un metapaquete con &lt;code&gt;equivs&lt;/code&gt;, se tiene tambi&amp;eacute;n el paquete &lt;code&gt;config-package-dev&lt;/code&gt; el cual permite crear paquetes de configuraci&amp;oacute;n donde se puede cambiar la configuraci&amp;oacute;n de otros archivos dentro del directorio &lt;code&gt;/etc/&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;Este art&amp;iacute;culo se basa en el &lt;a href="https://debathena.mit.edu/config-package-dev/"&gt;tutorial del MIT sobre creaci&amp;oacute;n de paquetes de configuraci&amp;oacute;n para Debian y una gu&amp;iacute;a en el wiki de Debian&lt;/a&gt; y una gu&amp;iacute;a en el &lt;a href="https://wiki.debian.org/ConfigPackages"&gt;wiki de Debian&lt;/a&gt;. El proceso de como adoptar un paquete y empaquetar se explica en una gu&amp;iacute;a que se encuentra en el &lt;a href="https://wiki.debian.org/AdoptarUnPaquete"&gt;wiki de Debian&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Como ejemplo se usar&amp;aacute; el paquete &lt;code&gt;openssh-server&lt;/code&gt; que crea un archivo con el nombre  &lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt; . Este archivo contiene la configuraci&amp;oacute;n necesaria para arrancar un servidor &lt;code&gt;ssh&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Instalando &lt;code&gt;openssh-server&lt;/code&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;apt-get install openssh-server config-package-dev&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;El contenido del archivo es el siguiente:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;Port 22
Protocol 2
HostKey /etc/ssh/ssh_host_rsa_key
HostKey /etc/ssh/ssh_host_dsa_key
HostKey /etc/ssh/ssh_host_ecdsa_key
UsePrivilegeSeparation yes
KeyRegenerationInterval 3600
ServerKeyBits 768
SyslogFacility AUTH
LogLevel INFO
LoginGraceTime 120
PermitRootLogin yes
StrictModes yes
RSAAuthentication yes
PubkeyAuthentication yes
IgnoreRhosts yes
RhostsRSAAuthentication no
HostbasedAuthentication no
PermitEmptyPasswords no
ChallengeResponseAuthentication no
X11Forwarding yes
X11DisplayOffset 10
PrintMotd no
PrintLastLog yes
TCPKeepAlive yes
AcceptEnv LANG LC_*
Subsystem sftp /usr/lib/openssh/sftp-server&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Este archivo tiene el siguiente hash md5.  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;8caefdd9e251b7cc1baa37874149a870  /etc/ssh/sshd_config&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;La idea es modificar este archivo para que no permita que el usuario &lt;code&gt;root&lt;/code&gt; se conecte por &lt;code&gt;ssh&lt;/code&gt; y no permitir reenv&amp;iacute;o de aplicaciones gr&amp;aacute;ficas.&lt;/p&gt;
&lt;h4 id="procedimiento para crear paquete de configuracion sshd-config:"&gt;Procedimiento para crear paquete de configuraci&amp;oacute;n &lt;code&gt;sshd-config&lt;/code&gt;:&lt;/h4&gt;
&lt;h5 id="1.crear el directorio de trabajo"&gt;1.Crear el directorio de trabajo&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;mkdir canaima-sshd-config-0.1&lt;/code&gt;&lt;/p&gt;
&lt;h5 id="2. cambiarse a dicho directorio"&gt;2. Cambiarse a dicho directorio&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;cd canaima-sshd-config-0.1&lt;/code&gt;&lt;/p&gt;
&lt;h5 id="3. crear los directorios debian y files"&gt;3. Crear los directorios debian y files&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;mkdir -p debian files&lt;/code&gt;&lt;/p&gt;
&lt;h5 id="4. en files crear el directorio etc, luego dentro de el, el directorio ssh y copiar el archivo sshd_config de /etc/ssh/ al directorio creado."&gt;4. En &lt;code&gt;files&lt;/code&gt; crear el directorio &lt;code&gt;etc&lt;/code&gt;, luego dentro de &amp;eacute;l, el directorio &lt;code&gt;ssh&lt;/code&gt; y copiar el archivo &lt;code&gt;sshd_config&lt;/code&gt; de &lt;code&gt;/etc/ssh/&lt;/code&gt; al directorio creado.&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;mkdir -p files/etc
mkdir -p files/etc/ssh
cp /etc/ssh/sshd_config ./files/etc/ssh/sshd_config.canaima&lt;/code&gt;&lt;/p&gt;
&lt;h5 id="5. modificar el archivo para que el usuario root no pueda acceder al servidor ssh y que no se pueda reenviar paquetes de x11. las lineas son:"&gt;5. Modificar el archivo para que el usuario root no pueda acceder al servidor &lt;code&gt;ssh&lt;/code&gt; y que no se pueda reenviar paquetes de &lt;code&gt;X11&lt;/code&gt;. Las l&amp;iacute;neas son:&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;PermitRootLogin no
X11Forwarding no&lt;/code&gt; &lt;/p&gt;
&lt;h5 id="6. dentro del directorio debian se creo el archivo changelog con el siguiente contenido:"&gt;6. Dentro del directorio debian se cre&amp;oacute; el archivo &lt;code&gt;changelog&lt;/code&gt; con el siguiente contenido:&lt;/h5&gt;
&lt;p&gt;```
canaima-sshd-config (0.1) unstable; urgency=low&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Initial release.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;-- Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@gmail.com"&gt;ecrespo@gmail.com&lt;/a&gt;  Sun, 13 Nov 2011 10:22:48 -0430
```&lt;/p&gt;
&lt;h5 id="7. se crea el archivo debian/compat con el valor 7."&gt;7. Se crea el archivo &lt;code&gt;debian/compat&lt;/code&gt;  con el valor 7.&lt;/h5&gt;
&lt;h5 id="8. se crea el archivo debian/control y debian/control.in con la siguiente informacion:"&gt;8. Se crea el archivo &lt;code&gt;debian/control&lt;/code&gt; y &lt;code&gt;debian/control.in&lt;/code&gt; con la siguiente informaci&amp;oacute;n:&lt;/h5&gt;
&lt;p&gt;```
Source: canaima-sshd-config
Section: config
Priority: extra
Maintainer: Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@gmail.com"&gt;ecrespo@gmail.com&lt;/a&gt;
Build-Depends: cdbs (&amp;gt;= 0.4.23-1.1), debhelper (&amp;gt;= 4.2.0), config-package-dev (&amp;gt;= 4.5~)
Standards-Version: 3.9.2&lt;/p&gt;
&lt;p&gt;Package: canaima-sshd-config
Architecture: all
Pre-Depends: openssh-server
Depends: cdbs, ${misc:Depends}
Provides: ${diverted-files}
Conflicts: ${diverted-files}
Description: Archivo de configuracion de ssh
Archivo de configuracion del servidor ssh.
```&lt;/p&gt;
&lt;p&gt;En este caso se coloca el par&amp;aacute;metro &lt;code&gt;Pre-Depends&lt;/code&gt; ya que se necesita tener el servidor &lt;code&gt;openssh&lt;/code&gt; instalado y bien configurado para poder agregarle cambios al archivo &lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt; .&lt;/p&gt;
&lt;h5 id="9. se crea el archivo debian/copyright, en este caso se esta usando el mismo copyright de los archivos de ejemplo de config-package-dev:"&gt;9. Se crea el archivo &lt;code&gt;debian/copyright&lt;/code&gt;, en este caso se est&amp;aacute; usando el mismo copyright de los archivos de ejemplo de &lt;code&gt;config-package-dev&lt;/code&gt;:&lt;/h5&gt;
&lt;p&gt;```
canaima-ssh-config package.&lt;/p&gt;
&lt;p&gt;Author: Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@gmail.com"&gt;ecrespo@gmail.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Copyright &amp;copy; 2011 Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@gmail.com"&gt;ecrespo@gmail.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:&lt;/p&gt;
&lt;p&gt;The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
```&lt;/p&gt;
&lt;h5 id="10. se crea el archivo debian/canaima-sshd-config.install . este archivo define donde se va a tomar los archivos de configuracion y a donde se van a copiar."&gt;10. Se crea el archivo &lt;code&gt;debian/canaima-sshd-config.install&lt;/code&gt; . Este archivo define donde se va a tomar los archivos de configuraci&amp;oacute;n y a donde se van a copiar.&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;files/* /&lt;/code&gt;&lt;/p&gt;
&lt;h5 id="11. se crea el archivo debian/rules. en este archivo se define la extension .canaima, la cual permite diferenciar de los paquetes base de debian de la meta distribucion canaima, ademas se define el archivo a modificar y luego los include de los cdbs:"&gt;11. Se crea el archivo &lt;code&gt;debian/rules&lt;/code&gt;. En este archivo se define la extensi&amp;oacute;n &lt;code&gt;.canaima&lt;/code&gt;, la cual permite diferenciar de los paquetes base de Debian de la meta distribuci&amp;oacute;n canaima, adem&amp;aacute;s se define el archivo a modificar y luego los include de los &lt;code&gt;cdbs&lt;/code&gt;:&lt;/h5&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;h1 id="!/usr/bin/make -f_2"&gt;!/usr/bin/make -f&lt;/h1&gt;
&lt;p&gt;DEB_DIVERT_EXTENSION = .canaima&lt;/p&gt;
&lt;h1 id="replace some base files with simple replacements."&gt;Replace some base files with simple replacements.&lt;/h1&gt;
&lt;p&gt;DEB_DIVERT_FILES_canaima-sshd-config += \
/etc/ssh/sshd_config.canaima &lt;/p&gt;
&lt;h1 id="these files are installed via dh_install from the files/ directory"&gt;These files are installed via dh_install from the files/ directory&lt;/h1&gt;
&lt;h1 id="(see debian/canaima-sshd-config.install)"&gt;(see debian/canaima-sshd-config.install)&lt;/h1&gt;
&lt;p&gt;include /usr/share/cdbs/1/rules/debhelper.mk
include /usr/share/cdbs/1/rules/config-package.mk
```&lt;/p&gt;
&lt;h5 id="12. crear el paquete debian y firmarlo con la llave gpg:"&gt;12. Crear el paquete debian y firmarlo con la llave &lt;code&gt;gpg&lt;/code&gt;:&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;dpkg-buildpackage -rfakeroot -kC97E7015&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Al ejectuar un &lt;code&gt;ls&lt;/code&gt;  se pueden ver los archivos creados:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ls -l canaima-sshd*
-rw-r--r-- 1 ecrespo ecrespo 3948 nov 13 16:09 canaima-sshd-config_0.1_all.deb
-rw-r--r-- 1 ecrespo ecrespo  864 nov 13 16:09 canaima-sshd-config_0.1.dsc
-rw-r--r-- 1 ecrespo ecrespo 1521 nov 13 16:09 canaima-sshd-config_0.1_i386.changes
-rw-r--r-- 1 ecrespo ecrespo 2745 nov 13 16:09 canaima-sshd-config_0.1.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;h5 id="13. se verifica que el paquete debian cumple con el policy de debian:"&gt;13. Se verifica que el paquete Debian cumple con el policy de Debian:&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;lintian -i canaima-sshd-config_0.1.dsc&lt;/code&gt;&lt;/p&gt;
&lt;h5 id="14. verificar la instalacion del paquete debian."&gt;14. Verificar la instalaci&amp;oacute;n del paquete Debian.&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;sudo dpkg -i canaima-sshd-config_0.1_all.deb 
[sudo] password for ecrespo: 
Selecting previously unselected package canaima-sshd-config.
(Leyendo la base de datos ... 418546 ficheros o directorios instalados actualmente.)
Desempaquetando canaima-sshd-config (de canaima-sshd-config_0.1_all.deb) ...
Configurando canaima-sshd-config (0.1) ...
A&amp;ntilde;adiendo `desviaci&amp;oacute;n de /etc/ssh/sshd_config a /etc/ssh/sshd_config.canaima-orig por canaima-sshd-config'&lt;/code&gt;&lt;/p&gt;
&lt;h5 id="15. al ejecutar un ls -l en el directorio /etc/ssh/sshd_config* se vera que se crea un enlace al archivo original y se muestra los archivos agregados de la extension canaima:"&gt;15. Al ejecutar un &lt;code&gt;ls -l&lt;/code&gt; en el directorio &lt;code&gt;/etc/ssh/sshd_config*&lt;/code&gt; se ver&amp;aacute; que se crea un enlace al archivo original y se muestra los archivos agregados de la extensi&amp;oacute;n canaima:&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;root@jewel:/etc/ssh# ls -l sshd_config*
lrwxrwxrwx 1 root root   19 nov 13 16:16 sshd_config -&amp;gt; sshd_config.canaima
-rw-r--r-- 1 root root 2487 nov 13 10:15 sshd_config.canaima
-rw-r--r-- 1 root root 2489 nov 13 13:20 sshd_config.canaima-orig&lt;/code&gt;&lt;/p&gt;
&lt;h5 id="16. al revisar el archivo se nota que el campo para permitir a root conectarse al servidor ssh se encuentra en no, igual caso para el parametro de reenvio de x11. se revisa el hash md5 del archivo y se nota que del archivo original al actual son diferentes:"&gt;16. Al revisar el archivo se nota que el campo para permitir a root conectarse al servidor ssh se encuentra en no, igual caso para el par&amp;aacute;metro de reenv&amp;iacute;o de &lt;code&gt;X11&lt;/code&gt;. Se revisa el hash &lt;code&gt;md5&lt;/code&gt; del archivo y se nota que del archivo original al actual son diferentes:&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;a358d423fa6b8bf640a7fd1e06731ea3  sshd_config&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Al crear paquetes de configuraci&amp;oacute;n de esta forma (una forma limpia de modificar archivos de configuraci&amp;oacute;n) y al eliminar el paquete de configuraci&amp;oacute;n los archivos originales se vuelven a usar:&lt;/p&gt;
&lt;p&gt;```
apt-get remove -f canaima-sshd-config&lt;/p&gt;
&lt;p&gt;root@jewel:/etc/ssh# md5sum sshd_config
8caefdd9e251b7cc1baa37874149a870  sshd_config
``` &lt;/p&gt;
&lt;p&gt;Se tienen varios ejemplos para usar &lt;code&gt;config-package-dev&lt;/code&gt; como por ejemplo paquetes binarios, configuraci&amp;oacute;n de cron, etc.&lt;/p&gt;
&lt;h2 id="_2"&gt;&lt;/h2&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Canaima"></category><category term="Debian"></category><category term="Empaquetado"></category><category term="General"></category><category term="ssh"></category><category term="Ubuntu"></category></entry><entry><title>Como crear un metapaquete (metapaquete con archivos de configuración)</title><link href="https://ecrespo.github.io/como-crear-un-metapaquete-metapaquete-con-archivos-de-configuracion.html" rel="alternate"></link><published>2011-09-23T09:00:00-05:30</published><updated>2011-09-23T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-09-23:/como-crear-un-metapaquete-metapaquete-con-archivos-de-configuracion.html</id><summary type="html">&lt;p&gt;Continuando con los art&amp;iacute;culos de empaquetados, ahora se explicar&amp;aacute; como agregar archivos de configuraci&amp;oacute;n al metapaquete.&lt;/p&gt;
&lt;p&gt;La idea es agregar los archivos de configuraci&amp;oacute;n de orca que se guardan en &lt;code&gt;.orca&lt;/code&gt; en el home de los usuarios. Para ello se va a copiar el directorio &lt;code&gt;.orca&lt;/code&gt; con los archivos que …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Continuando con los art&amp;iacute;culos de empaquetados, ahora se explicar&amp;aacute; como agregar archivos de configuraci&amp;oacute;n al metapaquete.&lt;/p&gt;
&lt;p&gt;La idea es agregar los archivos de configuraci&amp;oacute;n de orca que se guardan en &lt;code&gt;.orca&lt;/code&gt; en el home de los usuarios. Para ello se va a copiar el directorio &lt;code&gt;.orca&lt;/code&gt; con los archivos que contenga el directorio a &lt;code&gt;/etc/skell/&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;Se ejecuta el comando &lt;code&gt;equivs-control&lt;/code&gt; :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;equivs-control canaima-accesibilidad-escritorio&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;El archivo va a contener lo siguiente:&lt;/p&gt;
&lt;p&gt;```
Section: misc
Priority: optional
Homepage: http://canaima.softwarelibre.gob.ve
Standards-Version: 3.9.1&lt;/p&gt;
&lt;p&gt;Package: canaima-accesibilidad-visual-escritorio
Version: 1:0.1
Maintainer: Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@centitel.gob.ve"&gt;ecrespo@centitel.gob.ve&lt;/a&gt;
Depends: at-spi, brltty, brltty-flite, brltty-speechd, brltty-x11, listen, espeak, festival, festvox-sflpc16k, festvox-palpc16k,&lt;br/&gt;
gnome-orca, gnome-accessibility-themes, gnome-accessibility, libcolorblind0, gnome-mag, libgail-common, mousetweaks, dots,&lt;br/&gt;
${misc:Depends}
Architecture: any
Copyright: copyright
Changelog: changelog
Files: ./conf/.orca/user-settings.py /etc/skell/.orca/user-settings.py
       ./conf/.orca/app-settings/&lt;strong&gt;init&lt;/strong&gt;.py /etc/skell/.orca/app-settings/&lt;strong&gt;init&lt;/strong&gt;.py
       ./conf/.orca/orca-scripts/&lt;strong&gt;init&lt;/strong&gt;.py /etc/skell/.orca/orca-scripts/&lt;strong&gt;init&lt;/strong&gt;.py
       ./conf/.orca/user-settings.pyc /etc/skell/.orca/user-settings.pyc
       ./conf/.orca/app-settings/&lt;strong&gt;init&lt;/strong&gt;.pyc /etc/skell/.orca/app-settings/&lt;strong&gt;init&lt;/strong&gt;.pyc
       ./conf/.orca/orca-scripts/&lt;strong&gt;init&lt;/strong&gt;.pyc /etc/skell/.orca/orca-scripts/&lt;strong&gt;init&lt;/strong&gt;.pyc
Description: Programas de Accesibilidad para Canaima GNU/Linux
Este metapaquete provee los programas de accesibilidad y configuraciones para que las personas con discapacidad puedan utilizar&lt;br/&gt;
canaima GNU/Linux.
```&lt;/p&gt;
&lt;p&gt;Ahora se tiene el p&amp;aacute;rametro &lt;code&gt;Files&lt;/code&gt; donde el primer archivo es el origen donde se encuentra el archivo y el segundo es la ruta donde se va a copiar. Cada ruta se separa por la siguiente l&amp;iacute;nea.&lt;/p&gt;
&lt;p&gt;El archivo &lt;code&gt;changelog&lt;/code&gt; contiene lo siguiente:&lt;/p&gt;
&lt;p&gt;```
canaima-accesibilidad-visual-escritorio (1.0:0.1) unstable; urgency=low&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First release.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;-- Ernesto Nadir Crespo Avila  &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;  Thu, 22 Sep 2011 22:33:15 -0430
```&lt;/p&gt;
&lt;p&gt;El archivo copyright contiene:&lt;/p&gt;
&lt;p&gt;```
Authors:&lt;/p&gt;
&lt;p&gt;Copyright (C) 2011 Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;License:&lt;/p&gt;
&lt;p&gt;This package is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; version 2 dated June, 1991.&lt;/p&gt;
&lt;p&gt;This package is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.&lt;/p&gt;
&lt;p&gt;You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA&lt;/p&gt;
&lt;p&gt;On Debian GNU/Linux systems, the complete text of the GNU General
Public License can be found in `usr/share/common-licenses/GPL-2'
```&lt;/p&gt;
&lt;p&gt;Ahora s&amp;oacute;lo queda  ejecutar el comando &lt;code&gt;equivs-build&lt;/code&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;equivs-build -f canaima-accesibilidad-visual-escritorio&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Al ejecutar &lt;code&gt;ls -l&lt;/code&gt; se tiene los archivos creados y el &lt;code&gt;.deb&lt;/code&gt;:
&lt;code&gt;total 40
-rw-r--r-- 1 ernesto ernesto 1275 sep 23 08:40 canaima-accesibilidad-visual-escritorio
-rw-r--r-- 1 ernesto ernesto 1824 sep 23 08:41 canaima-accesibilidad-visual-escritorio_0.1_amd64.changes
-rw-r--r-- 1 ernesto ernesto 6836 sep 23 08:41 canaima-accesibilidad-visual-escritorio_0.1_amd64.deb
-rw-r--r-- 1 ernesto ernesto  909 sep 23 08:41 canaima-accesibilidad-visual-escritorio_0.1.dsc
-rw-r--r-- 1 ernesto ernesto 6378 sep 23 08:41 canaima-accesibilidad-visual-escritorio_0.1.tar.gz
-rw-r--r-- 1 ernesto ernesto  184 sep 23 08:41 changelog
drwxr-xr-x 3 ernesto ernesto 4096 sep 23 08:15 conf
 -rw-r--r-- 1 ernesto ernesto  896 sep 23 08:41 copyright&lt;/code&gt;
Al ejecutar &lt;code&gt;dpkg -c&lt;/code&gt; del archivo &lt;code&gt;.deb&lt;/code&gt; se tiene lo que se va a instalar con el metapaquete:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dpkg -c canaima-accesibilidad-visual-escritorio_0.1_amd64.deb
drwxr-xr-x root/root 0 2011-09-23 08:41 ./
drwxr-xr-x root/root 0 2011-09-23 08:41 ./usr/
drwxr-xr-x root/root 0 2011-09-23 08:41 ./usr/share/
drwxr-xr-x root/root 0 2011-09-23 08:41 ./usr/share/doc/
drwxr-xr-x root/root 0 2011-09-23 08:41 ./usr/share/doc/canaima-accesibilidad-visual-escritorio/
-rw-r--r-- root/root  1044 2011-09-23 08:41 ./usr/share/doc/canaima-accesibilidad-visual-escritorio/README.Debian
-rw-r--r-- root/root   171 2011-09-23 08:41 ./usr/share/doc/canaima-accesibilidad-visual-escritorio/changelog.gz
-rw-r--r-- root/root   896 2011-09-23 08:41 ./usr/share/doc/canaima-accesibilidad-visual-escritorio/copyright
drwxr-xr-x root/root 0 2011-09-23 08:41 ./etc/
drwxr-xr-x root/root 0 2011-09-23 08:41 ./etc/skell/
drwxr-xr-x root/root 0 2011-09-23 08:41 ./etc/skell/.orca/
drwxr-xr-x root/root 0 2011-09-23 08:41 ./etc/skell/.orca/app-settings/
-rwxr-xr-x root/root 0 2011-09-23 08:41 ./etc/skell/.orca/app-settings/__init__.py
-rw-r--r-- root/root   111 2011-09-23 08:41 ./etc/skell/.orca/app-settings/__init__.pyc
-rw-r--r-- root/root  7291 2011-09-23 08:41 ./etc/skell/.orca/user-settings.py
-rw-r--r-- root/root  6193 2011-09-23 08:41 ./etc/skell/.orca/user-settings.pyc
drwxr-xr-x root/root 0 2011-09-23 08:41 ./etc/skell/.orca/orca-scripts/
-rwxr-xr-x root/root 0 2011-09-23 08:41 ./etc/skell/.orca/orca-scripts/__init__.py
-rw-r--r-- root/root   111 2011-09-23 08:41 ./etc/skell/.orca/orca-scripts/__init__.pyc&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se nota que se crea el directorio &lt;code&gt;.orca&lt;/code&gt; dentro de &lt;code&gt;/etc/skell&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se ejcuta &lt;code&gt;lintian&lt;/code&gt; para verificar que el metapaquete no tenga errores o alertas:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;lintian -i canaima-accesibilidad-visual-escritorio_0.1.dsc&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;&lt;/h2&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Accesibilidad"></category><category term="Debian"></category><category term="Empaquetado"></category><category term="General"></category><category term="Linux"></category><category term="tiflotecnologia"></category><category term="Ubuntu"></category></entry><entry><title>Corrigiendo los reportes generados por lintian de un metapaquete</title><link href="https://ecrespo.github.io/corrigiendo-los-reportes-generados-por-lintian-de-un-metapaquete.html" rel="alternate"></link><published>2011-09-22T09:00:00-05:30</published><updated>2011-09-22T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-09-22:/corrigiendo-los-reportes-generados-por-lintian-de-un-metapaquete.html</id><summary type="html">&lt;p&gt;Este art&amp;iacute;culo explicar&amp;aacute; como corregir los mensajes generados por &lt;code&gt;lintian&lt;/code&gt;, estos mensajes son debido a que el programa empaquetado o metapaquete no cumple con el &lt;a href="http://www.debian.org/doc/debian-policy/"&gt;policy de Debian&lt;/a&gt; y para subir dicho programa es necesario que est&amp;eacute; sin errores ni warning.&lt;/p&gt;
&lt;p&gt;El archivo que se va a verificar es el …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Este art&amp;iacute;culo explicar&amp;aacute; como corregir los mensajes generados por &lt;code&gt;lintian&lt;/code&gt;, estos mensajes son debido a que el programa empaquetado o metapaquete no cumple con el &lt;a href="http://www.debian.org/doc/debian-policy/"&gt;policy de Debian&lt;/a&gt; y para subir dicho programa es necesario que est&amp;eacute; sin errores ni warning.&lt;/p&gt;
&lt;p&gt;El archivo que se va a verificar es el &lt;a href="https://gitorious.org/sierra-nevada/canaima-caribay-radio/blobs/master/canaima-caribay-radio_1.0.dsc"&gt;.dsc del metapaquete creado al empaquetar canaima-caribay-radio&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Al ejecutar &lt;code&gt;lintian&lt;/code&gt; con el archivo &lt;code&gt;dsc&lt;/code&gt; devuelve el siguiente mensaje:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;lintian -i canaima-caribay-radio_1.0.dsc&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;W: canaima-caribay-radio source: debhelper-but-no-misc-depends canaima-caribay-radio
N: 
N:The source package uses debhelper, but it does not include
N:${misc:Depends} in the given binary package's debian/control entry. Any
N:debhelper command may add dependencies to ${misc:Depends} that are
N:required for the work that it does, so recommended best practice is to
N:always add ${misc:Depends} to the dependencies of each binary package if
N:debhelper is in use.
N:
N:Refer to the debhelper(7) manual page for details.
N:
N:Severity: normal, Certainty: possible
N: 
W: canaima-caribay-radio source: package-uses-deprecated-debhelper-compat-version 4
N: 
N:The debhelper compatibility version used by this package is marked as
N:deprecated by the debhelper developer. You should really consider using
N:a newer compatibility version.
N:
N:The compatibility version can be set in (preferred) debian/compat or by
N:setting and exporting DH_COMPAT in debian/rules. If it is not set in
N:either place, debhelper defaults to the deprecated compatibility version
N:1.
N:
N:Refer to the debhelper(7) manual page for details.
N:
N:Severity: normal, Certainty: certain
N: 
W: canaima-caribay-radio source: binary-arch-rules-but-pkg-is-arch-indep
N: 
N:It looks like you try to run code in the binary-arch target of
N:debian/rules, even though your package is architecture- independent.
N:
N:Severity: normal, Certainty: certain
N:&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;El primer warning es que hace falta agregar &lt;code&gt;${misc:Depends]&lt;/code&gt; en las dependencias.  Adicionalmente se tiene que cambiar el par&amp;aacute;metro &lt;code&gt;Standards-Version&lt;/code&gt; a la versi&amp;oacute;n &lt;code&gt;3.9.1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;```
Section: misc
Priority: optional
Homepage: http://canaima.softwarelibre.gob.ve
Standards-Version: 3.9.1&lt;/p&gt;
&lt;p&gt;Package: canaima-caribay-radio
Version: 1.0
Maintainer: Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;
Depends: ${misc:Depends},jackd2, libjack-jackd2-0, libjack-jackd2-dev, pulseaudio-module-jack, qjackctl,&lt;br/&gt;
libjack-jackd2-0, libjack-jackd2-dev, vorbis-tools, libvorbis-dev, libogg-dev, libmad0-dev, libsamplerate0-dev,&lt;br/&gt;
libflac-dev, libsndfile1-dev, libavcodec-dev, libavformat-dev, libspeex-dev, python-gtk2-dev,&lt;br/&gt;
python-mutagen, libdbus-1-dev, ffmpeg, libshout3-dev, libtwolame-dev, twolame,
idjc, audacity, audacity-data, audacity-dbg, icecast2, easytag
Architecture: all
Copyright: copyright
Changelog: changelog 
Description: Metapaquete para la instalacion de radio streaming
Metapaquete para la instalacion de radio streaming con icecast2 e idjc.
```&lt;/p&gt;
&lt;p&gt;El segundo warning menciona que el archivo &lt;code&gt;debian/compat&lt;/code&gt; tiene dentro el n&amp;uacute;mero 4 y es necesario que se actualice a la versi&amp;oacute;n de &lt;code&gt;debhelper&lt;/code&gt; que se est&amp;aacute; usando para empaquetar, en este caso debe cambiar a 8. Esto se tiene que cambiar en la plantilla de &lt;code&gt;equivs&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;vim /usr/share/equivs/template/debian/compat&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;Cambiar 4 por 8.&lt;/p&gt;
&lt;p&gt;El siguiente warning menciona un problema en la definici&amp;oacute;n de la arquitectura, que es necesario quitar &lt;code&gt;binary-arch&lt;/code&gt; y nuestro paquete es independiente de la plataforma. Esto se resuelve modificando &lt;code&gt;canaima-caribay-radio&lt;/code&gt; cambian el par&amp;aacute;metro &lt;code&gt;Architecture: all&lt;/code&gt; por &lt;code&gt;any&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Luego de realizar esos cambios se vuelve a crear el metapaquete y a ejecutar &lt;code&gt;lintian&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;lintian -i canaima-caribay-radio_1.0.dsc&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;W: canaima-caribay-radio source: dh-clean-k-is-deprecated
N: 
N:This package calls dh_clean -k in its debian/rules file and declares a
N:debhelper compatibility version of at least 7.
N:
N:debhelper 7 deprecated dh_clean -k in favour of dh_prep.
N:
N:Refer to the dh_clean(1) manual page for details.
N:
N:Severity: normal, Certainty: certain
N: 
W: canaima-caribay-radio source: package-lacks-versioned-build-depends-on-debhelper 8
N: 
N:The package either doesn't declare a versioned build dependency on
N:debhelper or does not declare a versioned build dependency on a new
N:enough version of debhelper to satisfy the declared compatibility level.
N:
N:Recommended practice is to always declare an explicit versioned
N:dependency on debhelper equal to or greater than the compatibility level
N:used by the package, even if the versioned dependency isn't strictly
N:necessary. Having a versioned dependency also helps with backports to
N:older releases and correct builds on partially updated systems.
N:
N:Refer to the debhelper(7) manual page for details.
N:
N:Severity: minor, Certainty: certain
N:&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Luego de cambiar el archivo &lt;code&gt;compat&lt;/code&gt; y la versi&amp;oacute;n del &lt;code&gt;standards-version&lt;/code&gt; aparece un warning sobre el comando &lt;code&gt;dh_clean -k&lt;/code&gt; que se tiene que sustituir por &lt;code&gt;dh_prep&lt;/code&gt; en el archivo &lt;code&gt;debian/rules&lt;/code&gt; de la plantilla:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vim /usr/share/equivs/template/debian/rules&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;install: build
dh_testdir
dh_testroot
dh_prep&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;El otro warning menciona que &lt;code&gt;debhelper&lt;/code&gt; tiene un n&amp;uacute;mero de versi&amp;oacute;n viejo. Para cambiarlo se busca el archivo &lt;code&gt;control.in&lt;/code&gt; en las plantillas y se modifica la &lt;code&gt;dep&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vim /usr/share/equivs/template/debian/control.in&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se modifica la siguiente l&amp;iacute;nea:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Build-Depends: debhelper (&amp;gt;= 8)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se vuelve a empaquetar y a ejecutar &lt;code&gt;lintian&lt;/code&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;lintian -i canaima-caribay-radio_1.0.dsc&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Listo, no m&amp;aacute;s mensajes de error o warnings.  &lt;/p&gt;
&lt;h2 id="_1"&gt;&lt;/h2&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Canaima"></category><category term="Debian"></category><category term="Empaquetado"></category><category term="General"></category><category term="Linux"></category><category term="Ubuntu"></category></entry><entry><title>Como crear un metapaquete (versión 2)</title><link href="https://ecrespo.github.io/como-crear-un-metapaquete-version-2.html" rel="alternate"></link><published>2011-09-21T09:00:00-05:30</published><updated>2011-09-21T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-09-21:/como-crear-un-metapaquete-version-2.html</id><summary type="html">&lt;p&gt;Este art&amp;iacute;culo es una actualizaci&amp;oacute;n del art&amp;iacute;culo sobre &lt;strong&gt;como crear un metapaquete&lt;/strong&gt; que lo pueden leer &lt;a href="http://blog.crespo.org.ve/2009/03/como-crear-un-metapaquete.html"&gt;ac&amp;aacute;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;En este art&amp;iacute;culo se agregar&amp;aacute; el archivo &lt;code&gt;changelog&lt;/code&gt; y &lt;code&gt;copyright&lt;/code&gt; para el metapaquete &lt;code&gt;canaima-caribay-radio&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Se crea un directorio de trabajo:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;mkdir canaima-caribay-radio&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ahora se crea el archivo &lt;code&gt;control&lt;/code&gt; con el comando &lt;code&gt;equivs-control&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;equivs-control …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Este art&amp;iacute;culo es una actualizaci&amp;oacute;n del art&amp;iacute;culo sobre &lt;strong&gt;como crear un metapaquete&lt;/strong&gt; que lo pueden leer &lt;a href="http://blog.crespo.org.ve/2009/03/como-crear-un-metapaquete.html"&gt;ac&amp;aacute;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;En este art&amp;iacute;culo se agregar&amp;aacute; el archivo &lt;code&gt;changelog&lt;/code&gt; y &lt;code&gt;copyright&lt;/code&gt; para el metapaquete &lt;code&gt;canaima-caribay-radio&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Se crea un directorio de trabajo:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;mkdir canaima-caribay-radio&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ahora se crea el archivo &lt;code&gt;control&lt;/code&gt; con el comando &lt;code&gt;equivs-control&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;equivs-control canaima-caribay-radio&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ahora se modificar&amp;aacute; el archivo para que tenga las dependencias para &lt;code&gt;jackd2, icecast2, audacity, easytag&lt;/code&gt; e &lt;code&gt;idjc&lt;/code&gt;. Se agrega el mantenedor del paquete, el &lt;code&gt;homepage&lt;/code&gt; del mismo y una descripci&amp;oacute;n corta y larga del metapquete.&lt;/p&gt;
&lt;p&gt;El archivo modificado:&lt;/p&gt;
&lt;p&gt;```
Section: misc
Priority: optional
Homepage: http://canaima.softwarelibre.gob.ve
Standards-Version: 3.6.2&lt;/p&gt;
&lt;p&gt;Package: canaima-caribay-radio
Version: 1.0
Maintainer: Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;
Depends: jackd2, libjack-jackd2-0, libjack-jackd2-dev, pulseaudio-module-jack, qjackctl, libjack-jackd2-0,&lt;br/&gt;
libjack-jackd2-dev, vorbis-tools, libvorbis-dev, libogg-dev, libmad0-dev, libsamplerate0-dev, libflac-dev, &lt;br/&gt;
libsndfile1-dev, libavcodec-dev, libavformat-dev, libspeex-dev, python-gtk2-dev, python-mutagen, libdbus-1-dev, ffmpeg,&lt;br/&gt;
libshout3-dev, libtwolame-dev, twolame, idjc, audacity, audacity-data, audacity-dbg, icecast2, easytag
Architecture: all
Copyright: copyright
Changelog: changelog 
Description: Metapaquete para la instalacion de radio streaming
Metapaquete para la instalacion de radio streaming con icecast2 e idjc.
```&lt;/p&gt;
&lt;p&gt;Del art&amp;iacute;culo anterior se agrego el campo &lt;code&gt;Copyright&lt;/code&gt; y &lt;code&gt;Changelog&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Estos archivos contienen lo siguiente:&lt;/p&gt;
&lt;p&gt;Copyright:&lt;/p&gt;
&lt;p&gt;```
Authors:&lt;/p&gt;
&lt;p&gt;Copyright (C) 2011 Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;
Copyright (C) 2011 David Hern&amp;aacute;ndez &lt;a href="mailto:david.vzla@gmail.com"&gt;david.vzla@gmail.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;License:&lt;/p&gt;
&lt;p&gt;This package is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; version 2 dated June, 1991.&lt;/p&gt;
&lt;p&gt;This package is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.&lt;/p&gt;
&lt;p&gt;You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA&lt;/p&gt;
&lt;p&gt;On Debian GNU/Linux systems, the complete text of the GNU General
Public License can be found in `/usr/share/common-licenses/GPL-2'.&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;Changelog:&lt;/p&gt;
&lt;p&gt;```
canaima-caribay-radio (1:1.0) unstable; urgency=low&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First release.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;-- Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;  Tue, 20 Sep 2011 16:12:45 -0430
```&lt;/p&gt;
&lt;p&gt;Ahora para crear y firmar el metapaquete se usa el comando &lt;code&gt;equivs-build&lt;/code&gt; con la opci&amp;oacute;n &lt;code&gt;-f&lt;/code&gt; que permite ejecutar &lt;code&gt;debuild&lt;/code&gt; completo y firmar el metapaquete.&lt;/p&gt;
&lt;p&gt;Es importante notar que en la llave &lt;code&gt;gpg&lt;/code&gt; debe estar el nombre del mantenedor que aparece en el control y changelog para poder firmar el metapaquete.&lt;/p&gt;
&lt;p&gt;A continuaci&amp;oacute;n se muestra la llave gpg:
&lt;code&gt;gpg --list-keys | less&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="```"&gt;```&lt;/h2&gt;
&lt;p&gt;pub   1024D/C97E7015 2005-08-15
uid  Ernesto Nadir Crespo Avila (seraph1) &lt;a href="mailto:ecrespo@debian.org.ve"&gt;ecrespo@debian.org.ve&lt;/a&gt;
uid  Ernesto Nadir Crespo Avila (seraph1) &lt;a href="mailto:ecrespo@debianvenezuela.org"&gt;ecrespo@debianvenezuela.org&lt;/a&gt;
uid  Ernesto Nadir Crespo Avila (seraph1) &lt;a href="mailto:ecrespo@uc.edu.ve"&gt;ecrespo@uc.edu.ve&lt;/a&gt;
uid  Ernesto Nadir Crespo Avila (seraph1) &lt;a href="mailto:ecrespo@cantv.net"&gt;ecrespo@cantv.net&lt;/a&gt;
uid  Ernesto Nadir Crespo Avila (seraph1) &lt;a href="mailto:ecrespo@gmail.com"&gt;ecrespo@gmail.com&lt;/a&gt;
uid  Ernesto Crespo (seraph1) &lt;a href="mailto:ecrespoa@yahoo.es"&gt;ecrespoa@yahoo.es&lt;/a&gt;
uid  Ernesto Nadir Crespo Avila (seraph) &lt;a href="mailto:ernesto@crespo.info.ve"&gt;ernesto@crespo.info.ve&lt;/a&gt;
uid  [jpeg image of size 11184]
uid  Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;
uid  Ernesto Nadir Crespo Avila &lt;a href="mailto:ernesto@crespo.org.ve"&gt;ernesto@crespo.org.ve&lt;/a&gt;
```&lt;/p&gt;
&lt;p&gt;Ahora se crear&amp;aacute; el &lt;code&gt;metapaquete&lt;/code&gt;: El procedimiento pedir&amp;aacute; 2 veces escribir la frase de la llave &lt;code&gt;gpg&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;equivs-build -f canaima-caribay-radio&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;``
dpkg-buildpackage: exportar &amp;laquo;CFLAGS&amp;raquo; de dpkg-buildflags (origen: &amp;laquo;vendor&amp;raquo;): &amp;laquo;-g -O2&amp;raquo;
dpkg-buildpackage: exportar &amp;laquo;CPPFLAGS&amp;raquo; de dpkg-buildflags (origen: &amp;laquo;vendor&amp;raquo;): &amp;laquo;&amp;raquo;
dpkg-buildpackage: exportar &amp;laquo;CXXFLAGS&amp;raquo; de dpkg-buildflags (origen: &amp;laquo;vendor&amp;raquo;): &amp;laquo;-g -O2&amp;raquo;
dpkg-buildpackage: exportar &amp;laquo;FFLAGS&amp;raquo; de dpkg-buildflags (origen: &amp;laquo;vendor&amp;raquo;): &amp;laquo;-g -O2&amp;raquo;
dpkg-buildpackage: exportar &amp;laquo;LDFLAGS&amp;raquo; de dpkg-buildflags (origen: &amp;laquo;vendor&amp;raquo;): &amp;laquo;&amp;raquo;
dpkg-buildpackage: paquete fuente canaima-caribay-radio
dpkg-buildpackage: versi&amp;oacute;n de las fuentes 1:1.0
dpkg-buildpackage: fuentes modificadas por Ernesto Nadir Crespo Avila &amp;lt;ecrespo@cenditel.gob.ve&amp;gt;
dpkg-buildpackage: arquitectura del sistema amd64
dpkg-source --before-build equivs.nAXaSZ
fakeroot debian/rules clean
dh_testdir
dh_testroot
dh_clean
dh_clean: Compatibility levels before 5 are deprecated.
dpkg-source -b equivs.nAXaSZ
dpkg-source: aviso: no se ha definido un formato de fuentes en &amp;laquo;debian/source/format&amp;raquo;, consulte dpkg-source(1)
dpkg-source: informaci&amp;oacute;n: usando el formato de fuente &amp;laquo;1.0&amp;raquo;
dpkg-source: aviso: el directorio de fuentes &amp;laquo;equivs.nAXaSZ&amp;raquo; no es &amp;lt;paquete-fuente&amp;gt;-&amp;lt;versi&amp;oacute;n-desarrollador-original&amp;gt; &amp;laquo;canaima-caribay-radio-1.0&amp;raquo;
dpkg-source: informaci&amp;oacute;n: construyendo canaima-caribay-radio en canaima-caribay-radio_1.0.tar.gz
dpkg-source: informaci&amp;oacute;n: construyendo canaima-caribay-radio en canaima-caribay-radio_1.0.dsc
debian/rules build
make: No se hace nada para&lt;/code&gt;build'.
fakeroot debian/rules binary
dh_testdir
dh_testroot
dh_clean -k
dh_clean: dh_clean -k is deprecated; use dh_prep instead
dh_clean: Compatibility levels before 5 are deprecated.
dh_testdir
dh_testroot
dh_install
dh_install: Compatibility levels before 5 are deprecated.
dh_installdocs
dh_installdocs: Compatibility levels before 5 are deprecated.
dh_installchangelogs
dh_installchangelogs: Compatibility levels before 5 are deprecated.
dh_compress
dh_compress: Compatibility levels before 5 are deprecated.
dh_fixperms
dh_fixperms: Compatibility levels before 5 are deprecated.
dh_installdeb
dh_installdeb: Compatibility levels before 5 are deprecated.
dh_gencontrol
dh_gencontrol: Compatibility levels before 5 are deprecated.
dh_md5sums
dh_md5sums: Compatibility levels before 5 are deprecated.
dh_builddeb
dh_builddeb: Compatibility levels before 5 are deprecated.
dpkg-deb: construyendo el paquete &lt;code&gt;canaima-caribay-radio' en&lt;/code&gt;../canaima-caribay-radio_1.0_all.deb'.
signfile canaima-caribay-radio_1.0.dsc&lt;/p&gt;
&lt;p&gt;Necesita una frase contrase&amp;ntilde;a para desbloquear la clave secreta
del usuario: "Ernesto Nadir Crespo Avila (seraph1) &lt;a href="mailto:ecrespo@debian.org.ve"&gt;ecrespo@debian.org.ve&lt;/a&gt;"
clave DSA de 1024 bits, ID C97E7015, creada el 2005-08-15&lt;/p&gt;
&lt;p&gt;dpkg-genchanges  &amp;gt;../canaima-caribay-radio_1.0_amd64.changes
dpkg-genchanges: incluyendo el c&amp;oacute;digo fuente completo en la subida
signfile canaima-caribay-radio_1.0_amd64.changes&lt;/p&gt;
&lt;p&gt;Necesita una frase contrase&amp;ntilde;a para desbloquear la clave secreta
del usuario: "Ernesto Nadir Crespo Avila (seraph1) &lt;a href="mailto:ecrespo@debian.org.ve"&gt;ecrespo@debian.org.ve&lt;/a&gt;"
clave DSA de 1024 bits, ID C97E7015, creada el 2005-08-15&lt;/p&gt;
&lt;p&gt;dpkg-source --after-build equivs.nAXaSZ
dpkg-buildpackage: subida completa; paquete nativo de Debian (se incluye la fuente completa)&lt;/p&gt;
&lt;p&gt;The package has been created.
Attention, the package has been created in the current directory,
not in ".." as indicated by the message above!
```&lt;/p&gt;
&lt;p&gt;Ahora se ejecuta un &lt;code&gt;ls -l&lt;/code&gt; y se tiene lo siguiente:
&lt;code&gt;ernesto@zeath:~/canaima/canaima-caribay-radio$ ls -l
total 28
-rw-r--r-- 1 ernesto ernesto  849 sep 20 17:03 canaima-caribay-radio
-rw-r--r-- 1 ernesto ernesto 2528 sep 21 08:48 canaima-caribay-radio_1.0_all.deb
-rw-r--r-- 1 ernesto ernesto 1583 sep 21 08:49 canaima-caribay-radio_1.0_amd64.changes
-rw-r--r-- 1 ernesto ernesto  819 sep 21 08:49 canaima-caribay-radio_1.0.dsc
-rw-r--r-- 1 ernesto ernesto 2170 sep 21 08:48 canaima-caribay-radio_1.0.tar.gz
-rw-r--r-- 1 ernesto ernesto  164 sep 20 17:03 changelog
-rw-r--r-- 1 ernesto ernesto  957 sep 20 17:03 copyright&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;El archivo &lt;code&gt;canaima-caribay-radio_1.0_amd64.changes&lt;/code&gt;  contiene lo siguiente:  &lt;/p&gt;
&lt;p&gt;```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1&lt;/p&gt;
&lt;p&gt;Format: 1.8
Date: Tue, 20 Sep 2011 16:12:45 -0430
Source: canaima-caribay-radio
Binary: canaima-caribay-radio
Architecture: source all
Version: 1:1.0
Distribution: unstable
Urgency: low
Maintainer: Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;
Changed-By: Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;
Description: 
 canaima-caribay-radio - Metapaquete para la instalacion de radio streaming
Changes: 
 canaima-caribay-radio (1:1.0) unstable; urgency=low
 .
   * First release.
Checksums-Sha1: 
 2234f6f5d8808e0ae425eb3164632b01bc94251a 819 canaima-caribay-radio_1.0.dsc
 8851015c0174d5126127328776e35174e361cc21 2170 canaima-caribay-radio_1.0.tar.gz
 104312d9eb56eb623ad1f901a2801e096f4021be 2528 canaima-caribay-radio_1.0_all.deb
Checksums-Sha256: 
 3be03f102f6ef9dab2525ac384a265e9761ca2f5f4fb7d48fdbd0b38fee4e22f 819 canaima-caribay-radio_1.0.dsc
 75cb5c5b95d14d995776a035925c2cfe5ee77873d091ef9e238b000fb4b1375b 2170 canaima-caribay-radio_1.0.tar.gz
 74540c21659c774a12d5162886f59b974b155c47d5471fac40ff7fece11cd282 2528 canaima-caribay-radio_1.0_all.deb
Files: 
 3f563e110433652011cf0d32fe96a0f6 819 misc optional canaima-caribay-radio_1.0.dsc
 e53b6a60fd0961a6b161a61b5a107e77 2170 misc optional canaima-caribay-radio_1.0.tar.gz
 4ac58a93d2e4160f378093909d687967 2528 misc optional canaima-caribay-radio_1.0_all.deb&lt;/p&gt;
&lt;p&gt;-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)&lt;/p&gt;
&lt;p&gt;iEYEARECAAYFAk555EYACgkQh+iQYcl+cBW/kQCeOZzpeHCAYomqczO7kkR6+nvT
fWIAniK+uWLpndvqEJmz2IUA7JNe8Nng
=qVVe
 -----END PGP SIGNATURE-----
```&lt;/p&gt;
&lt;p&gt;El archivo &lt;code&gt;canaima-caribay-radio_1.0.dsc&lt;/code&gt; contiene lo siguiente:&lt;/p&gt;
&lt;p&gt;```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1&lt;/p&gt;
&lt;p&gt;Format: 1.0
Source: canaima-caribay-radio
Binary: canaima-caribay-radio
Architecture: all
Version: 1:1.0
Maintainer: Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@cenditel.gob.ve"&gt;ecrespo@cenditel.gob.ve&lt;/a&gt;
Homepage: http://canaima.softwarelibre.gob.ve
Standards-Version: 3.6.2
Build-Depends: debhelper (&amp;gt;= 4)
Checksums-Sha1: 
 8851015c0174d5126127328776e35174e361cc21 2170 canaima-caribay-radio_1.0.tar.gz
Checksums-Sha256: 
 75cb5c5b95d14d995776a035925c2cfe5ee77873d091ef9e238b000fb4b1375b 2170 canaima-caribay-radio_1.0.tar.gz
Files: 
 e53b6a60fd0961a6b161a61b5a107e77 2170 canaima-caribay-radio_1.0.tar.gz&lt;/p&gt;
&lt;p&gt;-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)&lt;/p&gt;
&lt;p&gt;iEYEARECAAYFAk555EIACgkQh+iQYcl+cBVLqgCdGA+DXaVjyDrcGNfxcITL9sCP
oY0An1hC/e7UIQiiTZ4DQUysYHs8sTS9
=6NcI
-----END PGP SIGNATURE-----
```&lt;/p&gt;
&lt;h2 id="_1"&gt;&lt;/h2&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Canaima"></category><category term="Debian"></category><category term="Empaquetado"></category><category term="General"></category><category term="Linux"></category><category term="Ubuntu"></category></entry><entry><title>Subir un paquete Debian (pyching) al repositorio</title><link href="https://ecrespo.github.io/subir-un-paquete-debian-pyching-al-repositorio.html" rel="alternate"></link><published>2009-04-09T10:00:00-05:30</published><updated>2009-04-09T10:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2009-04-09:/subir-un-paquete-debian-pyching-al-repositorio.html</id><summary type="html">&lt;p&gt;Como la intenci&amp;oacute;n es utilizar el comando hg-buildpackage para construir un paquete
Debian, pero como en Debian muy pocos usan mercurial como repositorio. Tuve que crear
un repositorio en bitbucket.org para mis paquetes.&lt;/p&gt;
&lt;p&gt;Para ello es necesario crear el repositorio en bitbucket.org.&lt;/p&gt;
&lt;p&gt;Luego su equipo crear el directorio …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Como la intenci&amp;oacute;n es utilizar el comando hg-buildpackage para construir un paquete
Debian, pero como en Debian muy pocos usan mercurial como repositorio. Tuve que crear
un repositorio en bitbucket.org para mis paquetes.&lt;/p&gt;
&lt;p&gt;Para ello es necesario crear el repositorio en bitbucket.org.&lt;/p&gt;
&lt;p&gt;Luego su equipo crear el directorio del paquete:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mkdir pyching
cd pyching&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Bajarse las fuentes de pyching:
```
apt-get source pyching
Leyendo lista de paquetes... Hecho
Creando &amp;aacute;rbol de dependencias
Leyendo la informaci&amp;oacute;n de estado... Hecho
Necesito descargar 139kB de archivos fuente.
Des:1 http://debian.velug.org.ve sid/main pyching 1.2.2-5 (dsc) [1092B]
Des:2 http://debian.velug.org.ve sid/main pyching 1.2.2-5 (tar) [134kB]
Des:3 http://debian.velug.org.ve sid/main pyching 1.2.2-5 (diff) [3931B]
Descargados 139kB en 5s (27,8kB/s)
dpkg-source: extracting pyching in pyching-1.2.2
dpkg-source: info: unpacking pyching_1.2.2.orig.tar.gz
dpkg-source: info: applying pyching_1.2.2-5.diff.gz&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;Cambiarse al directorio pyching-1.2.2:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cd pyching-1.2.2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Crear el repositorio:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ecrespo@canaima:~/paquetes/pyching/pyching-1.2.2$ hg init&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Agregar las fuentes al repositorio:&lt;/p&gt;
&lt;p&gt;```
ecrespo@canaima:~/paquetes/pyching/pyching-1.2.2$ hg add
adding #smgHtmlView.py#
adding BUGS
adding CHANGES
adding COPYING
adding COPYRIGHT
adding CREDITS
adding INSTALL
adding NEWS
adding README
adding debian/changelog
adding debian/compat
adding debian/control
adding debian/copyright
adding debian/dirs
adding debian/docs
adding debian/menu
adding debian/pyching-small.xpm
adding debian/pycompat
adding debian/rules
adding debian/watch
adding icon.xbm
adding pyching.1
adding pyching.png
adding pyching.py
adding pyching.pyw
adding pyching.sh
adding pyching_cimages.py
adding pyching_engine.py
adding pyching_hlhtx_data.py
adding pyching_idimage_data.py
adding pyching_int_data.py
adding pyching_interface_tkinter.py
adding smgAbout.py
adding smgAnimate.py
adding smgDialog.py
adding smgHtmlView.py&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;Se hace el commit:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ecrespo@canaima:~/paquetes/pyching/pyching-1.2.2$ hg commit -m"Subir el paquete pyching al repositorio"&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Subir al repositorio:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ecrespo@canaima:~/paquetes/pyching/pyching-1.2.2$ hg push http://bitbucket.org/ecrespo/pyching/
pushing to http://bitbucket.org/ecrespo/pyching/
searching for changes
http authorization required
realm: Bitbucket.org HTTP
user: ecrespo
password:
bb/acl: ecrespo is allowed. accepted payload.
quota: 340.8 KB in use, 150.0 MB available (0.22% used)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ya en este punto el paquete se encuentra en el servidor de repositorios mercurial.&lt;/p&gt;
&lt;p&gt;&lt;img alt="pyching" src="./imagenes/pyching.png"/&gt;&lt;/p&gt;
&lt;p&gt;Ahora se crea un directorio temporal para trabajar con los fuentes para empaquetarlo:&lt;/p&gt;
&lt;p&gt;```
ecrespo@canaima:~/paquetes/pyching/temporal$ hg clone http://bitbucket.org/ecrespo/pyching/
destination directory: pyching
requesting all changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 36 changes to 36 files
updating working directory
36 files updated, 0 files merged, 0 files removed, 0 files unresolved&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;Para finalizar se ejecuta el comando para empaquetar:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;``
ecrespo@canaima:~/paquetes/pyching/temporal/pyching-1.2.2$ hg-buildpackage -us -uc -rfakeroot
Upstream file/directory already exists; not building
dpkg-buildpackage -rfakeroot -D -us -uc -i.hg -I.hg
dpkg-buildpackage: set CFLAGS to default value: -g -O2
dpkg-buildpackage: set CPPFLAGS to default value:
dpkg-buildpackage: set LDFLAGS to default value:
dpkg-buildpackage: set FFLAGS to default value: -g -O2
dpkg-buildpackage: set CXXFLAGS to default value: -g -O2
dpkg-buildpackage: source package pyching
dpkg-buildpackage: source version 1.2.2-5
dpkg-buildpackage: source changed by Ernesto Nadir Crespo Avila
dpkg-buildpackage: host architecture i386
fakeroot debian/rules clean
dh_testdir
dh_testroot
dh_clean
dpkg-source -i.hg -I.hg -b pyching-1.2.2
dpkg-source: info: using source format&lt;/code&gt;1.0'
dpkg-source: info: building pyching using existing pyching_1.2.2.orig.tar.gz
dpkg-source: info: building pyching in pyching_1.2.2-5.diff.gz
dpkg-source: warning: ignoring deletion of file #smgHtmlView.py#
dpkg-source: info: building pyching in pyching_1.2.2-5.dsc
debian/rules build
make: No se hace nada para &lt;code&gt;build'.
fakeroot debian/rules binary
dh_testdir
dh_testroot
dh_prep
dh_installdirs
install -m 644 pyching_cimages.py pyching_engine.py \
pyching_hlhtx_data.py pyching_idimage_data.py \
pyching_int_data.py pyching_interface_tkinter.py \
smgAbout.py smgAnimate.py smgDialog.py smgHtmlView.py \
debian/pyching/usr/share/pyching/
install -m 755 pyching.py debian/pyching/usr/share/pyching/
install -m 644 pyching.png debian/pyching-small.xpm debian/pyching/usr/share/pixmaps/
install pyching.sh debian/pyching/usr/games/pyching
ln -s ../doc/pyching/CREDITS debian/pyching/usr/share/pyching/CREDITS
dh_testdir
dh_testroot
dh_installchangelogs CHANGES
dh_installdocs
dh_installmenu
dh_installman pyching.1
dh_link
dh_compress
dh_fixperms
dh_pycentral
dh_python /usr/share/pyching
dh_python: Doing nothing since dh_pycompat exists; dh_pysupport or dh_pycentral should do the work. You can remove dh_python from your rules file.
dh_installdeb
dh_gencontrol
dh_md5sums
dh_builddeb
atenci&amp;oacute;n,&lt;/code&gt;debian/pyching/DEBIAN/control' contiene un campo &lt;code&gt;Python-Version' definido por el usuario
dpkg-deb: no se tendr&amp;aacute;n en cuenta 1 avisos sobre los ficheros de control
dpkg-deb: construyendo el paquete&lt;/code&gt;pyching' en `../pyching_1.2.2-5_all.deb'.
dpkg-genchanges &amp;gt;../pyching_1.2.2-5_i386.changes
dpkg-genchanges: not including original source code in upload
dpkg-buildpackage: binary and diff upload (original source NOT included)
Now running lintian...
Finished running lintian.&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;Luego se revisa el directorio donde se creo el paquete:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ecrespo@canaima:~/paquetes/pyching/temporal/pyching-1.2.2$ cd ..
ecrespo@canaima:~/paquetes/pyching/temporal$ ls
pyching-1.2.2 pyching_1.2.2-5.diff.gz pyching_1.2.2-5_i386.build pyching_1.2.2.orig.tar.gz
pyching_1.2.2-5_all.deb pyching_1.2.2-5.dsc pyching_1.2.2-5_i386.changes&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Debian"></category><category term="Paquetes"></category></entry></feed>