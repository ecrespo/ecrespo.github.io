
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://ecrespo.github.io/theme/pygments/monokai.min.css">


  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/solid.css">


    <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Página de Seraph Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#e5e5ff">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#e5e5ff">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#e5e5ff">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="En el artículo de ejecución remota de script versión conectado por USB y la versión por wifi, se explica en el primer caso como enviar mensajes de texto y en el segundo como ejecutar una aplicación remotamente en el celular. En este caso se fusionará ambos tipos de conexiones para …" />
<meta name="keywords" content="Linux, Python, Android, Debian">


<meta property="og:site_name" content="Página de Seraph"/>
<meta property="og:title" content="Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)"/>
<meta property="og:description" content="En el artículo de ejecución remota de script versión conectado por USB y la versión por wifi, se explica en el primer caso como enviar mensajes de texto y en el segundo como ejecutar una aplicación remotamente en el celular. En este caso se fusionará ambos tipos de conexiones para …"/>
<meta property="og:locale" content="es_VE"/>
<meta property="og:url" content="https://ecrespo.github.io/programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2011-06-16 09:00:00-04:30"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ecrespo.github.io/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial Python"/>
<meta property="article:tag" content="Linux"/>
<meta property="article:tag" content="Python"/>
<meta property="article:tag" content="Android"/>
<meta property="article:tag" content="Debian"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Página de Seraph &ndash; Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "pub-0261001661746989",
      enable_page_level_ads: true
    });
  </script>
</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://ecrespo.github.io">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>

      <h1>
        <a href="https://ecrespo.github.io">Ernesto Crespo</a>
      </h1>

<p>Data Scientist </p>

      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="https://ecrespo.github.io/pages/About.html#About">
                  Acerca
                </a>
              </li>
              <li>
                <a target="_self"
                   href="https://ecrespo.github.io/pages/Contacto.html#Contacto">
                  Contacto
                </a>
              </li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
              <i class="fab fa-medium"></i>
            </a>
          </li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
              <i class="fab fa-google"></i>
            </a>
          </li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
              <i class="fab fa-facebook"></i>
            </a>
          </li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
              <i class="fab fa-gitlab"></i>
            </a>
          </li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
              <i class="fab fa-soundcloud"></i>
            </a>
          </li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
              <i class="fas fa-rss"></i>
            </a>
          </li>
      </ul>
    </div>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-aside"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234561"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
  </aside>
  <main>
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-responsive"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234562"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

    <nav>
      <a href="https://ecrespo.github.io">Home</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ecrespo.github.io/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb">Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)</h1>
    <p>
      Posted on jue 16 junio 2011 in <a href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a>

        &#8226; 3 min read
    </p>
  </header>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234565"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

  <div>
    <p>En el artículo de ejecución remota de script versión conectado por <a href="https://www.seraph.to/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android-version-conectado-el-celular-por-usb.html">USB</a> y la versión por <a href="https://www.seraph.to/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android.html">wifi</a>, se  explica  en el primer caso como enviar mensajes de texto y en el segundo como ejecutar una aplicación remotamente en el celular.</p>
<p>En este caso se fusionará ambos tipos de conexiones para enviar mensajes de texto tanto por USB como por wifi.</p>
<p>Para ello se creo un clase AndroidSMS donde se define los datos siguientes:</p>
<ul>
<li>Tipo de conexión (wifi o usb)</li>
<li>Puerto (Puerto del servidor de SL4A que se activa en el celular)</li>
<li>Host (IP que tiene asignado el celular en la red wifi)</li>
</ul>
<p>En los artículos mencionados anteriormente se explica como usar el comando adb del sdk de Android y la creación de variables de entorno para poder ejecutar remotamente scripts desde Linux al celular con Android. En este caso todo ese proceso se automatiza  en el script, pero es necesario para el caso USB ejecutar SL4A con la opción de privado y en el caso wifi con la opción de público. Además se tiene que verificar el número del puerto asignado en el servidor SL4A para pasarle como parámetro dichos datos al programa desde la línea de comandos.</p>
<p>A continuación se muestra el código del programa:</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="ch">#!/usr/bin/env python</span></span>
<span class="code-line"><span class="c1"># -*- coding: utf-8 -*-</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#Script que permite enviar mensaje de texto a un celular android desde Linux.</span></span>
<span class="code-line"><span class="c1">#Autor: Ernesto Crespo</span></span>
<span class="code-line"><span class="c1">#Correo:ecrespo@gmail.com</span></span>
<span class="code-line"><span class="c1">#Licencia: GPLv3</span></span>
<span class="code-line"><span class="c1">#Version:0.4</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#Importando el modulo android,sys,re y getstatusoutput</span></span>
<span class="code-line"><span class="kn">import</span> <span class="nn">android</span><span class="o">,</span><span class="nn">sys</span><span class="o">,</span><span class="nn">re</span></span>
<span class="code-line"><span class="kn">from</span> <span class="nn">commands</span> <span class="kn">import</span> <span class="n">getstatusoutput</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">class</span> <span class="nc">AndroidSMS</span><span class="p">:</span></span>
<span class="code-line">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">conexion</span><span class="p">,</span><span class="n">puerto</span><span class="p">,</span><span class="n">host</span><span class="o">=</span><span class="s2">&quot;192.168.0.100&quot;</span><span class="p">):</span></span>
<span class="code-line">        <span class="c1">#Asignacion de la estructura de datos del Objeto</span></span>
<span class="code-line">        <span class="bp">self</span><span class="o">.</span><span class="n">__adb</span> <span class="o">=</span> <span class="s2">&quot;/home/ernesto/android-sdk-linux_x86/platform-tools/adb&quot;</span></span>
<span class="code-line">        <span class="bp">self</span><span class="o">.</span><span class="n">__puerto</span> <span class="o">=</span> <span class="n">puerto</span></span>
<span class="code-line">        <span class="bp">self</span><span class="o">.</span><span class="n">__host</span> <span class="o">=</span> <span class="n">host</span></span>
<span class="code-line">        <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">=</span> <span class="n">conexion</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">def</span> <span class="nf">__ValidarNumero__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numero</span><span class="p">):</span></span>
<span class="code-line">        <span class="sd">&quot;&quot;&quot;Valida si los numeros tienen 11 digitos y que sean</span></span>
<span class="code-line"><span class="sd">        de los proveedores movilnet, digitel y movistar</span></span>
<span class="code-line"><span class="sd">        &quot;&quot;&quot;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">numero</span><span class="p">)</span> <span class="o">==</span> <span class="mi">11</span> <span class="ow">and</span> <span class="p">((</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;041[2|4|6]\d\d\d\d\d\d\d&quot;</span><span class="p">,</span><span class="n">numero</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;042[4|6]\d\d\d\d\d\d\d&quot;</span><span class="p">,</span><span class="n">numero</span><span class="p">)))</span> <span class="p">:</span></span>
<span class="code-line">            <span class="k">return</span> <span class="mi">1</span></span>
<span class="code-line">        <span class="k">else</span><span class="p">:</span></span>
<span class="code-line">            <span class="k">return</span> <span class="mi">0</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">def</span> <span class="nf">__ConfigAndroid__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></span>
<span class="code-line">        <span class="sd">&quot;&quot;&quot;__ConfigAndroid: Metodo que permite habilitar el funcionamiento</span></span>
<span class="code-line"><span class="sd">        del celular Android desde Linux tanto para wifi como para conexion USB</span></span>
<span class="code-line"><span class="sd">        &quot;&quot;&quot;</span></span>
<span class="code-line">        <span class="c1">#Se apaga el servidor adb en el Linux</span></span>
<span class="code-line">        <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> kill-server&quot;</span> <span class="o">%</span><span class="bp">self</span><span class="o">.</span><span class="n">__adb</span><span class="p">)</span></span>
<span class="code-line">        <span class="c1">#Se borra las variables de entorno AP_PORT y AP_HOST</span></span>
<span class="code-line">        <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;export AP_PORT=</span><span class="se">\&quot;\&quot;</span><span class="s2">&quot;</span><span class="p">)</span></span>
<span class="code-line">        <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;export AP_HOST=</span><span class="se">\&quot;\&quot;</span><span class="s2">&quot;</span><span class="p">)</span></span>
<span class="code-line">        <span class="c1">#Se inicia el servidor adb y se verifica que funciona correctamente</span></span>
<span class="code-line">        <span class="n">r</span> <span class="o">=</span> <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> devices&quot;</span> <span class="o">%</span><span class="bp">self</span><span class="o">.</span><span class="n">__adb</span><span class="p">)</span></span>
<span class="code-line">        <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">:</span></span>
<span class="code-line">            <span class="nb">print</span> <span class="s2">&quot;Problemas con la configuracion del celular&quot;</span></span>
<span class="code-line">            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span></span>
<span class="code-line">        <span class="k">else</span><span class="p">:</span></span>
<span class="code-line">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">==</span> <span class="s2">&quot;usb&quot;</span><span class="p">:</span></span>
<span class="code-line">                <span class="c1">#Se verifica que el dispositivo aparece identificado</span></span>
<span class="code-line">                <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span></span>
<span class="code-line">                    <span class="nb">print</span> <span class="s2">&quot;NO hay un celular conectado&quot;</span></span>
<span class="code-line">                    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span></span>
<span class="code-line">        <span class="c1">#En este punto se tiene el dispositivo funcionando</span></span>
<span class="code-line">        <span class="c1">#Tanto por wifi como por usb.</span></span>
<span class="code-line">        <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">  forward tcp:9999 tcp:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__adb</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">__puerto</span><span class="p">))</span></span>
<span class="code-line">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">==</span> <span class="s2">&quot;wifi&quot;</span><span class="p">:</span></span>
<span class="code-line">            <span class="c1">#Se crean las variables de entorno AP_PORT y AP_HOST</span></span>
<span class="code-line">            <span class="c1">#para el caso de wifi</span></span>
<span class="code-line">            <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;export AP_PORT=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="bp">self</span><span class="o">.</span><span class="n">__puerto</span><span class="p">)</span></span>
<span class="code-line">            <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;export AP_HOST=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="bp">self</span><span class="o">.</span><span class="n">__host</span><span class="p">)</span></span>
<span class="code-line">        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">==</span> <span class="s2">&quot;usb&quot;</span><span class="p">:</span></span>
<span class="code-line">            <span class="c1">#Se crea la variable de entorno AP_PORT</span></span>
<span class="code-line">            <span class="c1">#para el caso conexion usb</span></span>
<span class="code-line">            <span class="n">getstatusoutput</span><span class="p">(</span><span class="s2">&quot;export AP_PORT=9999&quot;</span><span class="p">)</span></span>
<span class="code-line">        <span class="nb">print</span> <span class="s2">&quot;Se configuro el celular sin problemas&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">def</span> <span class="nf">EnviarMensaje</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">numero</span><span class="p">,</span><span class="n">mensaje</span><span class="p">):</span></span>
<span class="code-line">        <span class="sd">&quot;&quot;&quot;EnviarMensaje: Metodo que permite enviar un mensaje de texto</span></span>
<span class="code-line"><span class="sd">        pasando el numero y el mensaje</span></span>
<span class="code-line"><span class="sd">        Maneja ambos casos conexion USB o por red wifi.</span></span>
<span class="code-line"><span class="sd">        &quot;&quot;&quot;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ValidarNumero__</span><span class="p">(</span><span class="n">numero</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span></span>
<span class="code-line">            <span class="nb">print</span> <span class="s2">&quot;Numero invalido&quot;</span></span>
<span class="code-line">            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span></span>
<span class="code-line">        <span class="c1">#Creando la instancia droid del objeto Android</span></span>
<span class="code-line">        <span class="bp">self</span><span class="o">.</span><span class="n">__ConfigAndroid__</span><span class="p">()</span></span>
<span class="code-line">        <span class="c1">#Se crea la instancia del objeto Android dependiendo si es conexion</span></span>
<span class="code-line">        <span class="c1">#wifi se le pasa el host y el puerto</span></span>
<span class="code-line">        <span class="c1">#Si es conexion USB simplemente se crea la instancia</span></span>
<span class="code-line">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">==</span> <span class="s2">&quot;wifi&quot;</span><span class="p">:</span></span>
<span class="code-line">            <span class="n">droid</span> <span class="o">=</span> <span class="n">android</span><span class="o">.</span><span class="n">Android</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">__host</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">__puerto</span><span class="p">))</span></span>
<span class="code-line">        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conexion</span> <span class="o">==</span> <span class="s2">&quot;usb&quot;</span><span class="p">:</span></span>
<span class="code-line">            <span class="n">droid</span> <span class="o">=</span> <span class="n">android</span><span class="o">.</span><span class="n">Android</span><span class="p">()</span></span>
<span class="code-line">        <span class="c1">#Enviando el mensaje de texto</span></span>
<span class="code-line">        <span class="n">droid</span><span class="o">.</span><span class="n">smsSend</span><span class="p">(</span><span class="n">numero</span><span class="p">,</span><span class="n">mensaje</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span></span>
<span class="code-line">    <span class="sd">&quot;&quot;&quot;Se capturan los valores de:</span></span>
<span class="code-line"><span class="sd">    *numero</span></span>
<span class="code-line"><span class="sd">    *mensaje</span></span>
<span class="code-line"><span class="sd">    *conexion</span></span>
<span class="code-line"><span class="sd">    *puerto</span></span>
<span class="code-line"><span class="sd">    *host</span></span>
<span class="code-line"><span class="sd">    &quot;&quot;&quot;</span></span>
<span class="code-line">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span></span>
<span class="code-line">        <span class="n">numero</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></span>
<span class="code-line">        <span class="n">mensaje</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></span>
<span class="code-line">        <span class="n">conexion</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span></span>
<span class="code-line">        <span class="n">puerto</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span></span>
<span class="code-line">        <span class="n">host</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span></span>
<span class="code-line">    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span></span>
<span class="code-line">        <span class="n">numero</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></span>
<span class="code-line">        <span class="n">mensaje</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></span>
<span class="code-line">        <span class="n">conexion</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span></span>
<span class="code-line">        <span class="n">puerto</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span></span>
<span class="code-line">        <span class="n">host</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span></span>
<span class="code-line">    <span class="k">else</span><span class="p">:</span></span>
<span class="code-line">        <span class="nb">print</span> <span class="s2">&quot;Error: No se pasaron los parametros completos&quot;</span></span>
<span class="code-line">        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span></span>
<span class="code-line">    <span class="c1">#Se crea la instancia de la clase AndroidSM pasando conexion,puerto y host</span></span>
<span class="code-line">    <span class="n">androidsms</span> <span class="o">=</span> <span class="n">AndroidSMS</span><span class="p">(</span><span class="n">conexion</span><span class="p">,</span><span class="n">puerto</span><span class="p">,</span><span class="n">host</span><span class="p">)</span></span>
<span class="code-line">    <span class="c1">#Se envie el mensaje de texto</span></span>
<span class="code-line">    <span class="n">androidsms</span><span class="o">.</span><span class="n">EnviarMensaje</span><span class="p">(</span><span class="n">numero</span><span class="p">,</span><span class="n">mensaje</span><span class="p">)</span></span>
</pre></div>


<p>La ejecución del programa se muestra a continuación:
Se pasa primero el número de celular, luego el mensaje, luego el tipo de conexión (usb,wifi), luego el puerto y por último la IP si es el caso de wifi.</p>
<ul>
<li>wifi: python mensaje4.py 0xxyyyzzww "Prueba3" wifi  47529 "192.168.0.100"</li>
<li>usb: python mensaje4.py 0xxyyyzzww "Prueba4" usb  43421</li>
</ul>
<p>En la siguiente figura se muestra los mensajes recibidos en el celular:</p>
<p><img alt="SMS" src="./images/smsandroidlinux.png"></p>
<p>===</p>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ecrespo.github.io/tag/linux.html">Linux</a>
      <a href="https://ecrespo.github.io/tag/python.html">Python</a>
      <a href="https://ecrespo.github.io/tag/android.html">Android</a>
      <a href="https://ecrespo.github.io/tag/debian.html">Debian</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="https://ecrespo.github.io/generando-una-grafica-con-pyqt-y-matplotlib-escala-semilogaritmica-parte-13.html" title="Generando una gráfica con PyQT y matplotlib (escala semilogaritmica). Parte 13">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="https://ecrespo.github.io/qtadb-programa-para-controlar-un-celular-android-desde-el-pc.html" title="Qtadb programa para controlar un celular Android desde el PC">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="https://ecrespo.github.io/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android-version-conectado-el-celular-por-usb.html">Ejecución remota de scripts python desde Linux a un celular con Android (versión conectado el celular por USB)</a></li>
      <li><a href="https://ecrespo.github.io/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android.html">Ejecución remota de scripts python desde Linux a un celular con Android</a></li>
      <li><a href="https://ecrespo.github.io/instalar-python-en-android.html">Instalar python en Android</a></li>
      <li><a href="https://ecrespo.github.io/entorno_desarrollo_datascience.html">Crear entorno de desarrollo para Ciencia de Datos con Anaconda, Jupyter, git y cookiecutter</a></li>
      <li><a href="https://ecrespo.github.io/desarrollar-un-api-con-graphql-en-flask.html">Desarrollar un API con GraphQL en Flask</a></li>
    </ul>
  </div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234566"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy; 2022 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Página de Seraph ",
  "url" : "https://ecrespo.github.io",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>


</body>
</html>