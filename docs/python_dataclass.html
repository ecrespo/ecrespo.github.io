
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="http://localhost:8000/theme/pygments/monokai.min.css">


  <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/font-awesome/css/solid.css">


    <link href="http://localhost:8000/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Página de Seraph Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#e5e5ff">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#e5e5ff">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#e5e5ff">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="Este artículo como crear dataclases y su utilidad" />
<meta name="keywords" content="dataclass">


<meta property="og:site_name" content="Página de Seraph"/>
<meta property="og:title" content="Dataclases en Python"/>
<meta property="og:description" content="Este artículo como crear dataclases y su utilidad"/>
<meta property="og:locale" content="es_VE"/>
<meta property="og:url" content="http://localhost:8000/python_dataclass.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2022-01-16 15:45:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://localhost:8000/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial Python"/>
<meta property="article:tag" content="dataclass"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Página de Seraph &ndash; Dataclases en Python</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "pub-0261001661746989",
      enable_page_level_ads: true
    });
  </script>
</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="http://localhost:8000">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>

      <h1>
        <a href="http://localhost:8000">Ernesto Crespo</a>
      </h1>

<p>Data Scientist </p>

      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="http://localhost:8000/pages/About.html#About">
                  Acerca
                </a>
              </li>
              <li>
                <a target="_self"
                   href="http://localhost:8000/pages/Contacto.html#Contacto">
                  Contacto
                </a>
              </li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
              <i class="fab fa-medium"></i>
            </a>
          </li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
              <i class="fab fa-google"></i>
            </a>
          </li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
              <i class="fab fa-facebook"></i>
            </a>
          </li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
              <i class="fab fa-gitlab"></i>
            </a>
          </li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
              <i class="fab fa-soundcloud"></i>
            </a>
          </li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
              <i class="fas fa-rss"></i>
            </a>
          </li>
      </ul>
    </div>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-aside"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234561"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
  </aside>
  <main>
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-responsive"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234562"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

    <nav>
      <a href="http://localhost:8000">Inicio</a>

      <a href="/archives.html">Archivos</a>
      <a href="/categories.html">Categorías</a>
      <a href="/tags.html">Etiquetas</a>

      <a href="http://localhost:8000/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="python_dataclass">Dataclases en Python</h1>
    <p>
      Publicado el dom 16 enero 2022 en <a href="http://localhost:8000/category/tutorial-python.html">Tutorial Python</a>

        &#8226; 4 min de lectura
    </p>
  </header>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234565"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

  <div>
    <p>Los artículos en que se basa este artículo son: </p>
<ul>
<li><a href="https://justgiveacar.medium.com/data-classes-in-python-991a3f68ddf9">Data Classes in Python</a></li>
<li><a href="https://towardsdatascience.com/9-reasons-why-you-should-start-using-python-dataclasses-98271adadc66">9 Reasons Why You Should Start Using Python Dataclasses</a></li>
</ul>
<p>Data clases en python permiten escribir menos código, y está soportado en python a partir de la versión 3.7. </p>
<h2>Clases regulares</h2>
<p>Se comenzará con una clase simple en Python llamada perro, con un método init donde se toma los argumentos de la clase como atributos:</p>
<ul>
<li>Nombre: Tipo string.</li>
<li>Raza: Tipo string.</li>
<li>Edad: Tipo entero.</li>
</ul>
<div class="highlight"><pre><span class="code-line"><span></span><span class="k">class</span> <span class="nc">Perro</span><span class="p">:</span></span>
<span class="code-line">    <span class="n">nombre</span><span class="p">:</span> <span class="nb">str</span></span>
<span class="code-line">    <span class="n">raza</span><span class="p">:</span> <span class="nb">str</span></span>
<span class="code-line">    <span class="n">edad</span><span class="p">:</span> <span class="nb">int</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">raza</span><span class="p">,</span> <span class="n">edad</span><span class="p">):</span></span>
<span class="code-line">        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">=</span> <span class="n">nombre</span></span>
<span class="code-line">        <span class="bp">self</span><span class="o">.</span><span class="n">raza</span> <span class="o">=</span> <span class="n">raza</span></span>
<span class="code-line">        <span class="bp">self</span><span class="o">.</span><span class="n">edad</span> <span class="o">=</span> <span class="n">edad</span></span>
</pre></div>


<p>Se instancia tres mascotas con la clase Perro: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="n">mascota1</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;RUDY&#39;</span><span class="p">,</span> <span class="s1">&#39;Terrier Australiano&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
<span class="code-line"><span class="n">mascota2</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;TEDDY&#39;</span><span class="p">,</span> <span class="s1">&#39;bichón frisé&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
<span class="code-line"><span class="n">mascota3</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;TEDDY&#39;</span><span class="p">,</span> <span class="s1">&#39;bichón frisé&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
</pre></div>


<p>Se compara la mascota 2 con al 3:</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="n">mascota2</span> <span class="o">==</span> <span class="n">mascota3</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kc">False</span></span>
</pre></div>


<p>A pesar que ambas mascotas tienen los mismos datos en sus atributos, si se hace una comparación devuelve falso. </p>
<p>Una opción es usar un método para la comparación atributo por atributo. </p>
<p>Se imprime el contenido de la mascota2: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mascota2</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Perro</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f9c104e7640</span><span class="o">&gt;</span></span>
</pre></div>


<p>Lo que se muestra es el id en memoria de la instancia de Perro.</p>
<p>Para mostrar el contenido se toma cada atributo: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mascota2</span><span class="o">.</span><span class="n">nombre</span><span class="p">,</span><span class="n">mascota2</span><span class="o">.</span><span class="n">raza</span><span class="p">,</span><span class="n">mascota2</span><span class="o">.</span><span class="n">edad</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">TEDDY</span> <span class="n">bichón</span> <span class="n">frisé</span> <span class="mi">2</span></span>
</pre></div>


<h2>Data clases</h2>
<p>Para poder usar dataclass se tiene que instalar vía pip: </p>
<div class="highlight"><pre><span class="code-line"><span></span>pip install dataclasses</span>
</pre></div>


<p>Se tomara la misma clase de Perro, esta vez usando un decorador de dataclass. </p>
<p>Importar dataclass: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span></span>
</pre></div>


<p>Se define la clase Perro con los mismos atributos de la clase anterior: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nd">@dataclass</span></span>
<span class="code-line"><span class="k">class</span> <span class="nc">Perro</span><span class="p">:</span></span>
<span class="code-line">    <span class="n">nombre</span><span class="p">:</span> <span class="nb">str</span></span>
<span class="code-line">    <span class="n">raza</span><span class="p">:</span> <span class="nb">str</span></span>
<span class="code-line">    <span class="n">edad</span><span class="p">:</span> <span class="nb">int</span></span>
</pre></div>


<p>Se define la clase y cada atributo se le define el tipo y nada más. </p>
<p>Ahora se crean las mascotas: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="n">mascota1</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;RUDY&#39;</span><span class="p">,</span> <span class="s1">&#39;Terrier Australiano&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
<span class="code-line"><span class="n">mascota2</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;TEDDY&#39;</span><span class="p">,</span> <span class="s1">&#39;bichón frisé&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
<span class="code-line"><span class="n">mascota3</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;TEDDY&#39;</span><span class="p">,</span> <span class="s1">&#39;bichón frisé&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
</pre></div>


<p>Ahora al comparar la mascota 2 y 3, no devolverá falso: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mascota2</span> <span class="o">==</span> <span class="n">mascota3</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kc">True</span></span>
</pre></div>


<p>A continuación se imprime el contenido de la mascota2: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mascota2</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">Perro</span><span class="p">(</span><span class="n">nombre</span><span class="o">=</span><span class="s1">&#39;TEDDY&#39;</span><span class="p">,</span> <span class="n">raza</span><span class="o">=</span><span class="s1">&#39;bichón frisé&#39;</span><span class="p">,</span> <span class="n">edad</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></span>
</pre></div>


<p>Ahora no devuelve el Id, devuelve la clase perro con los valores del atributo que se le asignaron a la mascota2.</p>
<p>También se puede acceder a los datos de los atributos: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mascota2</span><span class="o">.</span><span class="n">nombre</span><span class="p">,</span><span class="n">mascota2</span><span class="o">.</span><span class="n">raza</span><span class="p">,</span><span class="n">mascota2</span><span class="o">.</span><span class="n">edad</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">TEDDY</span> <span class="n">bichón</span> <span class="n">frisé</span> <span class="mi">2</span></span>
</pre></div>


<p>Se puede agregar el método <strong>repr</strong> a la clase para que de información en un string formateado:</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nd">@dataclass</span></span>
<span class="code-line"><span class="k">class</span> <span class="nc">Perro</span><span class="p">:</span></span>
<span class="code-line">    <span class="n">nombre</span><span class="p">:</span> <span class="nb">str</span></span>
<span class="code-line">    <span class="n">raza</span><span class="p">:</span> <span class="nb">str</span></span>
<span class="code-line">    <span class="n">edad</span><span class="p">:</span> <span class="nb">int</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></span>
<span class="code-line">        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">raza</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">edad</span><span class="si">}</span><span class="s2">)&quot;</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">mascota1</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;RUDY&#39;</span><span class="p">,</span> <span class="s1">&#39;Terrier Australiano&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
<span class="code-line"><span class="n">mascota2</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;TEDDY&#39;</span><span class="p">,</span> <span class="s1">&#39;bichón frisé&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
<span class="code-line"><span class="n">mascota3</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;TEDDY&#39;</span><span class="p">,</span> <span class="s1">&#39;bichón frisé&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="nb">print</span><span class="p">(</span><span class="n">mascota2</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">TEDDY</span> <span class="n">bichón</span> <span class="n">frisé</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span></span>
</pre></div>


<p>Aparte de comparar si son iguales, se puede comparar si la mascota1 es mayor que la 2. </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mascota1</span>  <span class="o">&gt;</span> <span class="n">mascota2</span><span class="p">)</span></span>
</pre></div>


<p>Esto devuelve error, esta comparación no está soportada:</p>
<div class="highlight"><pre><span class="code-line"><span></span>---------------------------------------------------------------------------</span>
<span class="code-line">TypeError                                 Traceback <span class="o">(</span>most recent call last<span class="o">)</span></span>
<span class="code-line">/tmp/ipykernel_603591/468771088.py <span class="k">in</span> &lt;module&gt;</span>
<span class="code-line">----&gt; <span class="m">1</span> mascota1  &gt; mascota2</span>
<span class="code-line"></span>
<span class="code-line">TypeError: <span class="s1">&#39;&gt;&#39;</span> not supported between instances of <span class="s1">&#39;Perro&#39;</span> and <span class="s1">&#39;Perro&#39;</span></span>
</pre></div>


<p>Para poder compararlos es necesario usar el método <strong>post_init</strong>.  El atributo para la comparación será la edad, el código quedará así: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nd">@dataclass</span></span>
<span class="code-line"><span class="k">class</span> <span class="nc">Perro</span><span class="p">:</span></span>
<span class="code-line">    <span class="n">sort_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></span>
<span class="code-line">    <span class="n">nombre</span><span class="p">:</span> <span class="nb">str</span></span>
<span class="code-line">    <span class="n">raza</span><span class="p">:</span> <span class="nb">str</span></span>
<span class="code-line">    <span class="n">edad</span><span class="p">:</span> <span class="nb">int</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></span>
<span class="code-line">        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sort_index</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">raza</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">edad</span><span class="si">}</span><span class="s2">)&quot;</span>  </span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></span>
<span class="code-line">      <span class="bp">self</span><span class="o">.</span><span class="n">sort_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">edad</span></span>
</pre></div>


<p>Se muestra los argumentos: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="n">mascota1</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;RUDY&#39;</span><span class="p">,</span> <span class="s1">&#39;Terrier Australiano&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></span>
<span class="code-line"><span class="n">mascota2</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;TEDDY&#39;</span><span class="p">,</span> <span class="s1">&#39;bichón frisé&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
<span class="code-line"><span class="nb">print</span><span class="p">(</span><span class="n">mascota2</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#2 TEDDY bichón frisé (2)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="nb">print</span><span class="p">(</span><span class="n">mascota2</span><span class="o">.</span><span class="n">sort_index</span><span class="p">,</span><span class="n">mascota2</span><span class="o">.</span><span class="n">nombre</span><span class="p">,</span><span class="n">mascota2</span><span class="o">.</span><span class="n">raza</span><span class="p">,</span><span class="n">mascota2</span><span class="o">.</span><span class="n">edad</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#2 TEDDY bichón frisé 2</span></span>
</pre></div>


<p>Se intenta comparar de nuevo: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mascota1</span> <span class="o">&gt;</span> <span class="n">mascota2</span><span class="p">)</span></span>
</pre></div>


<p>Devuelve error: </p>
<div class="highlight"><pre><span class="code-line"><span></span>---------------------------------------------------------------------------</span>
<span class="code-line">TypeError                                 Traceback <span class="o">(</span>most recent call last<span class="o">)</span></span>
<span class="code-line">/tmp/ipykernel_603591/4142115589.py <span class="k">in</span> &lt;module&gt;</span>
<span class="code-line">----&gt; <span class="m">1</span> mascota1 &gt; mascota2</span>
<span class="code-line"></span>
<span class="code-line">TypeError: <span class="s1">&#39;&gt;&#39;</span> not supported between instances of <span class="s1">&#39;Perro&#39;</span> and <span class="s1">&#39;Perro&#39;</span></span>
</pre></div>


<h2>Clases de solo lectura</h2>
<p>Se puede crear clases de sólo lectura para evitar que se modifique sus valores iniciales.</p>
<p>Para poder resolver este error se usa el argumento order en el decorador, y se define sólo lectura:</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></span>
<span class="code-line"><span class="k">class</span> <span class="nc">Perro</span><span class="p">:</span></span>
<span class="code-line">    <span class="n">sort_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></span>
<span class="code-line">    <span class="n">nombre</span><span class="p">:</span> <span class="nb">str</span></span>
<span class="code-line">    <span class="n">raza</span><span class="p">:</span> <span class="nb">str</span></span>
<span class="code-line">    <span class="n">edad</span><span class="p">:</span> <span class="nb">int</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></span>
<span class="code-line">      <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;sort_index&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">edad</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">mascota1</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;RUDY&#39;</span><span class="p">,</span> <span class="s1">&#39;Terrier Australiano&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></span>
<span class="code-line"><span class="n">mascota2</span> <span class="o">=</span> <span class="n">Perro</span><span class="p">(</span><span class="s1">&#39;TEDDY&#39;</span><span class="p">,</span> <span class="s1">&#39;bichón frisé&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></span>
</pre></div>


<p>Ahora se hace la comparación y no devuelve error: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mascota1</span>  <span class="o">&gt;</span> <span class="n">mascota2</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kc">True</span></span>
</pre></div>


<p>Se muestra el contenido de la mascota 2: </p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mascota2</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">Perro</span><span class="p">(</span><span class="n">sort_index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nombre</span><span class="o">=</span><span class="s1">&#39;TEDDY&#39;</span><span class="p">,</span> <span class="n">raza</span><span class="o">=</span><span class="s1">&#39;bichón frisé&#39;</span><span class="p">,</span> <span class="n">edad</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></span>
</pre></div>


<p>Si se intenta asignar un valor a la edad de la mascota 2, devolverá error:</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="n">mascota2</span><span class="o">.</span><span class="n">edad</span> <span class="o">=</span> <span class="mi">4</span></span>
</pre></div>


<div class="highlight"><pre><span class="code-line"><span></span>---------------------------------------------------------------------------</span>
<span class="code-line">FrozenInstanceError                       Traceback <span class="o">(</span>most recent call last<span class="o">)</span></span>
<span class="code-line">/tmp/ipykernel_603591/927787478.py <span class="k">in</span> &lt;module&gt;</span>
<span class="code-line">----&gt; <span class="m">1</span> mascota2.edad <span class="o">=</span> <span class="m">4</span></span>
<span class="code-line"></span>
<span class="code-line">&lt;string&gt; <span class="k">in</span> __setattr__<span class="o">(</span>self, name, value<span class="o">)</span></span>
<span class="code-line"></span>
<span class="code-line">FrozenInstanceError: cannot assign to field <span class="s1">&#39;edad&#39;</span></span>
</pre></div>


<p>Como se puede ver las dataclasses puede facilitar en la validación de datos de los atributos de los objetos que se definan. En próximo artículo se verá el módulo pydantic que extiende esta característica de validación de datos. </p>
<hr>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://localhost:8000/tag/dataclass.html">dataclass</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="http://localhost:8000/pyenv_poetry.html" title="Crear entorno de desarrollo con pyenv y poetry">
      <i class="fa fa-angle-left"></i> Artículo anterior
    </a>
    <a class="btn float-right" href="http://localhost:8000/python_pydantic.html" title="Validación de datos con Pydantic">
      Próximo artículo <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>Te puede gustar</h4>
    <ul class="related-posts">
      <li><a href="http://localhost:8000/python_pydantic.html">Validación de datos con Pydantic</a></li>
    </ul>
  </div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234566"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Por favor, habilita JavaScript para ver los comentarios.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy; 2022 </p>
<p>
Construido con <a href="http://getpelican.com" target="_blank">Pelican</a> usando el tema <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> 
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Página de Seraph ",
  "url" : "http://localhost:8000",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>


</body>
</html>