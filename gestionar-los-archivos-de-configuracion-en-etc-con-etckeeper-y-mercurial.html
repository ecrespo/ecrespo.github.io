
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://blog.seraph.to/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://blog.seraph.to/theme/pygments/monokai.min.css">



  <link rel="stylesheet" type="text/css" href="https://blog.seraph.to/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://blog.seraph.to/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://blog.seraph.to/theme/font-awesome/css/solid.css">



  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#e5e5ff">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#e5e5ff">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Microsoft EDGE -->
  <meta name="msapplication-TileColor" content="#e5e5ff">

  <link href="https://blog.seraph.to/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Página de Seraph Atom">


<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-300366206"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-300366206');
</script>






 

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="Continuando con los artículos de control de versiones distribuido con Mercurial ahora toca el respaldo y guardar las versiones de los archivos de configuración en /etc con etckeeper. La mayoria de los artículos que se consiguen sobre etckeeper es usando git o bazaar. Para esta guía es necesario tener conocimientos …" />
<meta name="keywords" content="Linux, Debian, Ubuntu, Canaima, etckeeper, mercurial">


  <meta property="og:site_name" content="Página de Seraph"/>
  <meta property="og:title" content="Gestionar los archivos de configuración en /etc con etckeeper y mercurial"/>
  <meta property="og:description" content="Continuando con los artículos de control de versiones distribuido con Mercurial ahora toca el respaldo y guardar las versiones de los archivos de configuración en /etc con etckeeper. La mayoria de los artículos que se consiguen sobre etckeeper es usando git o bazaar. Para esta guía es necesario tener conocimientos …"/>
  <meta property="og:locale" content="es_VE"/>
  <meta property="og:url" content="https://blog.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2011-07-27 09:00:00-04:30"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="https://blog.seraph.to/author/ernesto-crespo.html">
  <meta property="article:section" content="Tutorial de Linux"/>
  <meta property="article:tag" content="Linux"/>
  <meta property="article:tag" content="Debian"/>
  <meta property="article:tag" content="Ubuntu"/>
  <meta property="article:tag" content="Canaima"/>
  <meta property="article:tag" content="etckeeper"/>
  <meta property="article:tag" content="mercurial"/>
  <meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Página de Seraph &ndash; Gestionar los archivos de configuración en /etc con etckeeper y mercurial</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "pub-0261001661746989",
      enable_page_level_ads: true
    });
  </script>

</head>
<body class="light-theme">

<aside>
  <div>
    <a href="https://blog.seraph.to/">
      <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
    </a>

    <h1>
      <a href="https://blog.seraph.to/">Ernesto Crespo</a>
    </h1>

    <p>Data Scientist </p>


    <nav>
      <ul class="list">


            <li>
              <a target="_self"
                 href="https://blog.seraph.to/pages/About.html#About">
                Acerca
              </a>
            </li>
            <li>
              <a target="_self"
                 href="https://blog.seraph.to/pages/Contacto.html#Contacto">
                Contacto
              </a>
            </li>

      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-medium"
           href="https://medium.com/@_seraph1"
           target="_blank">
          <i class="fa-brands fa-medium"></i>
        </a>
      </li>
      <li>
        <a class="sc-linkedin"
           href="http://ve.linkedin.com/in/ernestocrespo"
           target="_blank">
          <i class="fa-brands fa-linkedin"></i>
        </a>
      </li>
      <li>
        <a class="sc-github"
           href="https://github.com/ecrespo"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
      <li>
        <a class="sc-google"
           href="https://google.com/+ErnestoCrespo"
           target="_blank">
          <i class="fa-brands fa-google"></i>
        </a>
      </li>
      <li>
        <a class="sc-twitter"
           href="https://twitter.com/_seraph1"
           target="_blank">
          <i class="fa-brands fa-twitter"></i>
        </a>
      </li>
      <li>
        <a class="sc-facebook"
           href="https://www.facebook.com/ernesto.crespo"
           target="_blank">
          <i class="fa-brands fa-facebook"></i>
        </a>
      </li>
      <li>
        <a class="sc-gitlab"
           href="https://gitlab.com/ecrespo"
           target="_blank">
          <i class="fa-brands fa-gitlab"></i>
        </a>
      </li>
      <li>
        <a class="sc-soundcloud"
           href="https://soundcloud.com/ernesto-crespo"
           target="_blank">
          <i class="fa-brands fa-soundcloud"></i>
        </a>
      </li>
      <li>
        <a class="sc-deepnote"
           href="https://deepnote.com/@ernesto-crespo"
           target="_blank">
          <i class="fa-brands fa-deepnote"></i>
        </a>
      </li>
      <li>
        <a class="sc-kaggle"
           href="https://www.kaggle.com/ecrespoa"
           target="_blank">
          <i class="fa-brands fa-kaggle"></i>
        </a>
      </li>
      <li>
        <a class="sc-rss"
           href="//blog.seraph.to/feeds/all.atom.xml"
           target="_blank">
          <i class="fa-solid fa-rss"></i>
        </a>
      </li>
    </ul>
  </div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-aside"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234561"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</aside>
  <main>
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-responsive"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234562"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

<nav>
  <a href="https://blog.seraph.to/">Home</a>

  <a href="/archives.html">Archives</a>
  <a href="/categories.html">Categories</a>
  <a href="/tags.html">Tags</a>

  <a href="https://blog.seraph.to/feeds/all.atom.xml">Atom</a>

</nav>

<article class="single">
  <header>
      
    <h1 id="gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial">Gestionar los archivos de configuración en /etc con etckeeper y mercurial</h1>
    <p>
      Posted on Wed 27 July 2011 in <a href="https://blog.seraph.to/category/tutorial-de-linux.html">Tutorial de Linux</a>

        &#8226; 6 min read
    </p>
  </header>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234565"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

  <div>
    <p>Continuando con los artículos de control de versiones distribuido con Mercurial ahora toca el respaldo y guardar las versiones de los archivos de configuración en /etc con etckeeper.</p>
<p>La mayoria de los artículos que se consiguen sobre etckeeper es usando git o bazaar.</p>
<p>Para esta guía es necesario tener conocimientos básicos de mercurial, pueden leer el artículo de control de <a href="https://ecrespo.github.io/control-de-versiones-con-mercurial.html">versiones con mercurial de este blog</a>.</p>
<p>Es necesario llevar un histórico de los archivos dentro del directorio /etc/, es esencial para un sistema saludable. Los beneficios rastrear cambios en los archivos dentro de /etc incluye:</p>
<ul>
<li>Documentación: Los mensajes de log quedan atados a los cambios de configuración de los archivos que sirven como documentación.</li>
<li>
<p>Resolución de problemas: Permite devolver cambios en las configuraciones que han dado problemas y así mantener la estabilidad del sistema.</p>
</li>
<li>
<p>Instalación de etckeeper:
 Es necesario tener mercurial instalado.</p>
</li>
</ul>
<div class="highlight"><pre><span class="code-line"><span></span><code>aptitude install mercurial etckeeper</span>
<span class="code-line"></code></pre></div>

<ol>
<li>Configuración de etckeeper:</li>
</ol>
<p>Se edita el archivo /etc/etckeeper/etckeeper.conf se comenta los distintos sistemas de control de versiones y se deja hg, adicionalmente se deja la opción de envío de correo a un usuario.</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="n">VCS</span><span class="o">=</span><span class="ss">&quot;hg&quot;</span></span>
<span class="code-line"><span class="err">#</span><span class="w"> </span><span class="n">Options</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">hg</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">etckeeper</span><span class="p">.</span></span>
<span class="code-line"><span class="n">HG_COMMIT_OPTIONS</span><span class="o">=</span><span class="ss">&quot;-u ecrespo@gmail.com&quot;</span></span>
<span class="code-line"></code></pre></div>

<p>Luego se edita el archivo /etc/mercurial/hgrc</p>
<p>Se agrega el correo del usuario:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="k">[ui]</span></span>
<span class="code-line"><span class="na">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">ecrespo@gmail.com</span></span>
<span class="code-line"></code></pre></div>

<ol>
<li>Se inicializa el control de versiones:</li>
</ol>
<div class="highlight"><pre><span class="code-line"><span></span><code>etckeeper init</span>
<span class="code-line"></code></pre></div>

<p>A continuación se muestra como se ha agregado los archivos dentro de /etc en el control de versiones:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="n">adding xdg/xfce4/Xft.xrdb</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/helpers.rc</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/mount.rc</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/panel/clock-14.rc</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/panel/launcher-10.rc</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/panel/launcher-7.rc</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/panel/launcher-9.rc</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/panel/panels.xml</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/panel/systray-4.rc</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/panel/xfce4-menu-5.rc</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-keyboard-shortcuts.xml</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/xfconf/xfce-perchannel-xml/xsettings.xml</span></span>
<span class="code-line"><span class="n">adding xdg/xfce4/xinitrc</span></span>
<span class="code-line"><span class="n">adding xml/catalog</span></span>
<span class="code-line"><span class="n">adding xml/docbook-xml.xml</span></span>
<span class="code-line"><span class="n">adding xml/docbook-xsl.xml</span></span>
<span class="code-line"><span class="n">adding xml/rarian-compat.xml</span></span>
<span class="code-line"><span class="n">adding xml/sgml-data.xml</span></span>
<span class="code-line"><span class="n">adding xml/xml-core.xml</span></span>
<span class="code-line"></code></pre></div>

<ol>
<li>Se hace el primer commit:</li>
</ol>
<div class="highlight"><pre><span class="code-line"><span></span><code>etckeeper commit &quot;Inicializacion del control de versiones&quot;</span>
<span class="code-line"></code></pre></div>

<ol>
<li>Usando etckeeper.</li>
</ol>
<p>Al realizar la instalación de un programa se ejecutará automáticamente el agregado de los archivos de configuración en el control de versiones.
Se instalará el paquete lighttpd para mostar el proceso de agregar los archivos al control de versiones:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code>apt-get install lighttpd</span>
<span class="code-line"></code></pre></div>

<p>Al final aparece una serie de archivos agregados:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="nv">adding</span><span class="w"> </span><span class="nv">lighttpd</span><span class="o">/</span><span class="nv">conf</span><span class="o">-</span><span class="nv">available</span><span class="o">/</span><span class="mi">15</span><span class="o">-</span><span class="nv">fastcgi</span><span class="o">-</span><span class="nv">php</span>.<span class="nv">conf</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="nv">lighttpd</span><span class="o">/</span><span class="nv">conf</span><span class="o">-</span><span class="nv">available</span><span class="o">/</span><span class="mi">90</span><span class="o">-</span><span class="nv">debian</span><span class="o">-</span><span class="nv">doc</span>.<span class="nv">conf</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="nv">lighttpd</span><span class="o">/</span><span class="nv">conf</span><span class="o">-</span><span class="nv">available</span><span class="o">/</span><span class="nv">README</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="nv">lighttpd</span><span class="o">/</span><span class="nv">lighttpd</span>.<span class="nv">conf</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="k">logrotate</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">lighttpd</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="nv">rc0</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">K01lighttpd</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="nv">rc1</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">K01lighttpd</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="nv">rc2</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">S20lighttpd</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="nv">rc3</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">S20lighttpd</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="nv">rc4</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">S20lighttpd</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="nv">rc5</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">S20lighttpd</span></span>
<span class="code-line"><span class="nv">adding</span><span class="w"> </span><span class="nv">rc6</span>.<span class="nv">d</span><span class="o">/</span><span class="nv">K01lighttpd</span></span>
<span class="code-line"></code></pre></div>

<p>Se revisa el estatus de mercurial en el directorio /etc:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code>hg status /etc/</span>
<span class="code-line">M ../etc/.etckeeper</span>
<span class="code-line"></code></pre></div>

<p>Al revisar el log de mercurial en el directorio /etc/ muestra los cambios realizados (commit):</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="n">hg</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">1</span><span class="err">:</span><span class="n">ba22869a3179</span></span>
<span class="code-line"><span class="nl">tag</span><span class="p">:</span><span class="w">         </span><span class="n">tip</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">02</span><span class="err">:</span><span class="mi">27</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">committing</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">run</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">0</span><span class="err">:</span><span class="n">f2a3f337ecc0</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">54</span><span class="err">:</span><span class="mi">21</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">Inicializacion</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">versiones</span></span>
<span class="code-line"></code></pre></div>

<p>Se tiene una descripción de los cambios en el changeset 0 se muestra la inicialización del control de versiones, en el changeset 1 se muestra el cambio luego de instalar lighttpd.</p>
<p>Se modifica un archivo de configuración /etc/hosts :</p>
<div class="highlight"><pre><span class="code-line"><span></span><code>etckeeper commit &quot;Se elimina el dominio  del host jewel en /etc/hosts&quot; /etc/hosts</span>
<span class="code-line"></code></pre></div>

<p>Al volver a revisar el log de mercurial sobre el directorio /etc/ aparece el commit del cambio del archivo hosts:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="n">hg</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">2</span><span class="err">:</span><span class="mi">6</span><span class="n">efc1189bd8b</span></span>
<span class="code-line"><span class="nl">tag</span><span class="p">:</span><span class="w">         </span><span class="n">tip</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">08</span><span class="err">:</span><span class="mi">25</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">Se</span><span class="w"> </span><span class="n">elimina</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">dominio</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="k">host</span><span class="w"> </span><span class="n">jewel</span><span class="w"> </span><span class="n">en</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">1</span><span class="err">:</span><span class="n">ba22869a3179</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">02</span><span class="err">:</span><span class="mi">27</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">committing</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">run</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">0</span><span class="err">:</span><span class="n">f2a3f337ecc0</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">54</span><span class="err">:</span><span class="mi">21</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">Inicializacion</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">versiones</span></span>
<span class="code-line"></code></pre></div>

<p>Se puede ver las diferencias entre los cambios realizados en archivos dentro del directorio /etc:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="nv">hg</span><span class="w"> </span><span class="nv">diff</span><span class="w"> </span><span class="o">/</span><span class="nv">etc</span><span class="o">/</span></span>
<span class="code-line"><span class="nv">diff</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="mi">6</span><span class="nv">efc1189bd8b</span><span class="w"> </span><span class="nv">hosts</span></span>
<span class="code-line"><span class="o">---</span><span class="w"> </span><span class="nv">a</span><span class="o">/</span><span class="nv">hosts</span><span class="w">    </span><span class="nv">Wed</span><span class="w"> </span><span class="nv">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span>:<span class="mi">08</span>:<span class="mi">25</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="o">+++</span><span class="w"> </span><span class="nv">b</span><span class="o">/</span><span class="nv">hosts</span><span class="w">    </span><span class="nv">Wed</span><span class="w"> </span><span class="nv">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span>:<span class="mi">13</span>:<span class="mi">41</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line">@@<span class="w"> </span><span class="o">-</span><span class="mi">1</span>,<span class="mi">6</span><span class="w"> </span><span class="o">+</span><span class="mi">1</span>,<span class="mi">6</span><span class="w"> </span>@@</span>
<span class="code-line"><span class="w"> </span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">1</span><span class="w">    </span><span class="nv">localhost</span></span>
<span class="code-line"><span class="w"> </span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">1</span>.<span class="mi">1</span><span class="w">    </span><span class="nv">jewel</span><span class="w">    </span><span class="nv">jewel</span></span>
<span class="code-line"><span class="o">-</span></span>
<span class="code-line"><span class="o">+</span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">1</span><span class="w">    </span><span class="nv">sofia</span><span class="w">   </span><span class="nv">sofia</span></span>
<span class="code-line"><span class="w"> </span>#<span class="w"> </span><span class="nv">The</span><span class="w"> </span><span class="nv">following</span><span class="w"> </span><span class="nv">lines</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">desirable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">IPv6</span><span class="w"> </span><span class="nv">capable</span><span class="w"> </span><span class="nv">hosts</span></span>
<span class="code-line"><span class="w"> </span>::<span class="mi">1</span><span class="w">     </span><span class="nv">ip6</span><span class="o">-</span><span class="nv">localhost</span><span class="w"> </span><span class="nv">ip6</span><span class="o">-</span><span class="nv">loopback</span></span>
<span class="code-line"><span class="w"> </span><span class="nv">fe00</span>::<span class="mi">0</span><span class="w"> </span><span class="nv">ip6</span><span class="o">-</span><span class="nv">localnet</span></span>
<span class="code-line"></code></pre></div>

<p>Al realizar el commit y volver a hacer el diff está vez no muestra información por que ya los cambios se subieron al control de versiones:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="n">etckeeper</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="s">&quot;Agregado el nombre sofia al host 127.0.0.1 en el archivo /etc/hosts&quot;</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span></span>
<span class="code-line"></code></pre></div>

<p>Al revisar los logs ahora aparece el cambio de agreado el nombre sofia al host 127.0.0.1:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="n">hg</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">3</span><span class="err">:</span><span class="mi">452065708</span><span class="n">a7e</span></span>
<span class="code-line"><span class="nl">tag</span><span class="p">:</span><span class="w">         </span><span class="n">tip</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">16</span><span class="err">:</span><span class="mi">13</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">Agregado</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">nombre</span><span class="w"> </span><span class="n">sofia</span><span class="w"> </span><span class="n">al</span><span class="w"> </span><span class="k">host</span><span class="w"> </span><span class="mf">127.0.0.1</span><span class="w"> </span><span class="n">en</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">archivo</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">2</span><span class="err">:</span><span class="mi">6</span><span class="n">efc1189bd8b</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">08</span><span class="err">:</span><span class="mi">25</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">Se</span><span class="w"> </span><span class="n">elimina</span><span class="w"> </span><span class="n">pdvsa</span><span class="p">.</span><span class="n">com</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="k">host</span><span class="w"> </span><span class="n">jewel</span><span class="w"> </span><span class="n">en</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">1</span><span class="err">:</span><span class="n">ba22869a3179</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">02</span><span class="err">:</span><span class="mi">27</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">committing</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">run</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">0</span><span class="err">:</span><span class="n">f2a3f337ecc0</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">54</span><span class="err">:</span><span class="mi">21</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">Inicializacion</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">versiones</span></span>
<span class="code-line"></code></pre></div>

<p>Para ver el tip de cada repo se ejecuta hg tip dentro del repositorio:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="n">root</span><span class="nv">@jewel</span><span class="err">:</span><span class="o">/</span><span class="n">etc</span><span class="err">#</span><span class="w"> </span><span class="n">hg</span><span class="w"> </span><span class="n">tip</span></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">3</span><span class="err">:</span><span class="mi">452065708</span><span class="n">a7e</span></span>
<span class="code-line"><span class="nl">tag</span><span class="p">:</span><span class="w">         </span><span class="n">tip</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">16</span><span class="err">:</span><span class="mi">13</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">Agregado</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">nombre</span><span class="w"> </span><span class="n">sofia</span><span class="w"> </span><span class="n">al</span><span class="w"> </span><span class="k">host</span><span class="w"> </span><span class="mf">127.0.0.1</span><span class="w"> </span><span class="n">en</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">archivo</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span></span>
<span class="code-line"></code></pre></div>

<p>Ahora se mostrará todas las revisiones con los logs y luego se revertirá un cambio:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="n">hg</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">3</span><span class="err">:</span><span class="mi">452065708</span><span class="n">a7e</span></span>
<span class="code-line"><span class="nl">tag</span><span class="p">:</span><span class="w">         </span><span class="n">tip</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">16</span><span class="err">:</span><span class="mi">13</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">Agregado</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">nombre</span><span class="w"> </span><span class="n">sofia</span><span class="w"> </span><span class="n">al</span><span class="w"> </span><span class="k">host</span><span class="w"> </span><span class="mf">127.0.0.1</span><span class="w"> </span><span class="n">en</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">archivo</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">2</span><span class="err">:</span><span class="mi">6</span><span class="n">efc1189bd8b</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">08</span><span class="err">:</span><span class="mi">25</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">Se</span><span class="w"> </span><span class="n">elimina</span><span class="w"> </span><span class="n">pdvsa</span><span class="p">.</span><span class="n">com</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="k">host</span><span class="w"> </span><span class="n">jewel</span><span class="w"> </span><span class="n">en</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">1</span><span class="err">:</span><span class="n">ba22869a3179</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">02</span><span class="err">:</span><span class="mi">27</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">committing</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">run</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nl">changeset</span><span class="p">:</span><span class="w">   </span><span class="mi">0</span><span class="err">:</span><span class="n">f2a3f337ecc0</span></span>
<span class="code-line"><span class="k">user</span><span class="err">:</span><span class="w">        </span><span class="n">ecrespo</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span></span>
<span class="code-line"><span class="nc">date</span><span class="err">:</span><span class="w">        </span><span class="n">Wed</span><span class="w"> </span><span class="n">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">54</span><span class="err">:</span><span class="mi">21</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="nl">summary</span><span class="p">:</span><span class="w">     </span><span class="n">Inicializacion</span><span class="w"> </span><span class="n">del</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">versiones</span></span>
<span class="code-line"></code></pre></div>

<p>Se pueden ver los cambios con respecto a cada revisión, en el siguiente comando se revisa la revisión 1 con respecto a la 2 en /etc/hosts:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="nv">hg</span><span class="w"> </span><span class="nv">diff</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">hosts</span></span>
<span class="code-line"><span class="nv">diff</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="nv">ba22869a3179</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="mi">6</span><span class="nv">efc1189bd8b</span><span class="w"> </span><span class="nv">hosts</span></span>
<span class="code-line"><span class="o">---</span><span class="w"> </span><span class="nv">a</span><span class="o">/</span><span class="nv">hosts</span><span class="w">    </span><span class="nv">Wed</span><span class="w"> </span><span class="nv">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span>:<span class="mi">02</span>:<span class="mi">27</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="o">+++</span><span class="w"> </span><span class="nv">b</span><span class="o">/</span><span class="nv">hosts</span><span class="w">    </span><span class="nv">Wed</span><span class="w"> </span><span class="nv">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span>:<span class="mi">08</span>:<span class="mi">25</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line">@@<span class="w"> </span><span class="o">-</span><span class="mi">1</span>,<span class="mi">5</span><span class="w"> </span><span class="o">+</span><span class="mi">1</span>,<span class="mi">5</span><span class="w"> </span>@@</span>
<span class="code-line"><span class="w"> </span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">1</span><span class="w">    </span><span class="nv">localhost</span></span>
<span class="code-line"><span class="o">-</span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">1</span>.<span class="mi">1</span><span class="w">    </span><span class="nv">jewel</span>.<span class="nv">dst</span>.<span class="nv">pdvsa</span>.<span class="nv">com</span><span class="w">    </span><span class="nv">jewel</span></span>
<span class="code-line"><span class="o">+</span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">1</span>.<span class="mi">1</span><span class="w">    </span><span class="nv">jewel</span><span class="w">    </span><span class="nv">jewel</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="w"> </span>#<span class="w"> </span><span class="nv">The</span><span class="w"> </span><span class="nv">following</span><span class="w"> </span><span class="nv">lines</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">desirable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">IPv6</span><span class="w"> </span><span class="nv">capable</span><span class="w"> </span><span class="nv">hosts</span></span>
<span class="code-line"><span class="w"> </span>::<span class="mi">1</span><span class="w">     </span><span class="nv">ip6</span><span class="o">-</span><span class="nv">localhost</span><span class="w"> </span><span class="nv">ip6</span><span class="o">-</span><span class="nv">loopback</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nv">Ahora</span><span class="w"> </span><span class="nv">se</span><span class="w"> </span><span class="nv">mostrar</span>á<span class="w"> </span><span class="nv">la</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">con</span><span class="w"> </span><span class="nv">respecto</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">la</span><span class="w"> </span><span class="mi">3</span>:</span>
<span class="code-line"><span class="nv">hg</span><span class="w"> </span><span class="nv">diff</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">hosts</span></span>
<span class="code-line"><span class="nv">diff</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="nv">ba22869a3179</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="mi">452065708</span><span class="nv">a7e</span><span class="w"> </span><span class="nv">hosts</span></span>
<span class="code-line"><span class="o">---</span><span class="w"> </span><span class="nv">a</span><span class="o">/</span><span class="nv">hosts</span><span class="w">    </span><span class="nv">Wed</span><span class="w"> </span><span class="nv">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span>:<span class="mi">02</span>:<span class="mi">27</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line"><span class="o">+++</span><span class="w"> </span><span class="nv">b</span><span class="o">/</span><span class="nv">hosts</span><span class="w">    </span><span class="nv">Wed</span><span class="w"> </span><span class="nv">Jul</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">22</span>:<span class="mi">16</span>:<span class="mi">13</span><span class="w"> </span><span class="mi">2011</span><span class="w"> </span><span class="o">-</span><span class="mi">0430</span></span>
<span class="code-line">@@<span class="w"> </span><span class="o">-</span><span class="mi">1</span>,<span class="mi">6</span><span class="w"> </span><span class="o">+</span><span class="mi">1</span>,<span class="mi">6</span><span class="w"> </span>@@</span>
<span class="code-line"><span class="w"> </span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">1</span><span class="w">    </span><span class="nv">localhost</span></span>
<span class="code-line"><span class="o">-</span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">1</span>.<span class="mi">1</span><span class="w">    </span><span class="nv">jewel</span>.<span class="nv">dst</span>.<span class="nv">pdvsa</span>.<span class="nv">com</span><span class="w">    </span><span class="nv">jewel</span></span>
<span class="code-line"><span class="o">-</span></span>
<span class="code-line"><span class="o">+</span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">1</span>.<span class="mi">1</span><span class="w">    </span><span class="nv">jewel</span><span class="w">    </span><span class="nv">jewel</span></span>
<span class="code-line"><span class="o">+</span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">1</span><span class="w">    </span><span class="nv">sofia</span><span class="w">   </span><span class="nv">sofia</span></span>
<span class="code-line"><span class="w"> </span>#<span class="w"> </span><span class="nv">The</span><span class="w"> </span><span class="nv">following</span><span class="w"> </span><span class="nv">lines</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">desirable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">IPv6</span><span class="w"> </span><span class="nv">capable</span><span class="w"> </span><span class="nv">hosts</span></span>
<span class="code-line"><span class="w"> </span>::<span class="mi">1</span><span class="w">     </span><span class="nv">ip6</span><span class="o">-</span><span class="nv">localhost</span><span class="w"> </span><span class="nv">ip6</span><span class="o">-</span><span class="nv">loopback</span></span>
<span class="code-line"><span class="w"> </span><span class="nv">fe00</span>::<span class="mi">0</span><span class="w"> </span><span class="nv">ip6</span><span class="o">-</span><span class="nv">localnet</span></span>
<span class="code-line"></code></pre></div>

<p>Ahora se revierte el cambio de la revisión 3 a la 2 en el archivo /etc/hosts.</p>
<div class="highlight"><pre><span class="code-line"><span></span><code>hg revert -r 2 /etc/hosts</span>
<span class="code-line"></code></pre></div>

<p>Ahora el host sofia ya no aparece en el archivo /etc/hosts:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="mf">127.0.0.1</span><span class="w">       </span><span class="n">localhost</span></span>
<span class="code-line"><span class="mf">127.0.1.1</span><span class="w">       </span><span class="n">jewel</span><span class="w">   </span><span class="n">jewel</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="err">#</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">desirable</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">IPv6</span><span class="w"> </span><span class="n">capable</span><span class="w"> </span><span class="n">hosts</span></span>
<span class="code-line"><span class="p">::</span><span class="mf">1</span><span class="w">     </span><span class="n">ip6</span><span class="o">-</span><span class="n">localhost</span><span class="w"> </span><span class="n">ip6</span><span class="o">-</span><span class="n">loopback</span></span>
<span class="code-line"><span class="n">fe00</span><span class="p">::</span><span class="mf">0</span><span class="w"> </span><span class="n">ip6</span><span class="o">-</span><span class="n">localnet</span></span>
<span class="code-line"><span class="n">ff00</span><span class="p">::</span><span class="mf">0</span><span class="w"> </span><span class="n">ip6</span><span class="o">-</span><span class="n">mcastprefix</span></span>
<span class="code-line"><span class="n">ff02</span><span class="p">::</span><span class="mf">1</span><span class="w"> </span><span class="n">ip6</span><span class="o">-</span><span class="n">allnodes</span></span>
<span class="code-line"><span class="n">ff02</span><span class="p">::</span><span class="mf">2</span><span class="w"> </span><span class="n">ip6</span><span class="o">-</span><span class="n">allrouters</span></span>
<span class="code-line"></code></pre></div>

<p>Si se desea respaldar los archivos en un servidor se puede usar bitbucket como ejemplo, se crea el proyecto configuracion-jewel y se sube el contenido del directorio /etc/ con el comando hg push:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="n">hg</span><span class="w"> </span><span class="n">push</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">bitbucket</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">ecrespo</span><span class="o">/</span><span class="n">configuracion</span><span class="o">-</span><span class="n">jewel</span></span>
<span class="code-line"><span class="n">http</span><span class="w"> </span><span class="n">authorization</span><span class="w"> </span><span class="n">required</span></span>
<span class="code-line"><span class="n">realm</span><span class="p">:</span><span class="w"> </span><span class="n">Bitbucket</span><span class="o">.</span><span class="n">org</span><span class="w"> </span><span class="n">HTTP</span></span>
<span class="code-line"><span class="n">user</span><span class="p">:</span><span class="w"> </span><span class="n">ecrespo</span></span>
<span class="code-line"><span class="n">password</span><span class="p">:</span><span class="w"> </span></span>
<span class="code-line"><span class="n">pushing</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">bitbucket</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">ecrespo</span><span class="o">/</span><span class="n">configuracion</span><span class="o">-</span><span class="n">jewel</span></span>
<span class="code-line"><span class="n">searching</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">changes</span></span>
<span class="code-line"><span class="k">remote</span><span class="p">:</span><span class="w"> </span><span class="n">adding</span><span class="w"> </span><span class="n">changesets</span></span>
<span class="code-line"><span class="k">remote</span><span class="p">:</span><span class="w"> </span><span class="n">adding</span><span class="w"> </span><span class="n">manifests</span></span>
<span class="code-line"><span class="k">remote</span><span class="p">:</span><span class="w"> </span><span class="n">adding</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">changes</span></span>
<span class="code-line"><span class="k">remote</span><span class="p">:</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">changesets</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">5764</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">5759</span><span class="w"> </span><span class="n">files</span></span>
<span class="code-line"><span class="k">remote</span><span class="p">:</span><span class="w"> </span><span class="n">bb</span><span class="o">/</span><span class="n">acl</span><span class="p">:</span><span class="w"> </span><span class="n">ecrespo</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">allowed</span><span class="o">.</span><span class="w"> </span><span class="n">accepted</span><span class="w"> </span><span class="n">payload</span><span class="o">.</span></span>
<span class="code-line"></code></pre></div>

<p>En la siguiente figura se muestra una captura de pantalla de los cambios del proyecto en bitbucket.</p>
<p><img alt="Web mercurial" src="./images/mercurial-1.png"></p>
<p><img alt="Web mercurial" src="./images/mercurial-2.png"></p>
<p>Con esta guía ya se puede llevar un control de los cambios realizados en el directorio /etc/ con un control de versiones distribuido como mercurial.</p>
<p>===</p>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://blog.seraph.to/tag/linux.html">Linux</a>
      <a href="https://blog.seraph.to/tag/debian.html">Debian</a>
      <a href="https://blog.seraph.to/tag/ubuntu.html">Ubuntu</a>
      <a href="https://blog.seraph.to/tag/canaima.html">Canaima</a>
      <a href="https://blog.seraph.to/tag/etckeeper.html">etckeeper</a>
      <a href="https://blog.seraph.to/tag/mercurial.html">mercurial</a>
    </p>
  </div>

<section>
  <p id="post-share-links">
    Share on:
    <a href="mailto:?subject=Gestionar%20los%20archivos%20de%20configuraci%C3%B3n%20en%20/etc%20con%20etckeeper%20y%20mercurial&amp;body=https%3A//blog.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html" title="Share via Email">Email</a>
    |
    <a href="https://sharetodiaspora.github.io/?title=Gestionar%20los%20archivos%20de%20configuraci%C3%B3n%20en%20/etc%20con%20etckeeper%20y%20mercurial&url=https%3A//blog.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html" title="Share on Diaspora">Diaspora</a>
    |
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//blog.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html" title="Share on Facebook">Facebook</a>
    |
    <a href="https://news.ycombinator.com/submitlink?t=Gestionar%20los%20archivos%20de%20configuraci%C3%B3n%20en%20/etc%20con%20etckeeper%20y%20mercurial&u=https%3A//blog.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html" title="Share on Hacker News">Hacker News</a>
    |
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A//blog.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html&title=Gestionar%20los%20archivos%20de%20configuraci%C3%B3n%20en%20/etc%20con%20etckeeper%20y%20mercurial&summary=Continuando%20con%20los%20art%C3%ADculos%20de%20control%20de%20versiones%20distribuido%20con%20Mercurial%20ahora%20toca%20el%20respaldo%20y%20guardar%20las%20versiones%20de%20los%20archivos%20de%20configuraci%C3%B3n%20en%20/etc%20con%20etckeeper.%0ALa%20mayoria%20de%20los%20art%C3%ADculos%20que%20se%20consiguen%20sobre%20etckeeper%20es%20usando%20git%20o%20bazaar.%0APara%20esta%20gu%C3%ADa%20es%20necesario%20tener%20conocimientos%20%E2%80%A6&source=https%3A//blog.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html" title="Share on LinkedIn">LinkedIn</a>
    |
    <a href="" title="Share on Mastodon">Mastodon</a>
    |
    <a href="https://www.reddit.com/submit?url=https%3A//blog.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html&title=Gestionar%20los%20archivos%20de%20configuraci%C3%B3n%20en%20/etc%20con%20etckeeper%20y%20mercurial" title="Share via Reddit">Reddit</a>
    |
    <a href="https://twitter.com/intent/tweet?text=Gestionar%20los%20archivos%20de%20configuraci%C3%B3n%20en%20/etc%20con%20etckeeper%20y%20mercurial&url=https%3A//blog.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html&hashtags=linux,debian,ubuntu,canaima,etckeeper,mercurial" title="Share on Twitter">Twitter</a>
    |
    <a href="" title="Share on Bluesky">Bluesky</a>
  </p>
</section>


  <div class="neighbors">
    <a class="btn float-left" href="https://blog.seraph.to/iniciar-sesion-de-usuario-autenticando-via-pendrive.html" title="Iniciar sesión de usuario autenticando vía pendrive">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="https://blog.seraph.to/tutorial-de-pyqt-barra-de-progreso-parte-9.html" title="Tutorial de PyQt. Barra de progreso. Parte 9.">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="https://blog.seraph.to/conectarse-al-repositorio-de-bitbucket-desde-python.html">Conectarse al repositorio de bitbucket desde python</a></li>
      <li><a href="https://blog.seraph.to/api-de-mercurial-para-python.html">API de Mercurial para Python</a></li>
      <li><a href="https://blog.seraph.to/compartir-repositorios-mercurial-por-ssh.html">Compartir repositorios Mercurial por ssh</a></li>
      <li><a href="https://blog.seraph.to/compartir-repositorios-de-mercurial-con-mercurial-server.html">Compartir repositorios de Mercurial con mercurial-server</a></li>
      <li><a href="https://blog.seraph.to/usar-dockerui-para-la-gestion-de-imagenes-y-contenedores-de-docker.html">Usar dockerui para la gestión de imágenes y contenedores de Docker</a></li>
    </ul>
  </div>


    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234566"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2025 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Página de Seraph ",
  "url" : "https://blog.seraph.to",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>
</body>
</html>