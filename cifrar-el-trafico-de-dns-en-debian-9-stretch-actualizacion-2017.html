
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/pygments/monokai.min.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/solid.css">


    <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Página de Seraph Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="En el año 2012 preocupado por la lentitud y seguridad en las comunicaciones de las consultas de DNS escribí un artículo sobre DNSCrypt. Este artículo se basa en el artículo Comprobar que DNSCrypt funciona correctamente y cifra el tráfico . Para esa época la instalación se hacía bajando un archivo .deb …" />
<meta name="keywords" content="Linux, Debian, DNS, DNSCrypt">

<meta property="og:site_name" content="Página de Seraph"/>
<meta property="og:title" content="Cifrar el tráfico de DNS en Debian 9 Stretch (actualización 2017)"/>
<meta property="og:description" content="En el año 2012 preocupado por la lentitud y seguridad en las comunicaciones de las consultas de DNS escribí un artículo sobre DNSCrypt. Este artículo se basa en el artículo Comprobar que DNSCrypt funciona correctamente y cifra el tráfico . Para esa época la instalación se hacía bajando un archivo .deb …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://ecrespo.github.io/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2017-06-03 09:00:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ecrespo.github.io/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial de Linux"/>
<meta property="article:tag" content="Linux"/>
<meta property="article:tag" content="Debian"/>
<meta property="article:tag" content="DNS"/>
<meta property="article:tag" content="DNSCrypt"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Página de Seraph &ndash; Cifrar el tráfico de DNS en Debian 9 Stretch (actualización 2017)</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://ecrespo.github.io">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>
      <h1><a href="https://ecrespo.github.io">Ernesto Crespo</a></h1>

<p>Data Scientist </p>
      <nav>
        <ul class="list">
          <li><a href="https://ecrespo.github.io/pages/About.html#About">Acerca</a></li>
          <li><a href="https://ecrespo.github.io/pages/Contacto.html#Contacto">Contacto</a></li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
            <i class="fab fa-medium">
            </i>
          </a></li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
            <i class="fab fa-linkedin">
            </i>
          </a></li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
            <i class="fab fa-github">
            </i>
          </a></li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
            <i class="fab fa-google">
            </i>
          </a></li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
            <i class="fab fa-twitter">
            </i>
          </a></li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
            <i class="fab fa-facebook">
            </i>
          </a></li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
            <i class="fab fa-gitlab">
            </i>
          </a></li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
            <i class="fab fa-soundcloud">
            </i>
          </a></li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
            <i class="fas fa-rss">
            </i>
          </a></li>
      </ul>
    </div>
    
    <ul class="tagcloud">
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/simplecv.html">
            SimpleCV
                    <span class="badge">4</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/gnome.html">
            gnome
                    <span class="badge">19</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/mocking.html">
            Mocking
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/data-science.html">
            Data Science
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/paquetes.html">
            Paquetes
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/control-de-versiones.html">
            Control de versiones
                    <span class="badge">6</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/matplotlib.html">
            matplotlib
                    <span class="badge">23</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/cprofile.html">
            cProfile
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/flask.html">
            Flask
                    <span class="badge">17</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/arbol-de-decision.html">
            Árbol de decisión
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/ssh.html">
            SSH
                    <span class="badge">6</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/pyqt.html">
            PyQt
                    <span class="badge">13</span>
            </a>
        </li>
        <li class="tag-1">
            <a href="https://ecrespo.github.io/tag/canaima.html">
            Canaima
                    <span class="badge">111</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/unittest.html">
            unittest
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/redes.html">
            Redes
                    <span class="badge">5</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/pdf-scraping.html">
            pdf scraping
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/beautiful-soup.html">
            Beautiful Soup
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/tiflotecnologia.html">
            tiflotecnologia
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/docker-compose.html">
            Docker-compose
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/twitter.html">
            Twitter
                    <span class="badge">6</span>
            </a>
        </li>
        <li class="tag-1">
            <a href="https://ecrespo.github.io/tag/android.html">
            Android
                    <span class="badge">41</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/webscraping.html">
            Webscraping
                    <span class="badge">10</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/qt.html">
            qt
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/privoxy.html">
            Privoxy
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/asus.html">
            Asus
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/numpy.html">
            Numpy
                    <span class="badge">23</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/flask-restful.html">
            Flask-restful
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/paramiko.html">
            Paramiko
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-1">
            <a href="https://ecrespo.github.io/tag/debian.html">
            Debian
                    <span class="badge">176</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/crud.html">
            CRUD
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/gtk.html">
            gtk
                    <span class="badge">15</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/nube.html">
            Nube
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/opendns.html">
            OpenDNS
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/aiohttp.html">
            aiohttp
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/pylab.html">
            pylab
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/devops.html">
            DevOps
                    <span class="badge">6</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/gitlab.html">
            gitlab
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/webkit.html">
            webkit
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/mercurial.html">
            Mercurial
                    <span class="badge">8</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/pypdf.html">
            pypdf
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/api-rest.html">
            API rest
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/camara.html">
            Camara
                    <span class="badge">4</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/profiling.html">
            Profiling
                    <span class="badge">4</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/gps.html">
            GPS
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/entorno-desarrollo.html">
            Entorno Desarrollo
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/sms.html">
            SMS
                    <span class="badge">4</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/accesibilidad.html">
            Accesibilidad
                    <span class="badge">10</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/tor.html">
            Tor
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/jupyter-notebook.html">
            Jupyter Notebook
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/cicd.html">
            CI/CD
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-1">
            <a href="https://ecrespo.github.io/tag/python.html">
            Python
                    <span class="badge">252</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/gitlab-ci.html">
            Gitlab-ci
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/pruebas-unitarias.html">
            Pruebas unitarias
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/empaquetado.html">
            Empaquetado
                    <span class="badge">9</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/api-restfull.html">
            Api restfull
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/glade.html">
            glade
                    <span class="badge">14</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/beautifulsoup.html">
            BeautifulSoup
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/ciencia-de-datos.html">
            Ciencia de Datos
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/json.html">
            json
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/fedora.html">
            Fedora
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/redis.html">
            Redis
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/asincrono.html">
            asincrono
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/dnscrypt.html">
            DNSCrypt
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/networkx.html">
            Networkx
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/pyautogui.html">
            PyAutoGUI
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-1">
            <a href="https://ecrespo.github.io/tag/linux.html">
            Linux
                    <span class="badge">183</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/seguridad.html">
            Seguridad
                    <span class="badge">4</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/dns.html">
            DNS
                    <span class="badge">5</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/mongodb.html">
            MongoDB
                    <span class="badge">12</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/machine-learning.html">
            Machine Learning
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/scikit-learn.html">
            Scikit-Learn
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/flask-mongoalchemy.html">
            Flask-MongoAlchemy
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/kivy.html">
            kivy
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-1">
            <a href="https://ecrespo.github.io/tag/ubuntu.html">
            Ubuntu
                    <span class="badge">132</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/fabric.html">
            Fabric
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/cerberus.html">
            Cerberus
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/videos.html">
            Videos
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/arduino.html">
            Arduino
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/api-restful.html">
            API restful
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/gconf.html">
            gconf
                    <span class="badge">4</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/sqlite3.html">
            Sqlite3
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/mechanize.html">
            Mechanize
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/cloud9.html">
            Cloud9
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/eve.html">
            Eve
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/reproductor-musica.html">
            Reproductor Música
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/zeromq.html">
            ZeroMQ
                    <span class="badge">9</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/django.html">
            Django
                    <span class="badge">11</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/docker-machine.html">
            docker-machine
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/doctest.html">
            Doctest
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/wikipedia.html">
            Wikipedia
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-1">
            <a href="https://ecrespo.github.io/tag/docker.html">
            Docker
                    <span class="badge">50</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/debootstrap.html">
            debootstrap
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/memcached.html">
            memcached
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/poo.html">
            POO
                    <span class="badge">10</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/estructura-de-datos.html">
            Estructura de datos
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-4">
            <a href="https://ecrespo.github.io/tag/metodo-de-montecarlo.html">
            Método de Montecarlo
                    <span class="badge">1</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/pylint.html">
            pylint
                    <span class="badge">2</span>
            </a>
        </li>
        <li class="tag-1">
            <a href="https://ecrespo.github.io/tag/general.html">
            General
                    <span class="badge">112</span>
            </a>
        </li>
        <li class="tag-3">
            <a href="https://ecrespo.github.io/tag/dnsmasq.html">
            Dnsmasq
                    <span class="badge">3</span>
            </a>
        </li>
        <li class="tag-2">
            <a href="https://ecrespo.github.io/tag/sympy.html">
            Sympy
                    <span class="badge">7</span>
            </a>
        </li>
   </ul>



  </aside>
  <main>

    <nav>
      <a href="https://ecrespo.github.io">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ecrespo.github.io/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017">Cifrar el tráfico de DNS en Debian 9 Stretch (actualización 2017)</h1>
    <p>
          Posted on sáb 03 junio 2017 in <a href="https://ecrespo.github.io/category/tutorial-de-linux.html">Tutorial de Linux</a>


        &#8226; 3 min read
    </p>
  </header>


  <div>
    <p>En el año 2012 preocupado por la lentitud y seguridad en las comunicaciones de las consultas de DNS escribí un artículo sobre <a href="https://www.seraph.to/cifrar-el-trafico-de-dns-en-linux-con-dnscrypt-y-opendns.html">DNSCrypt</a>.</p>
<p>Este artículo se basa en el artículo <a href="https://geekland.eu/comprobar-el-funcionamiento-de-dnscrypt/">Comprobar que DNSCrypt funciona correctamente y cifra el tráfico</a> .</p>
<p>Para esa época la instalación se hacía bajando un archivo <code>.deb</code>, pero en Debian Stretch ya viene incorporado en los repositorios, así que para instalar es con un simple <code>apt-get</code>.</p>
<div class="highlight"><pre><span></span>apt-get install dnscrypt-proxy dnscrypt-proxy-plugins
</pre></div>


<p>Revisar que <code>DNSCrypt</code> esté activo:</p>
<div class="highlight"><pre><span></span><span class="err">#</span> <span class="nt">systemctl</span> <span class="nt">status</span> <span class="nt">dnscrypt-proxy</span><span class="p">.</span><span class="nc">socket</span>
<span class="err">●</span> <span class="nt">dnscrypt-proxy</span><span class="p">.</span><span class="nc">socket</span> <span class="nt">-</span> <span class="nt">dnscrypt-proxy</span> <span class="nt">listening</span> <span class="nt">socket</span>
   <span class="nt">Loaded</span><span class="o">:</span> <span class="nt">loaded</span> <span class="o">(/</span><span class="nt">lib</span><span class="o">/</span><span class="nt">systemd</span><span class="o">/</span><span class="nt">system</span><span class="o">/</span><span class="nt">dnscrypt-proxy</span><span class="p">.</span><span class="nc">socket</span><span class="o">;</span> <span class="nt">enabled</span><span class="o">;</span> <span class="nt">vendor</span> <span class="nt">preset</span><span class="o">:</span> <span class="nt">enabled</span><span class="o">)</span>
   <span class="nt">Active</span><span class="o">:</span> <span class="nt">active</span> <span class="o">(</span><span class="nt">running</span><span class="o">)</span> <span class="nt">since</span> <span class="nt">Sat</span> <span class="nt">2017-06-03</span> <span class="nt">00</span><span class="p">:</span><span class="nd">26</span><span class="p">:</span><span class="nd">02</span> <span class="nt">-04</span><span class="o">;</span> <span class="nt">18h</span> <span class="nt">ago</span>
     <span class="nt">Docs</span><span class="o">:</span> <span class="nt">man</span><span class="p">:</span><span class="nd">dnscrypt-proxy</span><span class="o">(</span><span class="nt">8</span><span class="o">)</span>
   <span class="nt">Listen</span><span class="o">:</span> <span class="nt">127</span><span class="p">.</span><span class="nc">0</span><span class="p">.</span><span class="nc">2</span><span class="p">.</span><span class="nc">1</span><span class="p">:</span><span class="nd">53</span> <span class="o">(</span><span class="nt">Stream</span><span class="o">)</span>
           <span class="nt">127</span><span class="p">.</span><span class="nc">0</span><span class="p">.</span><span class="nc">2</span><span class="p">.</span><span class="nc">1</span><span class="p">:</span><span class="nd">53</span> <span class="o">(</span><span class="nt">Datagram</span><span class="o">)</span>

<span class="nt">jun</span> <span class="nt">03</span> <span class="nt">00</span><span class="p">:</span><span class="nd">26</span><span class="p">:</span><span class="nd">02</span> <span class="nt">grievous</span> <span class="nt">systemd</span><span class="cp">[</span><span class="mi">1</span><span class="cp">]</span><span class="o">:</span> <span class="nt">Listening</span> <span class="nt">on</span> <span class="nt">dnscrypt-proxy</span> <span class="nt">listening</span> <span class="nt">socket</span><span class="o">.</span>
</pre></div>


<p>Como se ve <code>DNSCrypt</code> está activo, para el caso de que no esté activo se ejecuta:</p>
<div class="highlight"><pre><span></span># systemctl start dnscrypt-proxy.socket
</pre></div>


<p>Para que <code>DNSCrypt</code> se ejecute automáticamente se ejecuta:</p>
<div class="highlight"><pre><span></span># systemctl enable dnscrypt-proxy.socket
</pre></div>


<p>La lista de servidores <code>DNSCrypt</code> lo pueden ver en <code>/usr/share/dnscrypt-proxy/dnscrypt-resolvers.csv</code> .  En la siguiente imagen se muestra algo del contenido del archivo: </p>
<p><img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-1.png"></p>
<p>Ahora se consulta el puerto y la IP que está usando <code>DNSCrypt</code>:</p>
<div class="highlight"><pre><span></span># cat /etc/systemd/system/sockets.target.wants/dnscrypt-proxy.socket
[Unit]
Description=dnscrypt-proxy listening socket
Documentation=man:dnscrypt-proxy(8)
Wants=dnscrypt-proxy-resolvconf.service

[Socket]
ListenStream=127.0.2.1:53
ListenDatagram=127.0.2.1:53

[Install]

WantedBy=sockets.target
</pre></div>


<p>La dirección IP que está usando <code>DNSCrypt</code> es la 127.0.2.1 y el puerto 53.</p>
<p>Este archivo se modifica si se está usano <code>SystemD</code>, para el caso de usar <code>init.d</code> se modifica el archivo que se describe a continuación.</p>
<p>Se edita el archivo <code>/etc/dnscrypt-proxy/dnscrypt-proxy.conf</code> :</p>
<div class="highlight"><pre><span></span>vim /etc/dnscrypt-proxy/dnscrypt-proxy.conf

# cat dnscrypt-proxy.conf 
# A more comprehensive example config can be found in
# /usr/share/doc/dnscrypt-proxy/examples/dnscrypt-proxy.conf

ResolverName random
Daemonize yes

# LocalAddress only applies to users of the init script. systemd users must
# change the dnscrypt-proxy.socket file.
LocalAddress 127.0.2.1:53
</pre></div>


<p>Con la opción <code>random</code> garantiza que se use cualquier servidor de <code>DNSCrypt</code> de la lista ya mencionada.</p>
<p>Al levantar el servicio de <code>DNSCrypt</code> este cambia la configuración de <code>/etc/resolv.conf</code> para que use la IP 127.0.2.1, a continuación se muestra el contenido del archivo </p>
<div class="highlight"><pre><span></span># cat /etc/resolv.conf

# Generated by resolvconf
nameserver 127.0.2.1
</pre></div>


<p>Al iniciar el servicio se puede revisar el log de <code>syslog</code> para ver si funciona el servicio:</p>
<p><img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-2.png"></p>
<p>Como se puede ver en el <code>syslog</code>, al inicio el servicio espera por un certificado digital y luego es que empieza a funcionar. </p>
<p>Al consultar con el comando <code>host</code> se tiene:</p>
<div class="highlight"><pre><span></span>host www.google.com
www.google.com has address 216.58.209.68
www.google.com has IPv6 address 2a00:1450:401b:801::2004
</pre></div>


<p>Ahora se instalarán unas herramientas de consultas:</p>
<div class="highlight"><pre><span></span>apt-get install dnsutils 
</pre></div>


<p>Se realiza una consulta con el comando <code>dig</code>: </p>
<div class="highlight"><pre><span></span><span class="nt">dig</span> <span class="nt">www</span><span class="p">.</span><span class="nc">google</span><span class="p">.</span><span class="nc">com</span>

<span class="o">;</span> <span class="o">&lt;&lt;&gt;&gt;</span> <span class="nt">DiG</span> <span class="nt">9</span><span class="p">.</span><span class="nc">10</span><span class="p">.</span><span class="nc">3-P4-Debian</span> <span class="o">&lt;&lt;&gt;&gt;</span> <span class="nt">www</span><span class="p">.</span><span class="nc">google</span><span class="p">.</span><span class="nc">com</span>
<span class="o">;;</span> <span class="nt">global</span> <span class="nt">options</span><span class="o">:</span> <span class="o">+</span><span class="nt">cmd</span>
<span class="o">;;</span> <span class="nt">Got</span> <span class="nt">answer</span><span class="o">:</span>
<span class="o">;;</span> <span class="nt">-</span><span class="o">&gt;&gt;</span><span class="nt">HEADER</span><span class="o">&lt;&lt;</span><span class="nt">-</span> <span class="nt">opcode</span><span class="o">:</span> <span class="nt">QUERY</span><span class="o">,</span> <span class="nt">status</span><span class="o">:</span> <span class="nt">NOERROR</span><span class="o">,</span> <span class="nt">id</span><span class="o">:</span> <span class="nt">6930</span>
<span class="o">;;</span> <span class="nt">flags</span><span class="o">:</span> <span class="nt">qr</span> <span class="nt">rd</span> <span class="nt">ra</span><span class="o">;</span> <span class="nt">QUERY</span><span class="o">:</span> <span class="nt">1</span><span class="o">,</span> <span class="nt">ANSWER</span><span class="o">:</span> <span class="nt">1</span><span class="o">,</span> <span class="nt">AUTHORITY</span><span class="o">:</span> <span class="nt">0</span><span class="o">,</span> <span class="nt">ADDITIONAL</span><span class="o">:</span> <span class="nt">1</span>

<span class="o">;;</span> <span class="nt">OPT</span> <span class="nt">PSEUDOSECTION</span><span class="o">:</span>
<span class="o">;</span> <span class="nt">EDNS</span><span class="o">:</span> <span class="nt">version</span><span class="o">:</span> <span class="nt">0</span><span class="o">,</span> <span class="nt">flags</span><span class="o">:;</span> <span class="nt">udp</span><span class="o">:</span> <span class="nt">4096</span>
<span class="o">;;</span> <span class="nt">QUESTION</span> <span class="nt">SECTION</span><span class="o">:</span>
<span class="o">;</span><span class="nt">www</span><span class="p">.</span><span class="nc">google</span><span class="p">.</span><span class="nc">com</span><span class="o">.</span>   <span class="nt">IN</span> <span class="nt">A</span>

<span class="o">;;</span> <span class="nt">ANSWER</span> <span class="nt">SECTION</span><span class="o">:</span>
<span class="nt">www</span><span class="p">.</span><span class="nc">google</span><span class="p">.</span><span class="nc">com</span><span class="o">.</span>  <span class="nt">7</span> <span class="nt">IN</span> <span class="nt">A</span> <span class="nt">216</span><span class="p">.</span><span class="nc">58</span><span class="p">.</span><span class="nc">209</span><span class="p">.</span><span class="nc">68</span>

<span class="o">;;</span> <span class="nt">Query</span> <span class="nt">time</span><span class="o">:</span> <span class="nt">266</span> <span class="nt">msec</span>
<span class="o">;;</span> <span class="nt">SERVER</span><span class="o">:</span> <span class="nt">127</span><span class="p">.</span><span class="nc">0</span><span class="p">.</span><span class="nc">2</span><span class="p">.</span><span class="nc">1</span><span class="p">#</span><span class="nn">53</span><span class="o">(</span><span class="nt">127</span><span class="p">.</span><span class="nc">0</span><span class="p">.</span><span class="nc">2</span><span class="p">.</span><span class="nc">1</span><span class="o">)</span>
<span class="o">;;</span> <span class="nt">WHEN</span><span class="o">:</span> <span class="nt">Sat</span> <span class="nt">Jun</span> <span class="nt">03</span> <span class="nt">20</span><span class="p">:</span><span class="nd">26</span><span class="p">:</span><span class="nd">08</span> <span class="nt">-04</span> <span class="nt">2017</span>
<span class="o">;;</span> <span class="nt">MSG</span> <span class="nt">SIZE</span>  <span class="nt">rcvd</span><span class="o">:</span> <span class="nt">59</span>
</pre></div>


<p>Para verificar el funcionamiento del cifrado en <code>DNSCrypt</code> se usará <code>wireshark-gtk</code>, primero se instala y luego se ejecuta:</p>
<div class="highlight"><pre><span></span>#apt-get install wireshark wireshark-gtk
</pre></div>


<p>Para averiguar la IP del servidor <code>DNSCrypt</code> que se está usando se usa  <code>dnsleaktest</code>, al abrir la página muestra que la IP del equipo se encuentra en Barquisimeto, Venezuela y la IP es 186.185.180.136.</p>
<p><img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-3.png"></p>
<p>Se le da click a  <code>standard test</code>:</p>
<p><img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-4.png"></p>
<p>La IP del servidor es 81.2.237.32.</p>
<p>Se inicia <code>wireshark</code> capturando paquetes de la interface wlp1s0 que es ahora como se llama wlan0 en Debian Strech. Se inicia la captura de paquetes y se filtra ip.addr == 81.2.237.32. El resultado se muestra a continuación: </p>
<p><img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-5.png"></p>
<p>El protocolo que se usa en la comunicación es <a href="https://es.wikipedia.org/wiki/QUIC">QUIC</a> el cual es un experimental que cifra la comunicación. Se selecciona el primer paquete y con el botón derecho se le da clic a follow udp steam obteniendo lo que se muestra en la siguiente figura:</p>
<p><img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-6.png"></p>
<p>Al ejecutar esa acción se realiza la construcción de los diferentes paquetes en este caso de UDP en formato crudo, como se puede ver la comunicación no muestra información en texto plato. </p>
<h2></h2>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ecrespo.github.io/tag/linux.html">Linux</a>
      <a href="https://ecrespo.github.io/tag/debian.html">Debian</a>
      <a href="https://ecrespo.github.io/tag/dns.html">DNS</a>
      <a href="https://ecrespo.github.io/tag/dnscrypt.html">DNSCrypt</a>
    </p>
  </div>
  
<section>
  <p id="post-share-links">
    Share on:
    <a href="https://twitter.com/intent/tweet?text=Cifrar%20el%20tr%C3%A1fico%20de%20DNS%20en%20Debian%209%20Stretch%20%28actualizaci%C3%B3n%202017%29&url=https%3A//ecrespo.github.io/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html&hashtags=linux,debian,dns,dnscrypt" target="_blank" title="Share on Twitter">Twitter</a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//ecrespo.github.io/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html" target="_blank" title="Share on Facebook">Facebook</a>
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A//ecrespo.github.io/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html&title=Cifrar%20el%20tr%C3%A1fico%20de%20DNS%20en%20Debian%209%20Stretch%20%28actualizaci%C3%B3n%202017%29&summary=En%20el%20a%C3%B1o%202012%20preocupado%20por%20la%20lentitud%20y%20seguridad%20en%20las%20comunicaciones%20de%20las%20consultas%20de%20DNS%20escrib%C3%AD%20un%20art%C3%ADculo%20sobre%20DNSCrypt.%0AEste%20art%C3%ADculo%20se%20basa%20en%20el%20art%C3%ADculo%20Comprobar%20que%20DNSCrypt%20funciona%20correctamente%20y%20cifra%20el%20tr%C3%A1fico%20.%0APara%20esa%20%C3%A9poca%20la%20instalaci%C3%B3n%20se%20hac%C3%ADa%20bajando%20un%20archivo%20.deb%20%E2%80%A6&source=https%3A//ecrespo.github.io/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html" target="_blank" title="Share on LinkedIn">LinkedIn</a>
    <a href="mailto:?subject=Cifrar%20el%20tr%C3%A1fico%20de%20DNS%20en%20Debian%209%20Stretch%20%28actualizaci%C3%B3n%202017%29&amp;body=https%3A//ecrespo.github.io/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html" target="_blank" title="Share via Email">Email</a>
  </p>
</section>


  <div class="neighbors">
    <a class="btn float-left" href="https://ecrespo.github.io/obtener-datos-de-eventos-sismologicos-de-funvisis-con-python.html" title="Obtener datos de eventos sismológicos de Funvisis con Python">
      <i class="fa fa-angle-left"></i>     Previous Post

    </a>
    <a class="btn float-right" href="https://ecrespo.github.io/navegar-de-manera-anonima-con-tor-en-debian-stretch.html" title="Navegar de manera anónima con tor en Debian Stretch">
          Next Post
 <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>    You might enjoy
</h4>
    <ul class="related-posts">
      <li><a href="https://ecrespo.github.io/mejorar-las-respuestas-de-consultas-de-dns-con-dnsmasq-usando-dnscrypt.html">Mejorar las respuestas de consultas de DNS con dnsmasq usando DNSCrypt</a></li>
      <li><a href="https://ecrespo.github.io/cifrar-el-trafico-de-dns-en-linux-con-dnscrypt-y-opendns.html">Cifrar el tráfico de DNS en Linux con DNSCrypt y OpenDNS</a></li>
      <li><a href="https://ecrespo.github.io/servidor-proxy-dns-con-pdnsd.html">Servidor Proxy DNS con pdnsd</a></li>
      <li><a href="https://ecrespo.github.io/mejorando-la-velocidad-de-consultas-de-dns-con-dnsmasq-y-probar-pruebas-de-diagnostico.html">Mejorando la velocidad de consultas de DNS con dnsmasq y probar pruebas de diagnostico</a></li>
      <li><a href="https://ecrespo.github.io/entorno_desarrollo_datascience.html">Crear entorno de desarrollo para Ciencia de Datos con Anaconda, Jupyter, git y cookiecutter</a></li>
    </ul>
  </div>


<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy;  2006</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Página de Seraph ",
  "url" : "https://ecrespo.github.io",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>

</body>
</html>