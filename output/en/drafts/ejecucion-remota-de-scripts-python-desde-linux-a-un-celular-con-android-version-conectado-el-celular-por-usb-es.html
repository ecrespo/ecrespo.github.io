
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://ecrespo.github.io/en/../theme/pygments/monokai.min.css">


  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/en/../theme/font-awesome/css/solid.css">


    <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Seraph's Blog Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#e5e5ff">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#e5e5ff">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#e5e5ff">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="En el post anterior explique como ejecutar script python en un celular con Android de forma remota desde Linux por wifi, ahora explicaré como hacerlo por cable USB, en realidad es más sencillo que el artículo anterior. Me basaré en lo explicado en el post anterior y en el post …" />
<meta name="keywords" content="Android, Python, Debian, Linux">


<meta property="og:site_name" content="Seraph's Blog"/>
<meta property="og:title" content="Ejecución remota de scripts python desde Linux a un celular con Android (versión conectado el celular por USB)"/>
<meta property="og:description" content="En el post anterior explique como ejecutar script python en un celular con Android de forma remota desde Linux por wifi, ahora explicaré como hacerlo por cable USB, en realidad es más sencillo que el artículo anterior. Me basaré en lo explicado en el post anterior y en el post …"/>
<meta property="og:locale" content="es_VE"/>
<meta property="og:url" content="https://ecrespo.github.io/en/drafts/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android-version-conectado-el-celular-por-usb-es.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2010-12-15 10:00:00-04:30"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ecrespo.github.io/en/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial de Python en Android"/>
<meta property="article:tag" content="Android"/>
<meta property="article:tag" content="Python"/>
<meta property="article:tag" content="Debian"/>
<meta property="article:tag" content="Linux"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Seraph's Blog &ndash; Ejecución remota de scripts python desde Linux a un celular con Android (versión conectado el celular por USB)</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "pub-0261001661746989",
      enable_page_level_ads: true
    });
  </script>
</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://ecrespo.github.io/en">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>

      <h1>
        <a href="https://ecrespo.github.io/en">Ernesto Crespo</a>
      </h1>

<p>Data Scientist </p>

      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="https://ecrespo.github.io/en/pages/About.html#About">
                  Acerca
                </a>
              </li>
              <li>
                <a target="_self"
                   href="https://ecrespo.github.io/en/pages/Contacto.html#Contacto">
                  Contacto
                </a>
              </li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
              <i class="fab fa-medium"></i>
            </a>
          </li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
              <i class="fab fa-google"></i>
            </a>
          </li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
              <i class="fab fa-facebook"></i>
            </a>
          </li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
              <i class="fab fa-gitlab"></i>
            </a>
          </li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
              <i class="fab fa-soundcloud"></i>
            </a>
          </li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
              <i class="fas fa-rss"></i>
            </a>
          </li>
      </ul>
    </div>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-aside"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234561"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
  </aside>
  <main>
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-responsive"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234562"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

    <nav>
      <a href="https://ecrespo.github.io/en">Home</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ecrespo.github.io/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android-version-conectado-el-celular-por-usb">Ejecución remota de scripts python desde Linux a un celular con Android (versión conectado el celular por USB)</h1>
    <p>
      Posted on mié 15 diciembre 2010 in <a href="https://ecrespo.github.io/en/category/tutorial-de-python-en-android.html">Tutorial de Python en Android</a>

        &#8226; 2 min read
    </p>
  </header>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234565"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

  <div>
    <p>En el post anterior explique como ejecutar script python en un celular con Android de forma remota desde Linux por wifi, ahora explicaré como hacerlo por cable USB, en realidad es más sencillo que el artículo anterior.
Me basaré en lo explicado en el post <a href="https://www.seraph.to/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android.html#ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android">anterior</a> y en el post sobre <a href="https://www.seraph.to/enviar-mensajes-de-texto-desde-android-con-python.html">envío de mensajes de texto</a>.</p>
<p>Lo primero que se necesita hacer es conectar el celular al computador por USB, activar el modo depuración y la conexión USB a Portal y Herramientas.</p>
<p>Se debe iniciar el servidor de SL4A. Menú-&gt;Ver-&gt;Interpretes-&gt;Menú-&gt;Iniciar Servidor-&gt;Privado.</p>
<p>Luego se averigua en los mensajes de notificiación que puerto abre el servidor. En mí caso fue el 58825.</p>
<p>Desde la consola de Linux se ejecutan los siguientes comandos:
Redirecciona toda petición al puerto 9999 al puerto 58825.</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span>./adb forward tcp:9999 tcp:58825</span></span>
</pre></div>


<p>Se exporta una variable de ambiente.</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="k">export</span> <span class="n">AP_PORT</span><span class="o">=</span><span class="mi">9999</span></span></span>
</pre></div>


<p>El programa es el siguiente:</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span><span class="ch">#!/usr/bin/env python2.6</span></span></span>
<span class="code-line"><span class="code-line"><span class="c1"># -*- coding: utf-8 -*-</span></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Script que permite enviar mensaje de texto a un celular android desde Linux.</span></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Autor: Ernesto Crespo</span></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Correo:ecrespo@gmail.com</span></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Licencia: GPLv3</span></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Versión:0.1</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Importando el módulo android,sys y re</span></span></span>
<span class="code-line"><span class="code-line"><span class="kn">import</span> <span class="nn">android</span><span class="o">,</span><span class="nn">sys</span><span class="o">,</span><span class="nn">re</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Función de envio de mensajes</span></span></span>
<span class="code-line"><span class="code-line"><span class="k">def</span> <span class="nf">Enviomensaje</span><span class="p">():</span></span></span>
<span class="code-line"><span class="code-line">    <span class="c1">#Se averigua si se le pasa al script el número celular y el mensaje, y que el número sea válido para venezuela.</span></span></span>
<span class="code-line"><span class="code-line">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span></span></span>
<span class="code-line"><span class="code-line">        <span class="n">numero</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></span></span>
<span class="code-line"><span class="code-line">        <span class="n">mensaje</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></span></span>
<span class="code-line"><span class="code-line">    <span class="k">else</span><span class="p">:</span></span></span>
<span class="code-line"><span class="code-line">        <span class="nb">print</span> <span class="s2">&quot;error enviando mensaje, se necesita pasar el número y mensaje&quot;</span></span></span>
<span class="code-line"><span class="code-line">        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span></span></span>
<span class="code-line"><span class="code-line">    <span class="k">if</span> <span class="n">Validar</span><span class="p">(</span><span class="n">numero</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span></span></span>
<span class="code-line"><span class="code-line">        <span class="nb">print</span> <span class="s2">&quot;Número invalido&quot;</span></span></span>
<span class="code-line"><span class="code-line">        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span></span></span>
<span class="code-line"><span class="code-line">    <span class="c1">#Creando la instancia droid del objeto Android</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">droid</span> <span class="o">=</span> <span class="n">android</span><span class="o">.</span><span class="n">Android</span><span class="p">()</span></span></span>
<span class="code-line"><span class="code-line">    <span class="c1">#Enviando el mensaje de texto</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">droid</span><span class="o">.</span><span class="n">smsSend</span><span class="p">(</span><span class="n">numero</span><span class="p">,</span><span class="n">mensaje</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line">    <span class="c1">#Se presenta un mensaje de notificación en el celular.</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">droid</span><span class="o">.</span><span class="n">makeToast</span><span class="p">(</span><span class="s1">&#39;Mensaje enviado&#39;</span><span class="p">)</span></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Función que válida si el número es de movilnet, digitel o movistar.</span></span></span>
<span class="code-line"><span class="code-line"><span class="k">def</span> <span class="nf">Validar</span><span class="p">(</span><span class="n">numero</span><span class="p">):</span></span></span>
<span class="code-line"><span class="code-line">    <span class="c1">#Valida si los numeros tienen 11 digitos y que sean de los proveedores movilnet, digitel y movistar</span></span></span>
<span class="code-line"><span class="code-line">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">numero</span><span class="p">)</span> <span class="o">==</span> <span class="mi">11</span> <span class="ow">and</span> <span class="p">((</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;041[2|4|6]\d\d\d\d\d\d\d&quot;</span><span class="p">,</span><span class="n">numero</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;042[4|6]\d\d\d\d\d\d\d&quot;</span><span class="p">,</span><span class="n">numero</span><span class="p">)))</span> <span class="p">:</span></span></span>
<span class="code-line"><span class="code-line">        <span class="k">return</span> <span class="mi">1</span></span></span>
<span class="code-line"><span class="code-line">    <span class="k">else</span><span class="p">:</span></span></span>
<span class="code-line"><span class="code-line">        <span class="k">return</span> <span class="mi">0</span></span></span>
<span class="code-line"><span class="code-line"><span class="c1">#Ejecución del programa.</span></span></span>
<span class="code-line"><span class="code-line"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span></span></span>
<span class="code-line"><span class="code-line">    <span class="n">Enviomensaje</span><span class="p">()</span></span></span>
</pre></div>


<p>Ejecutar el script.</p>
<div class="highlight"><pre><span class="code-line"><span class="code-line"><span></span>enviomensajes.py 0xxxyyyzzww  &quot;2da prueba, avisame si te llega el sms&quot;</span></span>
</pre></div>


<p>===</p>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ecrespo.github.io/en/tag/android.html">Android</a>
      <a href="https://ecrespo.github.io/en/tag/python.html">Python</a>
      <a href="https://ecrespo.github.io/en/tag/debian.html">Debian</a>
      <a href="https://ecrespo.github.io/en/tag/linux.html">Linux</a>
    </p>
  </div>


  <div class="neighbors">
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="https://ecrespo.github.io/en/internet-de-las-cosas-es  ernet de las cosas.html">Internet de las Cosas</a></li>
    </ul>
  </div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234566"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy; 2022 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Seraph's Blog ",
  "url" : "https://ecrespo.github.io/en",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>


</body>
</html>