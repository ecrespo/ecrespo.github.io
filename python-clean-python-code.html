<!doctype html>
<html lang="es" itemscope itemtype="http://schema.org/Person">
<head>
            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>Desarrollar código limpio de Python</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Ernesto Crespo">

        <link rel="shortcut icon" href="">

        <!-- schema.org -->
        <meta itemprop="name" content="Página de Seraph">
        <meta itemprop="image" content="">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Página de Seraph ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="">
        <meta name="twitter:image" content="">

    <meta name="twitter:creator" content="">
    <meta name="twitter:url" content="https://ecrespo.github.io/python-clean-python-code.html">
    <meta name="twitter:title" content="Página de Seraph ~ Desarrollar código limpio de Python">
    <meta name="twitter:description" content="Este artículo explica el uso de varias herramientas de aseguramiento de la calidad y como usarlas antes de hacer un commit con pre-commit.">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="Página de Seraph ~ Desarrollar código limpio de Python"/>
    <meta property="og:description" content="Este artículo explica el uso de varias herramientas de aseguramiento de la calidad y como usarlas antes de hacer un commit con pre-commit."/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <!--<center><a href="https://ecrespo.github.io"><img id="avatar" src=""></a></center>-->
    <h1>Página de Seraph</h1>
    <br>


    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="/archives.html">Archives</a></li>
                <li><a class="nav__link" href="/categories.html">Categories</a></li>
                <li><a class="nav__link" href="/tags.html">Tags</a></li>

                <li><a class="nav__link" href="https://ecrespo.github.io/pages/About.html">Acerca</a></li>
                <li><a class="nav__link" href="https://ecrespo.github.io/pages/Contacto.html">Contacto</a></li>

        </ul>
    </nav>

    <p class="social">
                <a href="https://medium.com/@_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/medium.png"></a>
                <a href="http://ve.linkedin.com/in/ernestocrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/linkedin.png"></a>
                <a href="https://github.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/github.png"></a>
                <a href="https://google.com/+ErnestoCrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/google.png"></a>
                <a href="https://twitter.com/_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/twitter.png"></a>
                <a href="https://www.facebook.com/ernesto.crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/facebook.png"></a>
                <a href="https://gitlab.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/gitlab.png"></a>
                <a href="https://soundcloud.com/ernesto-crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/soundcloud.png"></a>
                <a href="//www.seraph.to/feeds/all.atom.xml" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
            <a href="https://ecrespo.github.io/feeds/all.atom.xml" rel="alternate">
                <img src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
    </p>

        <h2>Categories</h2>
        <ul class="navbar">
                <li><a
                        href="https://ecrespo.github.io/category/accesibilidad.html">Accesibilidad</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncio.html">Anuncio</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncios.html">Anuncios</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/aplicacion-android.html">Aplicación Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/asterisk-debian-linux.html">Asterisk, Debian, Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla.html">Charla</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla-python.html">Charla Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-linux-mac-book.html">Debian, Linux, Mac Book</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-maemo-nokia-n810-python.html">Debian, maemo, Nokia N810, Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/demostracion-aplicacion-para-android.html">Demostración Aplicación para Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/desarrollomovil.html">Desarrollo,Movil</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/evento.html">Evento</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/general.html">General</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linux.html">Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdebian.html">Linux,Debian</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdesarrollo.html">Linux,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxempaquetado.html">Linux,Empaquetado</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxofimaticadesarrollo.html">Linux,Ofimatica,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/movil-nokia.html">Movil, Nokia</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810.html">Nokia N810</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810-debian-maemo.html">Nokia N810 Debian Maemo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/posts.html">posts</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/resumen-2010.html">Resumen 2010</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/sistemas-operativos.html">Sistemas Operativos</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial.html">Tutorial</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-android.html">Tutorial Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-arduino.html">Tutorial de Arduino</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-data-science.html">Tutorial de Data Science</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-docker.html">Tutorial de Docker</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-integracion-continua.html">Tutorial de integración continua</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-linux.html">Tutorial de Linux</a></li>
                <li class="active"><a
                        href="https://ecrespo.github.io/category/tutorial-de-python.html">Tutorial de Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-en-android.html">Tutorial de Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-linux.html">Tutorial de Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-pyqt.html">Tutorial de Python y PyQt</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-debian-bsd-y-python.html">Tutorial Debian BSD y Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux.html">Tutorial Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux-y-python.html">Tutorial Linux y Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-en-android.html">Tutorial Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-y-linux.html">Tutorial Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorialdesarrollo.html">Tutorial,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/xml-rpcpython.html">XML-RPC,Python</a></li>
        </ul>


</aside>

<!-- Content -->
<article>
    <section id="content">
        <article>
            <h2 class="post_title post_detail"><a href="https://ecrespo.github.io/python-clean-python-code.html" rel="bookmark"
                                                  title="Permalink to Desarrollar código limpio de Python">Desarrollar código limpio de Python</a></h2>
            <div class="entry-content blog-post">
                <p>En artículo anterior (<a href="https://www.seraph.to/python-tools-security-quality-code.html#python-tools-security-quality-code">Herramientas de Python para desarrollar código seguro y de calidad</a>) se tocó el tema de herramientas que facilitan a cumplir el PEP8 de Python, mejoras de seguridad del código y formateo del mismo, en este caso se usa circle-ci para las evaluaciones. </p>
<p>En este artículo se usará la evaluación antes de subir código a un repositorio de git. El artículo se basa en los siguientes artículos:</p>
<ul>
<li><a href="https://realpython.com/python-code-quality/">Python Code Quality: Tools &amp; Best Practices</a></li>
<li><a href="https://testdriven.io/blog/python-code-quality/">Python Code Quality</a></li>
<li><a href="https://towardsdatascience.com/pre-commit-hooks-you-must-know-ff247f5feb7e">pre-commit hooks you must know</a></li>
<li><a href="https://towardsdatascience.com/simplify-your-python-code-automating-code-complexity-analysis-with-wily-5c1e90c9a485">Simplify your Python Code: Automating Code Complexity Analysis with Wily</a></li>
<li><a href="https://medium.com/python-in-plain-english/how-to-improve-your-python-code-style-with-pre-commit-hooks-e7fe3fd43bfa">How to Improve your Python Code Style with Pre-commit Hooks</a></li>
<li><a href="https://medium.com/staqu-dev-logs/keeping-python-code-clean-with-pre-commit-hooks-black-flake8-and-isort-cac8b01e0ea1">Keeping python code clean with pre-commit hooks: black, flake8 and isort</a></li>
</ul>
<p>Se volvera a tocar las herramientas que se explicaron en el artículo anterior.</p>
<p>El código que se usará para evaluar es el siguiente (no cumple con las comprobaciones):</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">signal</span> <span class="k">as</span> <span class="n">sp</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">scipy.signal</span> <span class="k">as</span> <span class="nn">signal</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
<span class="kn">import</span> <span class="nn">streamlit</span> <span class="k">as</span> <span class="nn">st</span>


<span class="k">def</span> <span class="nf">u</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Función escalón unitario</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud (int): Amplitud del escalon</span>
<span class="sd">        t (list): Lista de tiempo</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Lista de valores</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">amplitud</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">piecewise</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">[</span><span class="n">t</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">t</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>


<span class="k">def</span> <span class="nf">OndaCuadrada</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Función  de Onda Cuadrada</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud (int): Amplitud de la segnal</span>
<span class="sd">        t (list): Lista de valores de tiempo</span>
<span class="sd">        fs (int, optional): Frecuencia.. Defaults to 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Lista de valores</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">sp</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">fs</span><span class="o">*</span><span class="n">t</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">amplitud</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">amplitud</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">segnal_triangular</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">simetria</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Señal triangular </span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud (int): Amplitud de la señal</span>
<span class="sd">        simetria (float): simetria de la señal</span>
<span class="sd">        t (list): Lista de valores que definen el tiempo.</span>
<span class="sd">        fs (int, optional): Frecuencia de la señal. Defaults to 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Lista de valores de la señal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">amplitud</span><span class="o">*</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">sawtooth</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">fs</span> <span class="o">*</span> <span class="n">t</span><span class="p">,</span> <span class="n">simetria</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">seno</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Onda Seno</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud (int): Amplitud de la señal</span>
<span class="sd">        t (list): Lista de valores de tiempo</span>
<span class="sd">        fs (int, optional): Frecuencia de la señal. Defaults to 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Lista de valores de la señal de seno</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">amplitud</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">fs</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">coseno</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Señal de coseno</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud (int): Amplitud de la señal</span>
<span class="sd">        t (list): lista de valores para generar la señal</span>
<span class="sd">        fs (int, optional): Frecuencia de la señal. Defaults to 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Lista de valores de la señal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">amplitud</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">fs</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">tiempo</span><span class="p">(</span><span class="n">lim_inf</span><span class="p">,</span> <span class="n">lim_sup</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Lista de valores que definen el tiempo de la señal</span>

<span class="sd">    Args:</span>
<span class="sd">        lim_inf (int): Límite inferior del tiempo </span>
<span class="sd">        lim_sup (int): Límite superior del tiempo</span>
<span class="sd">        n (int): Cantidad de valores a generar del tiempo</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Lista de valores del tiemmpo</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">lim_inf</span><span class="p">,</span> <span class="n">lim_sup</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">plot_signal</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">xf</span><span class="p">,</span> <span class="n">yi</span><span class="p">,</span> <span class="n">yf</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">titulo</span><span class="p">,</span> <span class="n">etiqueta</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Generación de la gráfica de la señal.</span>

<span class="sd">    Args:</span>
<span class="sd">        xi (int): x inicial</span>
<span class="sd">        xf (int): x final</span>
<span class="sd">        yi (int): y inicial</span>
<span class="sd">        yf (int): y final</span>
<span class="sd">        t (list): lista de valores de tiempo</span>
<span class="sd">        titulo (str): Título de la gráfica</span>
<span class="sd">        etiqueta (str): Etiqueta de la señal.</span>
<span class="sd">        values (list): Valores de la señal </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">etiqueta</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">xlim</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">xf</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># Definir título</span>
    <span class="n">st</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Generación de gráficas de señales&quot;</span><span class="p">)</span>
    <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">header</span><span class="p">(</span><span class="s2">&quot;Entradas:&quot;</span><span class="p">)</span>
    <span class="n">segnales</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Escalon Unitario&quot;</span><span class="p">,</span> <span class="s2">&quot;Onda Cuadrada&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Onda triangular&quot;</span><span class="p">,</span> <span class="s2">&quot;Seno&quot;</span><span class="p">,</span> <span class="s2">&quot;Coseno&quot;</span><span class="p">]</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span><span class="s2">&quot;Tipo de señal&quot;</span><span class="p">,</span> <span class="n">segnales</span><span class="p">)</span>

    <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">header</span><span class="p">(</span><span class="s2">&quot;Definición del tiempo:&quot;</span><span class="p">)</span>
    <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Rango&quot;</span><span class="p">)</span>
    <span class="c1"># SelectBox</span>
    <span class="n">t0</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span>
        <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="p">))</span>
    <span class="n">ti</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">tf</span> <span class="o">=</span> <span class="n">t0</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">10000</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">tiempo</span><span class="p">(</span><span class="n">ti</span><span class="p">,</span> <span class="n">tf</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Amplitud de la señal&quot;</span><span class="p">)</span>
    <span class="n">amplitud</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span>
        <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="p">))</span>

    <span class="c1"># numpy.ndarray</span>
    <span class="k">if</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;Escalon Unitario&quot;</span><span class="p">:</span>
        <span class="n">ti</span> <span class="o">=</span> <span class="o">-</span><span class="n">tf</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">u</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;Onda Cuadrada&quot;</span><span class="p">:</span>
        <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Frecuencia de la señal&quot;</span><span class="p">)</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span>
            <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
        <span class="p">))</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">OndaCuadrada</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;Onda triangular&quot;</span><span class="p">:</span>
        <span class="n">simetria</span> <span class="o">=</span> <span class="mf">0.5</span>
        <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Frecuencia de la señal&quot;</span><span class="p">)</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span>
            <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
        <span class="p">))</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">segnal_triangular</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">simetria</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;Seno&quot;</span><span class="p">:</span>
        <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Frecuencia de la señal&quot;</span><span class="p">)</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span>
            <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
        <span class="p">))</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">seno</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;Coseno&quot;</span><span class="p">:</span>
        <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Frecuencia de la señal&quot;</span><span class="p">)</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span>
            <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
        <span class="p">))</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">coseno</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">st</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error&quot;</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
    <span class="n">st</span><span class="o">.</span><span class="n">header</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Gráfica de </span><span class="si">{</span><span class="n">resp</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">resultado</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">ti</span><span class="p">,</span> <span class="n">tf</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Tiempo&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;f(t)&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">amplitud</span><span class="o">*-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">amplitud</span><span class="p">)</span>
    <span class="n">st</span><span class="o">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>

<p>Su archivo de requerimientos es el siguiente: </p>
<div class="highlight"><pre><span></span><code><span class="err">streamlit==0.70.0</span>
<span class="err">scipy==1.5.4</span>
<span class="err">numpy==1.19.3</span>
<span class="err">matplotlib==3.3.3</span>
</code></pre></div>

<p>Su estructura inicial de archivos es la siguiente (incluyendo archivos ocultos): </p>
<div class="highlight"><pre><span></span><code><span class="n">signals_fft_streamlit</span>
<span class="err">├──</span> <span class="o">.</span><span class="n">git</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">branches</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">config</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">description</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">HEAD</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">hooks</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">applypatch</span><span class="o">-</span><span class="n">msg</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">commit</span><span class="o">-</span><span class="n">msg</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">fsmonitor</span><span class="o">-</span><span class="n">watchman</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">post</span><span class="o">-</span><span class="n">update</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">pre</span><span class="o">-</span><span class="n">applypatch</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">pre</span><span class="o">-</span><span class="n">commit</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">pre</span><span class="o">-</span><span class="n">merge</span><span class="o">-</span><span class="n">commit</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">prepare</span><span class="o">-</span><span class="n">commit</span><span class="o">-</span><span class="n">msg</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">pre</span><span class="o">-</span><span class="n">push</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">pre</span><span class="o">-</span><span class="n">rebase</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">pre</span><span class="o">-</span><span class="n">receive</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">└──</span> <span class="n">update</span><span class="o">.</span><span class="n">sample</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">index</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">info</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">└──</span> <span class="n">exclude</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">logs</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">HEAD</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">└──</span> <span class="n">refs</span>
<span class="err">│</span>   <span class="err">│</span>       <span class="err">├──</span> <span class="n">heads</span>
<span class="err">│</span>   <span class="err">│</span>       <span class="err">│</span>   <span class="err">└──</span> <span class="n">main</span>
<span class="err">│</span>   <span class="err">│</span>       <span class="err">└──</span> <span class="n">remotes</span>
<span class="err">│</span>   <span class="err">│</span>           <span class="err">└──</span> <span class="n">origin</span>
<span class="err">│</span>   <span class="err">│</span>               <span class="err">└──</span> <span class="n">HEAD</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">objects</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">├──</span> <span class="n">info</span>
<span class="err">│</span>   <span class="err">│</span>   <span class="err">└──</span> <span class="n">pack</span>
<span class="err">│</span>   <span class="err">│</span>       <span class="err">├──</span> <span class="n">pack</span><span class="o">-</span><span class="n">a6d9863d11286fbea66f5aafa93a9dbafaf3f4fc</span><span class="o">.</span><span class="n">idx</span>
<span class="err">│</span>   <span class="err">│</span>       <span class="err">└──</span> <span class="n">pack</span><span class="o">-</span><span class="n">a6d9863d11286fbea66f5aafa93a9dbafaf3f4fc</span><span class="o">.</span><span class="n">pack</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">packed</span><span class="o">-</span><span class="n">refs</span>
<span class="err">│</span>   <span class="err">└──</span> <span class="n">refs</span>
<span class="err">│</span>       <span class="err">├──</span> <span class="n">heads</span>
<span class="err">│</span>       <span class="err">│</span>   <span class="err">└──</span> <span class="n">main</span>
<span class="err">│</span>       <span class="err">├──</span> <span class="n">remotes</span>
<span class="err">│</span>       <span class="err">│</span>   <span class="err">└──</span> <span class="n">origin</span>
<span class="err">│</span>       <span class="err">│</span>       <span class="err">└──</span> <span class="n">HEAD</span>
<span class="err">│</span>       <span class="err">└──</span> <span class="n">tags</span>
<span class="err">├──</span> <span class="o">.</span><span class="n">gitignore</span>
<span class="err">├──</span> <span class="n">LICENSE</span>
<span class="err">├──</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span>
<span class="err">├──</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="err">└──</span> <span class="n">src</span>
    <span class="err">└──</span> <span class="n">app</span><span class="o">.</span><span class="n">py</span>
</code></pre></div>

<p>Dentro de los hooks se puede definir ejecuciones antes de hacer commit usando pre-commit, que se verá más adelante. </p>
<h1>Validación de código</h1>
<h2>Linters</h2>
<p>Los <a href="https://es.wikipedia.org/wiki/Lint">linters</a> son herramientas de programación que realizan la comprobación de cualquier lenguaje de programamción.</p>
<h3>Flake8</h3>
<p>Herramienta que permite comprobar que el código cumple con el PEP-8 de Python.</p>
<p>Se puede instalar vía pip:</p>
<div class="highlight"><pre><span></span><code><span class="err">pip install flake8</span>
</code></pre></div>

<p>Se ejecuta flake8 al archivo app.py: </p>
<div class="highlight"><pre><span></span><code><span class="err">python -m flake8 src/app.py</span>
<span class="err">src/app.py:5:1: F401 &#39;scipy.stats&#39; imported but unused</span>
<span class="err">src/app.py:22:6: N802 function name &#39;OndaCuadrada&#39; should be lowercase</span>
<span class="err">src/app.py:37:20: W291 trailing whitespace</span>
<span class="err">src/app.py:83:50: W291 trailing whitespace</span>
<span class="err">src/app.py:104:43: W291 trailing whitespace</span>
<span class="err">src/app.py:106:5: F821 undefined name &#39;plot&#39;</span>
<span class="err">src/app.py:107:5: F821 undefined name &#39;xlim&#39;</span>
</code></pre></div>

<p>La salida del comando muestra las líneas de código donde hay error,  el tipo de error y una descripción del mismo. </p>
<h3>pep8-naming</h3>
<p>Adicional a flake se puede usar pep8-naming para cumplir con las normas de definición de nombres de PEP8. </p>
<p>Para instalarlo se usa pip: </p>
<div class="highlight"><pre><span></span><code><span class="err">pip install pep8-naming</span>
</code></pre></div>

<p>Se ejecuta el mismo comando de flake8, el mensaje de error es : </p>
<div class="highlight"><pre><span></span><code><span class="err">src/app.py:22:6: N802 function name &#39;OndaCuadrada&#39; should be lowercase</span>
</code></pre></div>

<p>Que ya apareció en la ejecución anterior. </p>
<h3>pycodestyle</h3>
<p>Es otra herramienta de validación del PEP-8. png</p>
<p>Se instala: </p>
<div class="highlight"><pre><span></span><code><span class="err">pip install pycodestyle</span>
</code></pre></div>

<p>Se ejecuta: </p>
<div class="highlight"><pre><span></span><code><span class="err">pycodestyle src/app.py</span>
</code></pre></div>

<p>En este caso como ya se arreglaron los mensajes de error de flake8, no devuelve mensajes. </p>
<h3>pylint</h3>
<p>Se instala: </p>
<div class="highlight"><pre><span></span><code><span class="err">pip install pylint </span>
</code></pre></div>

<p>Se ejecuta: </p>
<div class="highlight"><pre><span></span><code><span class="err">pylint src/app.py </span>
</code></pre></div>

<h2>Formateador de código</h2>
<p>Permite reformatear el código para que cumpla una serie de estándar. </p>
<h3>isort</h3>
<p>Reordena los imports de la siguiente forma: </p>
<ol>
<li>Librería estándar </li>
<li>Librerías de terceros </li>
<li>Librerías local</li>
</ol>
<p>Se instala: </p>
<div class="highlight"><pre><span></span><code><span class="err">pip install isort </span>
</code></pre></div>

<p>Se usa de la siguiente forma: </p>
<div class="highlight"><pre><span></span><code><span class="n">isort</span> <span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span> 
<span class="n">Fixing</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ernesto</span><span class="o">/</span><span class="n">proyectos</span><span class="o">/</span><span class="n">signals_fft_streamlit</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span>
</code></pre></div>

<p>Anteriormente las importaciones estaban así: </p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">signal</span> <span class="k">as</span> <span class="n">sp</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">scipy.signal</span> <span class="k">as</span> <span class="nn">signal</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
<span class="kn">import</span> <span class="nn">streamlit</span> <span class="k">as</span> <span class="nn">st</span>
</code></pre></div>

<p>Ahora: </p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy.signal</span> <span class="k">as</span> <span class="nn">signal</span>
<span class="kn">import</span> <span class="nn">streamlit</span> <span class="k">as</span> <span class="nn">st</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">signal</span> <span class="k">as</span> <span class="n">sp</span>
</code></pre></div>

<p>Para solo chequear el orden de la importación sin realizar el cambio se puede ejecutar: </p>
<div class="highlight"><pre><span></span><code><span class="err">python -m isort src/app.py --check-only</span>
</code></pre></div>

<p>Para ver los cambios sin aplicarlos se puede usar: </p>
<div class="highlight"><pre><span></span><code><span class="err">python -m isort src/app.py --diff</span>
</code></pre></div>

<h3>Black</h3>
<p>Formateador de código que se usa para reformatear código basado en <a href="https://black.readthedocs.io/en/stable/the_black_code_style.html">Black code style</a> que es muy cercano al PEP-8. </p>
<p>Para instalarlo: </p>
<div class="highlight"><pre><span></span><code><span class="err">pip install black </span>
</code></pre></div>

<p>Para chequear el código sin modificarlo:</p>
<div class="highlight"><pre><span></span><code><span class="err">python -m black src/app.py --check  </span>
<span class="err">would reformat src/app.py</span>
<span class="err">Oh no! 💥 💔 💥</span>
<span class="err">1 file would be reformatted.</span>
</code></pre></div>

<p>Para ver las diferencias sin modificarlo (sólo se muestra una parte del código): </p>
<div class="highlight"><pre><span></span><code><span class="gd">--- src/app.py  2020-11-15 01:20:29.525556 +0000</span>
<span class="gi">+++ src/app.py  2020-11-15 01:29:54.278851 +0000</span>
<span class="gu">@@ -13,11 +13,11 @@</span>
         t (list): Lista de tiempo

     Returns:
         list: Lista de valores
     &quot;&quot;&quot;
<span class="gd">-    return amplitud*np.piecewise(t, [t &lt; 0.0, t &gt;= 0.0], [0, 1])</span>
<span class="gi">+    return amplitud * np.piecewise(t, [t &lt; 0.0, t &gt;= 0.0], [0, 1])</span>
</code></pre></div>

<p>Para realizar las modificaciones:</p>
<div class="highlight"><pre><span></span><code><span class="err">python -m black src/app.py       </span>
<span class="err">reformatted src/app.py</span>
<span class="err">All done! ✨ 🍰 ✨</span>
<span class="err">1 file reformatted.</span>
</code></pre></div>

<p>El código cambio a (se muestra una parte del código): </p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">u</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Función escalón unitario</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud (int): Amplitud del escalon</span>
<span class="sd">        t (list): Lista de tiempo</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Lista de valores</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">amplitud</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">piecewise</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">[</span><span class="n">t</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">t</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</code></pre></div>

<p>Otras herramientas parecidas son <a href="https://github.com/google/yapf">YAPF</a> y <a href="https://github.com/hhatto/autopep8">autopep8</a></p>
<h2>Escaneo de vulnerabilidades de seguridad</h2>
<p>Hay herramientas que evaluan las vulnerabilidades de seguridad del código y de sus dependencias. </p>
<h3>Bandit</h3>
<p><a href="https://github.com/PyCQA/bandit">Bandit</a> Es una herramienta diseñada para encontrar problemas de seguridad en código Python.</p>
<p>Se instala: </p>
<div class="highlight"><pre><span></span><code><span class="err">pip install bandit </span>
</code></pre></div>

<p>Se ejecuta de la siguiente forma:  </p>
<div class="highlight"><pre><span></span><code><span class="n">bandit</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="w"> </span>
<span class="o">[</span><span class="n">main</span><span class="o">]</span><span class="w">  </span><span class="n">INFO</span><span class="w">    </span><span class="n">profile</span><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="nl">tests</span><span class="p">:</span><span class="w"> </span><span class="k">None</span><span class="w"></span>
<span class="o">[</span><span class="n">main</span><span class="o">]</span><span class="w">  </span><span class="n">INFO</span><span class="w">    </span><span class="n">profile</span><span class="w"> </span><span class="n">exclude</span><span class="w"> </span><span class="nl">tests</span><span class="p">:</span><span class="w"> </span><span class="k">None</span><span class="w"></span>
<span class="o">[</span><span class="n">main</span><span class="o">]</span><span class="w">  </span><span class="n">INFO</span><span class="w">    </span><span class="n">cli</span><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="nl">tests</span><span class="p">:</span><span class="w"> </span><span class="k">None</span><span class="w"></span>
<span class="o">[</span><span class="n">main</span><span class="o">]</span><span class="w">  </span><span class="n">INFO</span><span class="w">    </span><span class="n">cli</span><span class="w"> </span><span class="n">exclude</span><span class="w"> </span><span class="nl">tests</span><span class="p">:</span><span class="w"> </span><span class="k">None</span><span class="w"></span>
<span class="o">[</span><span class="n">main</span><span class="o">]</span><span class="w">  </span><span class="n">INFO</span><span class="w">    </span><span class="n">running</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">Python</span><span class="w"> </span><span class="mf">3.8.3</span><span class="w"></span>
<span class="n">Run</span><span class="w"> </span><span class="nl">started</span><span class="p">:</span><span class="mi">2020</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">15</span><span class="w"> </span><span class="mi">01</span><span class="err">:</span><span class="mi">44</span><span class="err">:</span><span class="mf">06.048642</span><span class="w"></span>

<span class="n">Test</span><span class="w"> </span><span class="nl">results</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="k">No</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="n">identified</span><span class="p">.</span><span class="w"></span>

<span class="n">Code</span><span class="w"> </span><span class="nl">scanned</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="n">Total</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nl">code</span><span class="p">:</span><span class="w"> </span><span class="mi">119</span><span class="w"></span>
<span class="w">    </span><span class="n">Total</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="n">skipped</span><span class="w"> </span><span class="p">(</span><span class="n">#nosec</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>

<span class="n">Run</span><span class="w"> </span><span class="nl">metrics</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="n">Total</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="p">(</span><span class="k">by</span><span class="w"> </span><span class="n">severity</span><span class="p">)</span><span class="err">:</span><span class="w"></span>
<span class="w">        </span><span class="nl">Undefined</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">        </span><span class="nl">Low</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">        </span><span class="nl">Medium</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">        </span><span class="nl">High</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">    </span><span class="n">Total</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="p">(</span><span class="k">by</span><span class="w"> </span><span class="n">confidence</span><span class="p">)</span><span class="err">:</span><span class="w"></span>
<span class="w">        </span><span class="nl">Undefined</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">        </span><span class="nl">Low</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">        </span><span class="nl">Medium</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">        </span><span class="nl">High</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="n">Files</span><span class="w"> </span><span class="n">skipped</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="err">:</span><span class="w"></span>
</code></pre></div>

<p>Por lo que se pueded ver, no tiene problemas de seguridad el código. </p>
<h3>Safety</h3>
<p><a href="https://github.com/pyupio/safety">Safety</a> es una herramienta que verifica problemas de seguridad de las dependencias de la aplicación. </p>
<p>Se instala: </p>
<div class="highlight"><pre><span></span><code><span class="err">pip install safety</span>
</code></pre></div>

<p>Se ejecuta de la siguiente forma:  </p>
<div class="highlight"><pre><span></span><code><span class="err">safety check</span>
<span class="err">+==============================================================================+</span>
<span class="err">|                                                                              |</span>
<span class="err">|                               /$$$$$$            /$$                         |</span>
<span class="err">|                              /$$__  $$          | $$                         |</span>
<span class="err">|           /$$$$$$$  /$$$$$$ | $$  \__//$$$$$$  /$$$$$$   /$$   /$$           |</span>
<span class="err">|          /$$_____/ |____  $$| $$$$   /$$__  $$|_  $$_/  | $$  | $$           |</span>
<span class="err">|         |  $$$$$$   /$$$$$$$| $$_/  | $$$$$$$$  | $$    | $$  | $$           |</span>
<span class="err">|          \____  $$ /$$__  $$| $$    | $$_____/  | $$ /$$| $$  | $$           |</span>
<span class="err">|          /$$$$$$$/|  $$$$$$$| $$    |  $$$$$$$  |  $$$$/|  $$$$$$$           |</span>
<span class="err">|         |_______/  \_______/|__/     \_______/   \___/   \____  $$           |</span>
<span class="err">|                                                          /$$  | $$           |</span>
<span class="err">|                                                         |  $$$$$$/           |</span>
<span class="err">|  by pyup.io                                              \______/            |</span>
<span class="err">|                                                                              |</span>
<span class="err">+==============================================================================+</span>
<span class="err">| REPORT                                                                       |</span>
<span class="err">| checked 136 packages, using default DB                                       |</span>
<span class="err">+==============================================================================+</span>
<span class="err">| No known security vulnerabilities found.                                     |</span>
<span class="err">+==============================================================================+</span>
</code></pre></div>

<p>Para verificar solamente la lista de paquetes que tiene requirements.txt se ejecuta: </p>
<div class="highlight"><pre><span></span><code><span class="err">safety check -r requirements.txt</span>
<span class="err">+==============================================================================+</span>
<span class="err">|                                                                              |</span>
<span class="err">|                               /$$$$$$            /$$                         |</span>
<span class="err">|                              /$$__  $$          | $$                         |</span>
<span class="err">|           /$$$$$$$  /$$$$$$ | $$  \__//$$$$$$  /$$$$$$   /$$   /$$           |</span>
<span class="err">|          /$$_____/ |____  $$| $$$$   /$$__  $$|_  $$_/  | $$  | $$           |</span>
<span class="err">|         |  $$$$$$   /$$$$$$$| $$_/  | $$$$$$$$  | $$    | $$  | $$           |</span>
<span class="err">|          \____  $$ /$$__  $$| $$    | $$_____/  | $$ /$$| $$  | $$           |</span>
<span class="err">|          /$$$$$$$/|  $$$$$$$| $$    |  $$$$$$$  |  $$$$/|  $$$$$$$           |</span>
<span class="err">|         |_______/  \_______/|__/     \_______/   \___/   \____  $$           |</span>
<span class="err">|                                                          /$$  | $$           |</span>
<span class="err">|                                                         |  $$$$$$/           |</span>
<span class="err">|  by pyup.io                                              \______/            |</span>
<span class="err">|                                                                              |</span>
<span class="err">+==============================================================================+</span>
<span class="err">| REPORT                                                                       |</span>
<span class="err">| checked 4 packages, using default DB                                         |</span>
<span class="err">+==============================================================================+</span>
<span class="err">| No known security vulnerabilities found.                                     |</span>
<span class="err">+==============================================================================+</span>
</code></pre></div>

<h2>Verificación de tipado estático</h2>
<p>Cómo a partir de Python 3.7 , python soporta a manera de documentación la definición de tipos de la salida de una función y sus argumentos, se tiene ahora herramientas que verifica el tipado estático.</p>
<h3>Mypy</h3>
<p><a href="http://mypy-lang.org/">Mypy</a> es un verificador de tipo estático opcional para Python que tiene como objetivo combinar los beneficios de la escritura dinámica (o "duck") y la escritura estática.</p>
<p>Se instala:</p>
<div class="highlight"><pre><span></span><code><span class="err">pip install mypy </span>
</code></pre></div>

<p>Se usa: </p>
<div class="highlight"><pre><span></span><code><span class="n">mypy</span> <span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span> 
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span> <span class="n">error</span><span class="p">:</span> <span class="n">No</span> <span class="n">library</span> <span class="n">stub</span> <span class="n">file</span> <span class="k">for</span> <span class="n">module</span> <span class="s1">&#39;matplotlib.pylab&#39;</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span> <span class="n">note</span><span class="p">:</span> <span class="p">(</span><span class="n">Stub</span> <span class="n">files</span> <span class="n">are</span> <span class="n">from</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">typeshed</span><span class="p">)</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span> <span class="n">error</span><span class="p">:</span> <span class="n">No</span> <span class="n">library</span> <span class="n">stub</span> <span class="n">file</span> <span class="k">for</span> <span class="n">module</span> <span class="s1">&#39;matplotlib&#39;</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span> <span class="n">error</span><span class="p">:</span> <span class="n">No</span> <span class="n">library</span> <span class="n">stub</span> <span class="n">file</span> <span class="k">for</span> <span class="n">module</span> <span class="s1">&#39;numpy&#39;</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span> <span class="n">error</span><span class="p">:</span> <span class="n">No</span> <span class="n">library</span> <span class="n">stub</span> <span class="n">file</span> <span class="k">for</span> <span class="n">module</span> <span class="s1">&#39;scipy.signal&#39;</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span> <span class="n">error</span><span class="p">:</span> <span class="n">No</span> <span class="n">library</span> <span class="n">stub</span> <span class="n">file</span> <span class="k">for</span> <span class="n">module</span> <span class="s1">&#39;scipy&#39;</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span> <span class="n">error</span><span class="p">:</span> <span class="n">Cannot</span> <span class="n">find</span> <span class="n">module</span> <span class="n">named</span> <span class="s1">&#39;streamlit&#39;</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span> <span class="n">note</span><span class="p">:</span> <span class="n">See</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">mypy</span><span class="o">.</span><span class="n">readthedocs</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">latest</span><span class="o">/</span><span class="n">running_mypy</span><span class="o">.</span><span class="n">html</span><span class="c1">#missing-imports</span>
</code></pre></div>

<p>Para ignorar estos errores se usa # type: ignore, como se muestra a continuación:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>  <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>  <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">scipy.signal</span> <span class="k">as</span> <span class="nn">signal</span>  <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">streamlit</span> <span class="k">as</span> <span class="nn">st</span>  <span class="c1"># type: ignore</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">signal</span>  <span class="c1"># type: ignore</span>
</code></pre></div>

<p>Se vuelve a ejecutar y ya no aparecen esos errores iniciales. </p>
<p>Un ejemplo de tipado estático se muestra a continuación: </p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">u</span><span class="p">(</span><span class="n">amplitud</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Función escalón unitario</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud (int): Amplitud del escalon</span>
<span class="sd">        t (np.ndarray): Lista de tiempo</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: Lista de valores</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">amplitud</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">piecewise</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">[</span><span class="n">t</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">t</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="k">def</span> <span class="nf">onda_cuadrada</span><span class="p">(</span><span class="n">amplitud</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">fs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Función  de Onda Cuadrada</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud (int): Amplitud de la segnal</span>
<span class="sd">        t (list): Lista de valores de tiempo</span>
<span class="sd">        fs (int, optional): Frecuencia.. Defaults to 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Lista de valores</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">sp</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">fs</span> <span class="o">*</span> <span class="n">t</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">amplitud</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">amplitud</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
</code></pre></div>

<p>Otra forma de ignorar todos los errores es la siguiente: </p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python </span>
<span class="c1">#-*- coding: utf-8 -*-</span>
<span class="c1"># mypy: ignore-errors</span>
</code></pre></div>

<h2>Validación de la documentación</h2>
<h3>pydocstyle</h3>
<p><a href="https://github.com/PyCQA/pydocstyle">pydocstyle</a>Es una herramienta que permite validar el formato de la documentación.</p>
<p>Se instala: </p>
<div class="highlight"><pre><span></span><code><span class="err">pip install pydocstyle</span>
</code></pre></div>

<p>Se utiliza: </p>
<div class="highlight"><pre><span></span><code><span class="n">pydocstyle</span> <span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span> 
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">1</span> <span class="k">at</span> <span class="n">module</span> <span class="k">level</span><span class="o">:</span>
        <span class="n">D100</span><span class="o">:</span> <span class="n">Missing</span> <span class="n">docstring</span> <span class="k">in</span> <span class="n">public</span> <span class="n">module</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">9</span> <span class="k">in</span> <span class="n">public</span> <span class="k">function</span> <span class="n">`u`</span><span class="o">:</span>
        <span class="n">D400</span><span class="o">:</span> <span class="k">First</span> <span class="n">line</span> <span class="n">should</span> <span class="k">end</span> <span class="k">with</span> <span class="n">a</span> <span class="n">period</span> <span class="p">(</span><span class="k">not</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">22</span> <span class="k">in</span> <span class="n">public</span> <span class="k">function</span> <span class="n">`onda_cuadrada`</span><span class="o">:</span>
        <span class="n">D400</span><span class="o">:</span> <span class="k">First</span> <span class="n">line</span> <span class="n">should</span> <span class="k">end</span> <span class="k">with</span> <span class="n">a</span> <span class="n">period</span> <span class="p">(</span><span class="k">not</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">36</span> <span class="k">in</span> <span class="n">public</span> <span class="k">function</span> <span class="n">`segnal_triangular`</span><span class="o">:</span>
        <span class="n">D205</span><span class="o">:</span> <span class="mi">1</span> <span class="n">blank</span> <span class="n">line</span> <span class="n">required</span> <span class="k">between</span> <span class="n">summary</span> <span class="n">line</span> <span class="k">and</span> <span class="k">description</span> <span class="p">(</span><span class="k">found</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">36</span> <span class="k">in</span> <span class="n">public</span> <span class="k">function</span> <span class="n">`segnal_triangular`</span><span class="o">:</span>
        <span class="n">D400</span><span class="o">:</span> <span class="k">First</span> <span class="n">line</span> <span class="n">should</span> <span class="k">end</span> <span class="k">with</span> <span class="n">a</span> <span class="n">period</span> <span class="p">(</span><span class="k">not</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">50</span> <span class="k">in</span> <span class="n">public</span> <span class="k">function</span> <span class="n">`seno`</span><span class="o">:</span>
        <span class="n">D400</span><span class="o">:</span> <span class="k">First</span> <span class="n">line</span> <span class="n">should</span> <span class="k">end</span> <span class="k">with</span> <span class="n">a</span> <span class="n">period</span> <span class="p">(</span><span class="k">not</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">64</span> <span class="k">in</span> <span class="n">public</span> <span class="k">function</span> <span class="n">`coseno`</span><span class="o">:</span>
        <span class="n">D400</span><span class="o">:</span> <span class="k">First</span> <span class="n">line</span> <span class="n">should</span> <span class="k">end</span> <span class="k">with</span> <span class="n">a</span> <span class="n">period</span> <span class="p">(</span><span class="k">not</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">78</span> <span class="k">in</span> <span class="n">public</span> <span class="k">function</span> <span class="n">`tiempo`</span><span class="o">:</span>
        <span class="n">D205</span><span class="o">:</span> <span class="mi">1</span> <span class="n">blank</span> <span class="n">line</span> <span class="n">required</span> <span class="k">between</span> <span class="n">summary</span> <span class="n">line</span> <span class="k">and</span> <span class="k">description</span> <span class="p">(</span><span class="k">found</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">78</span> <span class="k">in</span> <span class="n">public</span> <span class="k">function</span> <span class="n">`tiempo`</span><span class="o">:</span>
        <span class="n">D400</span><span class="o">:</span> <span class="k">First</span> <span class="n">line</span> <span class="n">should</span> <span class="k">end</span> <span class="k">with</span> <span class="n">a</span> <span class="n">period</span> <span class="p">(</span><span class="k">not</span> <span class="s1">&#39;l&#39;</span><span class="p">)</span>
<span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="p">.</span><span class="n">py</span><span class="o">:</span><span class="mi">90</span> <span class="k">in</span> <span class="n">public</span> <span class="k">function</span> <span class="n">`main`</span><span class="o">:</span>
        <span class="n">D103</span><span class="o">:</span> <span class="n">Missing</span> <span class="n">docstring</span> <span class="k">in</span> <span class="n">public</span> <span class="k">function</span>
</code></pre></div>

<h2>Complejidad Ciclomática, número de líneas del código</h2>
<p>Existen herramientas para validar la complejidad ciclomática, como lo son: </p>
<ul>
<li><a href="https://wily.readthedocs.io/en/latest/">wily</a> </li>
<li><a href="https://github.com/PyCQA/mccabe">mccabe</a></li>
<li><a href="https://radon.readthedocs.io/">radon</a></li>
</ul>
<p>En este caso se probará con wily</p>
<h3>Wily</h3>
<p>Wily es una aplicación para trazar la complejidad de código Python y aplicaciones.</p>
<p>Se instala: </p>
<div class="highlight"><pre><span></span><code><span class="err">pip install wily</span>
</code></pre></div>

<p>Se necesita indexar el proyecto ejecutando: </p>
<div class="highlight"><pre><span></span><code><span class="n">wily</span> <span class="n">build</span> <span class="n">src</span><span class="o">/</span>
<span class="n">Found</span> <span class="mi">1</span> <span class="n">revisions</span> <span class="n">from</span> <span class="s1">&#39;git&#39;</span> <span class="n">archiver</span> <span class="ow">in</span> <span class="s1">&#39;/home/ernesto/proyectos/signals_fft_streamlit&#39;</span><span class="o">.</span>
<span class="n">Running</span> <span class="n">operators</span> <span class="o">-</span> <span class="n">maintainability</span><span class="p">,</span><span class="n">raw</span><span class="p">,</span><span class="n">cyclomatic</span><span class="p">,</span><span class="n">halstead</span>
<span class="n">Processing</span> <span class="o">|</span><span class="c1">################################| 4/4</span>
<span class="n">Completed</span> <span class="n">building</span> <span class="n">wily</span> <span class="n">history</span><span class="p">,</span> <span class="n">run</span> <span class="err">`</span><span class="n">wily</span> <span class="n">report</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="err">`</span> <span class="ow">or</span> <span class="err">`</span><span class="n">wily</span> <span class="n">index</span><span class="err">`</span> <span class="n">to</span> <span class="n">see</span> <span class="n">more</span><span class="o">.</span>
</code></pre></div>

<p>Para generar el reporte de app.py se ejecuta: </p>
<div class="highlight"><pre><span></span><code><span class="err">wily report src/app.py </span>
<span class="err">Using default metrics [&#39;maintainability.mi&#39;, &#39;raw.loc&#39;, &#39;cyclomatic.complexity&#39;, &#39;halstead.h1&#39;]</span>
<span class="err">-----------History for [&#39;maintainability.mi&#39;, &#39;raw.loc&#39;, &#39;cyclomatic.complexity&#39;, &#39;halstead.h1&#39;]------------</span>
<span class="err">╒════════════╤════════════════╤════════════╤═════════════════════════╤═════════════════╤═════════════════════════╤═══════════════════╕</span>
<span class="err">│ Revision   │ Author         │ Date       │ Maintainability Index   │ Lines of Code   │ Cyclomatic Complexity   │ Unique Operands   │</span>
<span class="err">╞════════════╪════════════════╪════════════╪═════════════════════════╪═════════════════╪═════════════════════════╪═══════════════════╡</span>
<span class="err">│ f2679c6    │ Ernesto Crespo │ 2020-11-14 │ 68.1377 (0)             │ 153 (0)         │ 12 (0)                  │ 7 (0)             │</span>
<span class="err">╘════════════╧════════════════╧════════════╧═════════════════════════╧═════════════════╧═════════════════════════╧═══════════════════╛</span>
</code></pre></div>

<p>En el reporte se puede pasar metricas específicas: </p>
<div class="highlight"><pre><span></span><code><span class="err">wily report src/app.py loc sloc comments --message</span>
<span class="err">-----------History for (&#39;loc&#39;, &#39;sloc&#39;, &#39;comments&#39;)------------</span>
<span class="err">╒════════════╤════════════════╤════════════════╤════════════╤═════════════════╤═══════════════════╤═══════════════════════╕</span>
<span class="err">│ Revision   │ Message        │ Author         │ Date       │ Lines of Code   │ S Lines of Code   │ Multi-line comments   │</span>
<span class="err">╞════════════╪════════════════╪════════════════╪════════════╪═════════════════╪═══════════════════╪═══════════════════════╡</span>
<span class="err">│ f2679c6    │ Initial commit │ Ernesto Crespo │ 2020-11-14 │ 153 (0)         │ 71 (0)            │ 8 (0)                 │</span>
<span class="err">╘════════════╧════════════════╧════════════════╧════════════╧═════════════════╧═══════════════════╧═══════════════════════╛</span>
</code></pre></div>

<h4>Complejidad Ciclomática</h4>
<p>Según publicación de <a href="https://resources.sei.cmu.edu/asset_files/Handbook/1997_002_001_16523.pdf">The Software Engineering Institute at Carnegie Mellon defines</a> donde define los rangos de complejidad: 
* 1-10: Bajo riesgo, programa simple. 
* 11-20: Riesgo moderado, programa más complejo. 
* 21-50: Riesgo alto, programa muy dificil. 
* &gt;50: Riesgo muy alto, programa inestable. </p>
<h4>Indice de mantenibilidad</h4>
<p>Para este caso: 
* &lt;65: Fuertemente mantenible.
* 65-85: Moderadamente mantenible.
* &gt;85: Fácil de mantener. </p>
<p>En el caso de app.py tiene un riesgo moderado y es moderadamente mantenible. </p>
<p>Para más información sobre la complejidad ciclomática pueden revisar <a href="https://towardsdatascience.com/simplify-your-python-code-automating-code-complexity-analysis-with-wily-5c1e90c9a485">Simplify your Python Code: Automating Code Complexity Analysis with Wily
</a> o el pdf de <a href="https://resources.sei.cmu.edu/asset_files/Handbook/1997_002_001_16523.pdf">The Software Engineering Institute at Carnegie Mellon defines</a>.</p>
<h1>Juntando todo con pre-commit</h1>
<h2>pre-commit</h2>
<p><a href="https://pre-commit.com/">Pre-commit</a> es un framework para manejar git hooks. </p>
<p>Para instalarlo: </p>
<div class="highlight"><pre><span></span><code><span class="err">pip install pre-commit</span>
</code></pre></div>

<p>Para inicializar pre-commit se ejecuta: </p>
<div class="highlight"><pre><span></span><code><span class="err">$pre-commit install</span>
<span class="err">pre-commit installed at .git/hooks/pre-commit</span>
</code></pre></div>

<h3>Verificación de Yaml</h3>
<p>Para formatear yaml se puede usar la siguiente configuración: </p>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/pre-commit/pre-commit-hooks</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v2.4.0</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">trailing-whitespace</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">end-of-file-fixer</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">check-added-large-files</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">check-yaml</span>
        <span class="nt">exclude</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">(template|ci).*\.(json|yml|yaml)$</span>
</code></pre></div>

<h3>isort</h3>
<p>Para validar con isort se tiene lo siguiente: </p>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/asottile/seed-isort-config</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.9.3</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">seed-isort-config</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/pre-commit/mirrors-isort</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v4.3.21</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">isort</span>
</code></pre></div>

<h3>Para Wily</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wily</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wily</span>
        <span class="nt">entry</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wily diff</span>
        <span class="nt">verbose</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="nt">language</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
        <span class="nt">additional_dependencies</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">wily</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h3>Safety</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">git://github.com/Lucas-C/pre-commit-hooks-safety</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.1.3</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python-safety-dependencies-check</span>
</code></pre></div>

<h3>Black</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/ambv/black</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">stable</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">black</span>
        <span class="nt">language_version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python3.8</span>
</code></pre></div>

<h3>Pylint</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/PyCQA/pylint</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="s">&quot;pylint-2.6.0&quot;</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pylint</span>
        <span class="nt">args</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;--disable=similarities&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h3>Mypy</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/pre-commit/mirrors-mypy</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v0.790</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mypy</span>
        <span class="nt">exclude</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">^testing/resources/</span>
</code></pre></div>

<h3>Pyupgrade</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/asottile/pyupgrade</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v2.7.3</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pyupgrade</span>
        <span class="nt">args</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">--py36-plus</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h3>Flake8</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://gitlab.com/pycqa/flake8</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.8.4</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flake8</span>
        <span class="nt">additional_dependencies</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">flake8-typing-imports==1.10.0</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h3>Autopep8</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/pre-commit/mirrors-autopep8</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.5.4</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">autopep8</span>
</code></pre></div>

<h3>Blacken</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/asottile/blacken-docs</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.8.0</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">blacken-docs</span>
        <span class="nt">additional_dependencies</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">black==20.8b1</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h3>Bandit</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">git://github.com/Lucas-C/pre-commit-hooks-bandit</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.0.4</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python-bandit-vulnerability-check</span>
        <span class="nt">exclude</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/home/ernesto/proyectos/magnetic_fields/.virtualenvs/*</span>
</code></pre></div>

<h3>pydoctstyle</h3>
<div class="highlight"><pre><span></span><code>  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pydocstyle</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pydocstyle</span>
        <span class="nt">entry</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pydocstyle</span>
        <span class="nt">files</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">src/app.py</span>
        <span class="nt">verbose</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="nt">language</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
        <span class="nt">additional_dependencies</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">pydocstyle</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h2>Archivo completo</h2>
<p>El archivo completo de .pre-commit-config.yaml contiene los siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># See https://pre-commit.com for more information</span>
<span class="c1"># See https://pre-commit.com/hooks.html for more hooks</span>
<span class="nt">repos</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/pre-commit/pre-commit-hooks</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v2.4.0</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">trailing-whitespace</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">end-of-file-fixer</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">check-added-large-files</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">check-yaml</span>
        <span class="nt">exclude</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">(template|ci).*\.(json|yml|yaml)$</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/asottile/seed-isort-config</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.9.3</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">seed-isort-config</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/pre-commit/mirrors-isort</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v4.3.21</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">isort</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wily</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wily</span>
        <span class="nt">entry</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wily diff</span>
        <span class="nt">verbose</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="nt">language</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
        <span class="nt">additional_dependencies</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">wily</span><span class="p p-Indicator">]</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pydocstyle</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pydocstyle</span>
        <span class="nt">entry</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pydocstyle</span>
        <span class="nt">files</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">src/app.py</span>
        <span class="nt">verbose</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="nt">language</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
        <span class="nt">additional_dependencies</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">pydocstyle</span><span class="p p-Indicator">]</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">git://github.com/Lucas-C/pre-commit-hooks-safety</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.1.3</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python-safety-dependencies-check</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/ambv/black</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">stable</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">black</span>
        <span class="nt">language_version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python3.8</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/PyCQA/pylint</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="s">&quot;pylint-2.6.0&quot;</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pylint</span>
        <span class="nt">args</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;--disable=similarities&quot;</span><span class="p p-Indicator">]</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/pre-commit/mirrors-mypy</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v0.790</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mypy</span>
        <span class="nt">exclude</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">^testing/resources/</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/asottile/pyupgrade</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v2.7.3</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pyupgrade</span>
        <span class="nt">args</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">--py36-plus</span><span class="p p-Indicator">]</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://gitlab.com/pycqa/flake8</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.8.4</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flake8</span>
        <span class="nt">additional_dependencies</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">flake8-typing-imports==1.10.0</span><span class="p p-Indicator">]</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/pre-commit/mirrors-autopep8</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.5.4</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">autopep8</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/asottile/blacken-docs</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.8.0</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">blacken-docs</span>
        <span class="nt">additional_dependencies</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">black==20.8b1</span><span class="p p-Indicator">]</span>
  <span class="p p-Indicator">-</span> <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">git://github.com/Lucas-C/pre-commit-hooks-bandit</span>
    <span class="nt">rev</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.0.4</span>
    <span class="nt">hooks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python-bandit-vulnerability-check</span>
        <span class="nt">exclude</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/home/ernesto/proyectos/magnetic_fields/.virtualenvs/*</span>
</code></pre></div>

<p>Se puede ejecutar el siguiente comando para la verificación: </p>
<div class="highlight"><pre><span></span><code><span class="err">pre-commit run --all-files</span>
</code></pre></div>

<p>Este devuelve los mensajes como se muestra en la siguiente imagen: 
<img alt="pre-commit" src="./images/pre-commits.png"></p>
<p>Desde ahora que se quiere hacer un commit pre-commit evaluará los hooks y se tiene que corregir los errores hasta no tener ninguno, y es allí que se realizará el commit.</p>
<h1>Estructura de archivos final.</h1>
<div class="highlight"><pre><span></span><code><span class="err">ignals_fft_streamlit</span>
<span class="err">├── .bandit</span>
<span class="err">├── .git</span>
<span class="err">│   ├── branches</span>
<span class="err">│   ├── COMMIT_EDITMSG</span>
<span class="err">│   ├── config</span>
<span class="err">│   ├── description</span>
<span class="err">│   ├── HEAD</span>
<span class="err">│   ├── hooks</span>
<span class="err">│   │   ├── applypatch-msg.sample</span>
<span class="err">│   │   ├── commit-msg.sample</span>
<span class="err">│   │   ├── fsmonitor-watchman.sample</span>
<span class="err">│   │   ├── post-update.sample</span>
<span class="err">│   │   ├── pre-applypatch.sample</span>
<span class="err">│   │   ├── pre-commit</span>
<span class="err">│   │   ├── pre-commit.sample</span>
<span class="err">│   │   ├── pre-merge-commit.sample</span>
<span class="err">│   │   ├── prepare-commit-msg.sample</span>
<span class="err">│   │   ├── pre-push.sample</span>
<span class="err">│   │   ├── pre-rebase.sample</span>
<span class="err">│   │   ├── pre-receive.sample</span>
<span class="err">│   │   └── update.sample</span>
<span class="err">│   ├── index</span>
<span class="err">│   ├── info</span>
<span class="err">│   │   └── exclude</span>
<span class="err">│   ├── logs</span>
<span class="err">│   │   ├── HEAD</span>
<span class="err">│   │   └── refs</span>
<span class="err">│   │       ├── heads</span>
<span class="err">│   │       │   ├── feat</span>
<span class="err">│   │       │   │   └── validado</span>
<span class="err">│   │       │   └── main</span>
<span class="err">│   │       └── remotes</span>
<span class="err">│   │           └── origin</span>
<span class="err">│   │               └── HEAD</span>
<span class="err">│   ├── ORIG_HEAD</span>
<span class="err">│   ├── packed-refs</span>
<span class="err">│   └── refs</span>
<span class="err">│       ├── heads</span>
<span class="err">│       │   ├── feat</span>
<span class="err">│       │   │   └── validado</span>
<span class="err">│       │   └── main</span>
<span class="err">│       ├── remotes</span>
<span class="err">│       │   └── origin</span>
<span class="err">│       │       └── HEAD</span>
<span class="err">│       └── tags</span>
<span class="err">├── .gitignore</span>
<span class="err">├── .isort.cfg</span>
<span class="err">├── LICENSE</span>
<span class="err">├── .pre-commit-config.yaml</span>
<span class="err">├── .pylintrc</span>
<span class="err">├── README.md</span>
<span class="err">├── requirements.txt</span>
<span class="err">└── src</span>
<span class="err">    └── app.py</span>
</code></pre></div>

<p>El archivo final de app.py quedó de la siguiente manera: </p>
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;WebApp with streamlit graph signals.&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>  <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>  <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">streamlit</span> <span class="k">as</span> <span class="nn">st</span>  <span class="c1"># type: ignore</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">signal</span>  <span class="c1"># type: ignore # pylint: disable=import-error</span>


<span class="k">def</span> <span class="nf">u</span><span class="p">(</span><span class="n">amplitud</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Función escalón unitario.</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud(int): Amplitud del escalon</span>
<span class="sd">        t(np.ndarray): Lista de tiempo</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: Lista de valores</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">amplitud</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">piecewise</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">[</span><span class="n">t</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">t</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>


<span class="k">def</span> <span class="nf">onda_cuadrada</span><span class="p">(</span><span class="n">amplitud</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">fs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Función  de Onda Cuadrada.</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud(int): Amplitud de la segnal</span>
<span class="sd">        t(list): Lista de valores de tiempo</span>
<span class="sd">        fs(int, optional): Frecuencia.. Defaults to 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Lista de valores</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">signal</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">fs</span> <span class="o">*</span> <span class="n">t</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">amplitud</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">amplitud</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">segnal_triangular</span><span class="p">(</span>
    <span class="n">amplitud</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">simetria</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">fs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Señal triangular.</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud(int): Amplitud de la señal</span>
<span class="sd">        simetria(float): simetria de la señal</span>
<span class="sd">        t(np.ndarray): Lista de valores que definen el tiempo.</span>
<span class="sd">        fs(int, optional): Frecuencia de la señal. Defaults to 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: Lista de valores de la señal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">amplitud</span> <span class="o">*</span> <span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">sawtooth</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">fs</span> <span class="o">*</span> <span class="n">t</span><span class="p">,</span> <span class="n">simetria</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">seno</span><span class="p">(</span><span class="n">amplitud</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">fs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Onda Seno.</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud(int): Amplitud de la señal</span>
<span class="sd">        t (np.ndarray): Lista de valores de tiempo</span>
<span class="sd">        fs (int, optional): Frecuencia de la señal. Defaults to 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: Lista de valores de la señal de seno</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">amplitud</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">fs</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">coseno</span><span class="p">(</span><span class="n">amplitud</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">fs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Señal de coseno.</span>

<span class="sd">    Args:</span>
<span class="sd">        amplitud (int): Amplitud de la señal</span>
<span class="sd">        t (np.ndarray): lista de valores para generar la señal</span>
<span class="sd">        fs (int, optional): Frecuencia de la señal. Defaults to 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: Lista de valores de la señal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">amplitud</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">fs</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">tiempo</span><span class="p">(</span><span class="n">lim_inf</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">lim_sup</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Lista de valores que definen el tiempo de la señal.</span>

<span class="sd">    Args:</span>
<span class="sd">        lim_inf (int): Límite inferior del tiempo</span>
<span class="sd">        lim_sup (int): Límite superior del tiempo</span>
<span class="sd">        n (int): Cantidad de valores a generar del tiempo</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: Lista de valores del tiemmpo</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">lim_inf</span><span class="p">,</span> <span class="n">lim_sup</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Ejecución Streamlit webApp.&quot;&quot;&quot;</span>
    <span class="n">st</span><span class="o">.</span><span class="n">title</span><span class="p">(</span>  <span class="c1"># pylint: disable=no-value-for-parameter</span>
        <span class="s2">&quot;Generación de gráficas de señales&quot;</span>
    <span class="p">)</span>  <span class="c1"># pylint: disable=no-value-for-parameter</span>
    <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">header</span><span class="p">(</span><span class="s2">&quot;Entradas:&quot;</span><span class="p">)</span>  <span class="c1"># pylint: disable=no-value-for-parameter</span>
    <span class="n">segnales</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;Escalon Unitario&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Onda Cuadrada&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Onda triangular&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Seno&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Coseno&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span><span class="s2">&quot;Tipo de señal&quot;</span><span class="p">,</span> <span class="n">segnales</span><span class="p">)</span>

    <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">header</span><span class="p">(</span><span class="s2">&quot;Definición del tiempo:&quot;</span><span class="p">)</span>
    <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Rango&quot;</span><span class="p">)</span>
    <span class="c1"># SelectBox</span>
    <span class="n">t0</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))</span>
    <span class="n">ti</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">tf</span> <span class="o">=</span> <span class="n">t0</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">10000</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">tiempo</span><span class="p">(</span><span class="n">ti</span><span class="p">,</span> <span class="n">tf</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Amplitud de la señal&quot;</span><span class="p">)</span>
    <span class="n">amplitud</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))</span>

    <span class="c1"># numpy.ndarray</span>
    <span class="k">if</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;Escalon Unitario&quot;</span><span class="p">:</span>
        <span class="n">ti</span> <span class="o">=</span> <span class="o">-</span><span class="n">tf</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">u</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;Onda Cuadrada&quot;</span><span class="p">:</span>
        <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Frecuencia de la señal&quot;</span><span class="p">)</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)))</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">onda_cuadrada</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;Onda triangular&quot;</span><span class="p">:</span>
        <span class="n">simetria</span> <span class="o">=</span> <span class="mf">0.5</span>
        <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Frecuencia de la señal&quot;</span><span class="p">)</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)))</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">segnal_triangular</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">simetria</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;Seno&quot;</span><span class="p">:</span>
        <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Frecuencia de la señal&quot;</span><span class="p">)</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)))</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">seno</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;Coseno&quot;</span><span class="p">:</span>
        <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s2">&quot;Frecuencia de la señal&quot;</span><span class="p">)</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)))</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">coseno</span><span class="p">(</span><span class="n">amplitud</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">st</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error&quot;</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
    <span class="n">st</span><span class="o">.</span><span class="n">header</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Gráfica de </span><span class="si">{</span><span class="n">resp</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">resultado</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">ti</span><span class="p">,</span> <span class="n">tf</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Tiempo&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;f(t)&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">amplitud</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">amplitud</span><span class="p">)</span>
    <span class="n">st</span><span class="o">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>

<p>El respositorio donde pueden ver los archivos se encuentra en <a href="https://github.com/ecrespo/signals_fft_streamlit">github</a></p>
<h4></h4>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
            </div>
            <div class="post_list">
                <span>By </span>
                <a href="https://ecrespo.github.io/author/ernesto-crespo.html">@Ernesto Crespo</a>
                <span> in </span>
                <span class="post_category"><a href="https://ecrespo.github.io/category/tutorial-de-python.html" rel="bookmark"
                                               title="Permalink to Tutorial de Python">[ Tutorial de Python ]</a></span>
                <span class="post_date">dom 15 noviembre 2020</span>
                <div><span>Tags : </span>
                            <span><a href="https://ecrespo.github.io/tag/python.html">#Python, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/pydocstyle.html">#pydocstyle, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/bandit.html">#bandit, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/black.html">#Black, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/pylint.html">#pylint, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/pre-commit.html">#pre-commit, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/pyupgrade.html">#pyupgrade, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/flake8.html">#flake8, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/pep8-naming.html">#pep8-naming, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/pycodestyle.html">#pycodestyle, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/isort.html">#isort, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/mypy.html">#mypy, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/wily.html">#wily, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/streamlit.html">#streamlit, </a></span>
                </div>

                <div class="entry-social">
                    <span class="twitter"><a target="_blank" rel="nofollow"
                                             onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;"
                                             title="Twitter"
                                             href="https://twitter.com/share?url=https://ecrespo.github.io/python-clean-python-code.html&text=Desarrollar código limpio de Python&via="><img
                            src="https://ecrespo.github.io/theme/images/icons/twitter-s.png"></a></span>

                    <span class="gplus"><a target="_blank" title="Google +"
                                           href="https://plus.google.com/share?url=https://ecrespo.github.io/python-clean-python-code.html&hl=fr"
                                           rel="nofollow"
                                           onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/google-s.png"></a></span>

                    <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow"
                                              onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;"
                                              href="https://www.facebook.com/sharer.php?u=https://ecrespo.github.io/python-clean-python-code.html&t=Desarrollar código limpio de Python"><img
                            src="https://ecrespo.github.io/theme/images/icons/facebook-s.png"></a></span>

                    <a target="_blank" title="Linkedin"
                       href="https://www.linkedin.com/shareArticle?mini=true&url=https://ecrespo.github.io/python-clean-python-code.html&title=Desarrollar código limpio de Python"
                       rel="nofollow"
                       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/linkedin-s.png"></a>

                    <span class="mail"><a
                            href="mailto:?subject=Desarrollar código limpio de Python&amp;body=Viens découvrir un article à propos de [Desarrollar código limpio de Python] sur le site de Ernesto Crespo. https://ecrespo.github.io/python-clean-python-code.html"
                            title="Share by Email" target="_blank"><img
                            src="https://ecrespo.github.io/theme/images/icons/mail-s.png"></a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Comments !</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "python-clean-python-code.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://https://seraphto.disqus.com.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
            Blog powered by <a href="http://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="http://python.org">Python</a>.
            Theme <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> by <a
                href="https://parbhatpuri.com/">@parbhat</a>.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-131517246-1']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>