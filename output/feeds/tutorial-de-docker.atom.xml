<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Página de Seraph - Tutorial de Docker</title><link href="https://ecrespo.github.io/" rel="alternate"></link><link href="https://ecrespo.github.io/feeds/tutorial-de-docker.atom.xml" rel="self"></link><id>https://ecrespo.github.io/</id><updated>2016-01-20T09:00:00-05:30</updated><subtitle>Data Scientist </subtitle><entry><title>Instalar Gitlab por medio de Docker</title><link href="https://ecrespo.github.io/instalar-gitlab-por-medio-de-docker.html" rel="alternate"></link><published>2016-01-20T09:00:00-05:30</published><updated>2016-01-20T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2016-01-20:/instalar-gitlab-por-medio-de-docker.html</id><summary type="html">&lt;p&gt;Lo artículos anteriores de docker son los siguientes:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/instalar-docker-en-debian-jessie.html#instalar-docker-en-debian-jessie"&gt;Instalar Docker en Debian Jessie&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-1.html#uso-de-docker-en-debian-jessie-parte-1"&gt;Uso de Docker en Debian Jessie (parte 1)&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-2.html#uso-de-docker-en-debian-jessie-parte-2"&gt;Uso de Docker en Debian Jessie (parte 2)&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/crear-una-imagen-docker-a-partir-de-un-archivo-dockerfile.html#crear-una-imagen-docker-a-partir-de-un-archivo-dockerfile"&gt;Crear una imagen Docker con un archivo Dockerfile&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/iniciando-django-usando-docker.html#iniciando-django-usando-docker"&gt;Iniciando Django usando Docker&lt;/a&gt;  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;En el &lt;a href="http://blog.crespo.org.ve/2015/12/uso-de-docker-en-debian-jessie-parte-1.html"&gt;primer artículo de uso de Docker en …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Lo artículos anteriores de docker son los siguientes:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/instalar-docker-en-debian-jessie.html#instalar-docker-en-debian-jessie"&gt;Instalar Docker en Debian Jessie&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-1.html#uso-de-docker-en-debian-jessie-parte-1"&gt;Uso de Docker en Debian Jessie (parte 1)&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-2.html#uso-de-docker-en-debian-jessie-parte-2"&gt;Uso de Docker en Debian Jessie (parte 2)&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/crear-una-imagen-docker-a-partir-de-un-archivo-dockerfile.html#crear-una-imagen-docker-a-partir-de-un-archivo-dockerfile"&gt;Crear una imagen Docker con un archivo Dockerfile&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/iniciando-django-usando-docker.html#iniciando-django-usando-docker"&gt;Iniciando Django usando Docker&lt;/a&gt;  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;En el &lt;a href="http://blog.crespo.org.ve/2015/12/uso-de-docker-en-debian-jessie-parte-1.html"&gt;primer artículo de uso de Docker en Debian Jessie&lt;/a&gt; se muestra al final como usar SonarQube por medio de Docker con dos instancias de la misma imagen.&lt;/p&gt;
&lt;p&gt;En esté artículo se bajará la imagen Docker de Gitlab edición comunitaria. El sitio donde se aloja está en el siguiente &lt;a href="https://hub.docker.com/r/gitlab/gitlab-ce/"&gt;enlace&lt;/a&gt; y la documentación  en inglés a la cual se basa esté artículo está en el siguiente enlace.&lt;/p&gt;
&lt;p&gt;Se ejecutará el &lt;code&gt;gitlab-ce&lt;/code&gt; que se bajará del sitio de dockerhub. El comando es el siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run --detach  --hostname pruebasgitlab --publish 443:443 --publish 80:80 --publish 22:22  --name gitlab   --restart always --volume /srv/gitlab/config:/etc/gitlab --volume /srv/gitlab/logs:/var/log/gitlab --volume /srv/gitlab/data:/var/opt/gitlab gitlab/gitlab-ce:latest
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;hostname: El nombre del host es pruebasgitlab.  &lt;/li&gt;
&lt;li&gt;publish: publica el puerto 443, 80 y 22 de la instancia del contenedor.  &lt;/li&gt;
&lt;li&gt;name: El nombre de la imagen es gitlab.  &lt;/li&gt;
&lt;li&gt;restart always: Siempre levanta la instancia.  &lt;/li&gt;
&lt;li&gt;volume: Se define unos volumenes (son directorios del host anfitrion que se montan en los contenedores), en este caso son 3 directorios.  &lt;/li&gt;
&lt;li&gt;gitlab/gitlab-ce:latest: Se trae la última versión de la imagen de gitlab-ce.  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;El contenedor de Gitlab usa volumenes montados para datos persistentes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/srv/gitlab/data&lt;/code&gt; se monta en &lt;code&gt;/var/opt/gitlab&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/srv/gitlab/logs&lt;/code&gt; se monta en &lt;code&gt;/var/log/gitlab&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/srv/gitlab/config&lt;/code&gt; se monta en &lt;code&gt;/etc/gitlab&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para configurar el Gitlab se tiene un archivo que se tiene en el equipo &lt;code&gt;/etc/gitlab/gitlab.rb&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Para acceder a la configuración se puede iniciar bash en el contenedor que está corriendo, esto permite navegar en la estructura de directorio y ejecutar cualquier programa:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker exec -it gitlab /bin/bash
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se puede editar el archivo &lt;code&gt;/etc/gitlab/gitlab.rb&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;También se puede editar con el siguiente comando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker exec -it gitlab vi /etc/gitlab/gitla.rb
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para habilitar configuraciones de https se puede revisar el siguiente &lt;a href="https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#enable-https"&gt;enlace&lt;/a&gt;, o las configuraciones de smtp en este &lt;a href="https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/smtp.md"&gt;otro&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Para reiniciar el gitlab luego del cambio de configuraciones se ejecuta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;doker restart gitlab
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A continuación se muestra una captura de pantalla del gitlab en funcionamiento desde Docker:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/instalargitlabpormediodedocker-1.png"&gt;&lt;/p&gt;
&lt;p&gt;En este artículo se muestra como acceder a varios puertos como el 80,443 y el 22 el cual permite conectarse a dicho contenedor de manera remota.&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Canaima"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Linux"></category><category term="Gitlab"></category><category term="Docker"></category></entry></feed>