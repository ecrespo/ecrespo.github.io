
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://ecrespo.github.io/theme/pygments/monokai.min.css">


  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/solid.css">


    <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Página de Seraph Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#e5e5ff">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#e5e5ff">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#e5e5ff">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="El artículo original lo pueden revisar acá. El repositorio donde se encuentra el código en gitlab en la rama json1. Los artículos sobre Flask lo pueden revisar en el enlace de artículos sobre flask. Archivo Dockerfile Se tiene el archivo Dockerfile a continuación: FROM python WORKDIR /code RUN pip3 install …" />
<meta name="keywords" content="Python, Flask, json">


<meta property="og:site_name" content="Página de Seraph"/>
<meta property="og:title" content="Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)"/>
<meta property="og:description" content="El artículo original lo pueden revisar acá. El repositorio donde se encuentra el código en gitlab en la rama json1. Los artículos sobre Flask lo pueden revisar en el enlace de artículos sobre flask. Archivo Dockerfile Se tiene el archivo Dockerfile a continuación: FROM python WORKDIR /code RUN pip3 install …"/>
<meta property="og:locale" content="es_VE"/>
<meta property="og:url" content="https://ecrespo.github.io/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1-actualizacion-docker.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-09-25 09:00:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ecrespo.github.io/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial Python"/>
<meta property="article:tag" content="Python"/>
<meta property="article:tag" content="Flask"/>
<meta property="article:tag" content="json"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Página de Seraph &ndash; Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "pub-0261001661746989",
      enable_page_level_ads: true
    });
  </script>
</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://ecrespo.github.io">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>

      <h1>
        <a href="https://ecrespo.github.io">Ernesto Crespo</a>
      </h1>

<p>Data Scientist </p>

      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="https://ecrespo.github.io/pages/About.html#About">
                  Acerca
                </a>
              </li>
              <li>
                <a target="_self"
                   href="https://ecrespo.github.io/pages/Contacto.html#Contacto">
                  Contacto
                </a>
              </li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
              <i class="fab fa-medium"></i>
            </a>
          </li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
              <i class="fab fa-google"></i>
            </a>
          </li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
              <i class="fab fa-facebook"></i>
            </a>
          </li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
              <i class="fab fa-gitlab"></i>
            </a>
          </li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
              <i class="fab fa-soundcloud"></i>
            </a>
          </li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
              <i class="fas fa-rss"></i>
            </a>
          </li>
      </ul>
    </div>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-aside"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234561"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
  </aside>
  <main>
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-responsive"
           data-ad-client="pub-0261001661746989"
           data-ad-slot="1234562"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

    <nav>
      <a href="https://ecrespo.github.io">Home</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ecrespo.github.io/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1-actualizacion-docker">Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)</h1>
    <p>
      Posted on dom 25 septiembre 2016 in <a href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a>

        &#8226; 2 min read
    </p>
  </header>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234565"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

  <div>
    <p>El artículo original lo pueden revisar <a href="https://www.seraph.to/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1.html">acá</a>.</p>
<p>El repositorio donde se encuentra el código en <a href="https://gitlab.com/ecrespo/tutorial-flask/tree/json1">gitlab en la rama json1</a>.</p>
<p>Los artículos sobre Flask lo pueden revisar en el enlace de <a href="https://www.seraph.to/tag/flask.html">artículos sobre flask</a>. </p>
<h3>Archivo Dockerfile</h3>
<p>Se tiene el archivo Dockerfile a continuación:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="n">FROM</span> <span class="n">python</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">WORKDIR</span> <span class="o">/</span><span class="n">code</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">RUN</span> <span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">RUN</span> <span class="n">pip3</span> <span class="n">install</span>  <span class="n">flask</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">EXPOSE</span> <span class="mi">5000</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">ADD</span> <span class="o">.</span> <span class="o">/</span><span class="n">code</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">CMD</span> <span class="n">python</span> <span class="n">app</span><span class="o">.</span><span class="n">py</span></span>
<span class="code-line"></code></pre></div>

<p>El único cambio con respecto a la serie de tutoriales de Flask es que corre <code>app.py</code> en vez de <code>run.py</code>, se eliminaron varias dependencias de paquetes para simplificar la aplicación.</p>
<h3>Archivo docker-compose.yml</h3>
<p>El archivo <code>docker-compose.yml</code> se le cambia el nombre a la imagen, a continuación el código del archivo:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code>tutorial-json1:</span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">  build: .</span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">  ports:</span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">   - &quot;5000:5000&quot;</span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">  volumes:</span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">   - .:/code</span>
<span class="code-line"></code></pre></div>

<h3>Archivo app.py</h3>
<p>El archivo <code>app.py</code> el único cambio con respecto al artículo anterior es que levanta el run en modo debug y se le dice la ip 0.0.0.0 a fin de que funcione desde el contenedor, el código a continuación:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code><span class="ch">#!/usr/bin/env python</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#Se importa de flask a Flask, jsonify y json</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span><span class="n">jsonify</span><span class="p">,</span><span class="n">json</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#Se crea la instancia de la aplicacion</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#Se tiene una lista de nombres</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">lista</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;John Doe&quot;</span><span class="p">,</span><span class="s2">&quot;Jane Doe&quot;</span><span class="p">]</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#Se crea</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#Se define el decorador route donde se da la ruta del servidor web.</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/ListaEmpleados&quot;</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">def</span> <span class="nf">ListaEmpleados</span><span class="p">():</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">try</span><span class="p">:</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">        <span class="c1">#inicializar la lista de empleados</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">        <span class="n">listaEmpleados</span> <span class="o">=</span> <span class="p">[]</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">        <span class="c1">#crear instancias para llenar la lista</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">        <span class="k">for</span> <span class="n">i</span>  <span class="ow">in</span> <span class="n">lista</span><span class="p">:</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">            <span class="n">datos</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">            <span class="n">listaEmpleados</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">datos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;apellido&#39;</span><span class="p">:</span> <span class="n">datos</span><span class="p">[</span><span class="mi">1</span><span class="p">]})</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">        <span class="c1"># convertir en dato json al diccionario</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">        <span class="n">jsonStr</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">listaEmpleados</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">except</span> <span class="p">(</span><span class="ne">Exception</span> <span class="p">,</span><span class="n">e</span><span class="p">):</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">        <span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">#Retorna el json</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">Empleados</span><span class="o">=</span><span class="n">jsonStr</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></span>
<span class="code-line"></code></pre></div>

<h3>Ejecución</h3>
<p>Ahora se construye la imagen y se ejecuta el contenedor Docker:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code>docker-compose build</span>
<span class="code-line">docker-compose up</span>
<span class="code-line"></code></pre></div>

<p>Al abri el navegador  en la dirección http://localhost:5000/ListaEmpleados se tiene la imagen a continuación:</p>
<p><img alt="" src="./images/creardatosjsonapartirdeundiccionarioenflaskactualizaciondocker1-1.png"> </p>
<p>La imagen muestra el json en el navegador.</p>
<p>La salida de la ejecución del contenedor es la siguiente:</p>
<div class="highlight"><pre><span class="code-line"><span></span><code>Creating tutorialflask_tutorial-json1_1</span>
<span class="code-line">Attaching to tutorialflask_tutorial-json1_1</span>
<span class="code-line">tutorial-json1_1 |  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)</span>
<span class="code-line">tutorial-json1_1 |  * Restarting with stat</span>
<span class="code-line">tutorial-json1_1 |  * Debugger is active!</span>
<span class="code-line">tutorial-json1_1 |  * Debugger pin code: 733-227-386</span>
<span class="code-line">tutorial-json1_1 | 172.17.0.1 - - [25/Sep/2016 18:44:22] &quot;GET /ListaEmpleados HTTP/1.1&quot; 200 -</span>
<span class="code-line"></code></pre></div>

<p>En próximo artículo se trabajará más con el json, como se menciona en el artículo original.</p>
<h2></h2>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ecrespo.github.io/tag/python.html">Python</a>
      <a href="https://ecrespo.github.io/tag/flask.html">Flask</a>
      <a href="https://ecrespo.github.io/tag/json.html">json</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="https://ecrespo.github.io/tutorial-de-flask-parte-5-login-de-los-usuarios.html" title="Tutorial de Flask parte 5 (login de los usuarios)">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="https://ecrespo.github.io/trabajar-con-datos-json-en-flask.html" title="Trabajar con datos JSON en Flask">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="https://ecrespo.github.io/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1.html">Crear datos JSON a partir de un diccionario en Flask (parte 1).</a></li>
      <li><a href="https://ecrespo.github.io/python-tools-security-quality-code.html">Herramientas de Python para desarrollar código seguro y de calidad.</a></li>
      <li><a href="https://ecrespo.github.io/desarrollar-un-api-con-graphql-en-flask.html">Desarrollar un API con GraphQL en Flask</a></li>
      <li><a href="https://ecrespo.github.io/api-rest-ful-con-flask-y-mongodb-flask-mongoalchemy-y-flask-restful.html">API Rest Ful con Flask y MongoDB (Flask-MongoAlchemy y Flask-restful)</a></li>
      <li><a href="https://ecrespo.github.io/api-rest-ful-con-flask-y-mongodb-flask-mongoalchemy.html">API Rest Ful con Flask y MongoDB (Flask-MongoAlchemy)</a></li>
    </ul>
  </div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="pub-0261001661746989"
         data-ad-slot="1234566"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy; 2022 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Página de Seraph ",
  "url" : "https://ecrespo.github.io",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>


</body>
</html>