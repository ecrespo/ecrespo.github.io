
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/pygments/monokai.min.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/solid.css">


    <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Página de Seraph Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="En el post anterior explique como ejecutar script python en un celular con Android de forma remota desde Linux por wifi, ahora explicaré como hacerlo por cable USB, en realidad es más sencillo que el artículo anterior. Me basaré en lo explicado en el post anterior y en el post …" />
<meta name="keywords" content="Android, Python, Debian, Linux">

<meta property="og:site_name" content="Página de Seraph"/>
<meta property="og:title" content="Ejecución remota de scripts python desde Linux a un celular con Android (versión conectado el celular por USB)"/>
<meta property="og:description" content="En el post anterior explique como ejecutar script python en un celular con Android de forma remota desde Linux por wifi, ahora explicaré como hacerlo por cable USB, en realidad es más sencillo que el artículo anterior. Me basaré en lo explicado en el post anterior y en el post …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://ecrespo.github.io/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android-version-conectado-el-celular-por-usb.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2010-12-15 10:00:00-04:30"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ecrespo.github.io/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial de Python en Android"/>
<meta property="article:tag" content="Android"/>
<meta property="article:tag" content="Python"/>
<meta property="article:tag" content="Debian"/>
<meta property="article:tag" content="Linux"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Página de Seraph &ndash; Ejecución remota de scripts python desde Linux a un celular con Android (versión conectado el celular por USB)</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://ecrespo.github.io">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>
      <h1><a href="https://ecrespo.github.io">Ernesto Crespo</a></h1>

<p>Data Scientist </p>
      <nav>
        <ul class="list">
          <li><a href="https://ecrespo.github.io/pages/About.html#About">Acerca</a></li>
          <li><a href="https://ecrespo.github.io/pages/Contacto.html#Contacto">Contacto</a></li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
            <i class="fab fa-medium">
            </i>
          </a></li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
            <i class="fab fa-linkedin">
            </i>
          </a></li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
            <i class="fab fa-github">
            </i>
          </a></li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
            <i class="fab fa-google">
            </i>
          </a></li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
            <i class="fab fa-twitter">
            </i>
          </a></li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
            <i class="fab fa-facebook">
            </i>
          </a></li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
            <i class="fab fa-gitlab">
            </i>
          </a></li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
            <i class="fab fa-soundcloud">
            </i>
          </a></li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
            <i class="fas fa-rss">
            </i>
          </a></li>
      </ul>
    </div>



  </aside>
  <main>

    <nav>
      <a href="https://ecrespo.github.io">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ecrespo.github.io/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android-version-conectado-el-celular-por-usb">Ejecución remota de scripts python desde Linux a un celular con Android (versión conectado el celular por USB)</h1>
    <p>
          Posted on mié 15 diciembre 2010 in <a href="https://ecrespo.github.io/category/tutorial-de-python-en-android.html">Tutorial de Python en Android</a>


        &#8226; 2 min read
    </p>
  </header>


  <div>
    <p>En el post anterior explique como ejecutar script python en un celular con Android de forma remota desde Linux por wifi, ahora explicar&eacute; como hacerlo por cable USB, en realidad es m&aacute;s sencillo que el art&iacute;culo anterior.
Me basar&eacute; en lo explicado en el post <a href="https://www.seraph.to/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android.html#ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android">anterior</a> y en el post sobre <a href="https://www.seraph.to/enviar-mensajes-de-texto-desde-android-con-python.html">env&iacute;o de mensajes de texto</a>.</p>
<p>Lo primero que se necesita hacer es conectar el celular al computador por USB, activar el modo depuraci&oacute;n y la conexi&oacute;n USB a Portal y Herramientas.</p>
<p>Se debe iniciar el servidor de SL4A. Men&uacute;-&gt;Ver-&gt;Interpretes-&gt;Men&uacute;-&gt;Iniciar Servidor-&gt;Privado.</p>
<p>Luego se averigua en los mensajes de notificiaci&oacute;n que puerto abre el servidor. En m&iacute; caso fue el 58825.</p>
<p>Desde la consola de Linux se ejecutan los siguientes comandos:
Redirecciona toda petici&oacute;n al puerto 9999 al puerto 58825.</p>
<div class="highlight"><pre><span></span>./adb forward tcp:9999 tcp:58825
</pre></div>
<p>Se exporta una variable de ambiente.</p>
<div class="highlight"><pre><span></span>export AP_PORT=9999
</pre></div>
<p>El programa es el siguiente:</p>
<div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python2.6</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">#Script que permite enviar mensaje de texto a un celular android desde Linux.</span>
<span class="c1">#Autor: Ernesto Crespo</span>
<span class="c1">#Correo:ecrespo@gmail.com</span>
<span class="c1">#Licencia: GPLv3</span>
<span class="c1">#Versi&oacute;n:0.1</span>

<span class="c1">#Importando el m&oacute;dulo android,sys y re</span>
<span class="kn">import</span> <span class="nn">android</span><span class="o">,</span><span class="nn">sys</span><span class="o">,</span><span class="nn">re</span>


<span class="c1">#Funci&oacute;n de envio de mensajes</span>
<span class="k">def</span> <span class="nf">Enviomensaje</span><span class="p">():</span>
    <span class="c1">#Se averigua si se le pasa al script el n&uacute;mero celular y el mensaje, y que el n&uacute;mero sea v&aacute;lido para venezuela.</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">numero</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">mensaje</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">"error enviando mensaje, se necesita pasar el n&uacute;mero y mensaje"</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span>
    <span class="k">if</span> <span class="n">Validar</span><span class="p">(</span><span class="n">numero</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">"N&uacute;mero invalido"</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span>
    <span class="c1">#Creando la instancia droid del objeto Android</span>
    <span class="n">droid</span> <span class="o">=</span> <span class="n">android</span><span class="o">.</span><span class="n">Android</span><span class="p">()</span>
    <span class="c1">#Enviando el mensaje de texto</span>
    <span class="n">droid</span><span class="o">.</span><span class="n">smsSend</span><span class="p">(</span><span class="n">numero</span><span class="p">,</span><span class="n">mensaje</span><span class="p">)</span>
    <span class="c1">#Se presenta un mensaje de notificaci&oacute;n en el celular.</span>
    <span class="n">droid</span><span class="o">.</span><span class="n">makeToast</span><span class="p">(</span><span class="s1">'Mensaje enviado'</span><span class="p">)</span>


<span class="c1">#Funci&oacute;n que v&aacute;lida si el n&uacute;mero es de movilnet, digitel o movistar.</span>
<span class="k">def</span> <span class="nf">Validar</span><span class="p">(</span><span class="n">numero</span><span class="p">):</span>
    <span class="c1">#Valida si los numeros tienen 11 digitos y que sean de los proveedores movilnet, digitel y movistar</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">numero</span><span class="p">)</span> <span class="o">==</span> <span class="mi">11</span> <span class="ow">and</span> <span class="p">((</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">"041[2|4|6]\d\d\d\d\d\d\d"</span><span class="p">,</span><span class="n">numero</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">"042[4|6]\d\d\d\d\d\d\d"</span><span class="p">,</span><span class="n">numero</span><span class="p">)))</span> <span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
<span class="c1">#Ejecuci&oacute;n del programa.</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">Enviomensaje</span><span class="p">()</span>
</pre></div>
<p>Ejecutar el script.</p>
<div class="highlight"><pre><span></span>enviomensajes.py 0xxxyyyzzww  "2da prueba, avisame si te llega el sms"
</pre></div>
<p>===</p>
<p>&iexcl;Haz tu donativo!
Si te gust&oacute; el art&iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el c&oacute;digo QR desde billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ecrespo.github.io/tag/android.html">Android</a>
      <a href="https://ecrespo.github.io/tag/python.html">Python</a>
      <a href="https://ecrespo.github.io/tag/debian.html">Debian</a>
      <a href="https://ecrespo.github.io/tag/linux.html">Linux</a>
    </p>
  </div>



  <div class="related-posts">
    <h4>    You might enjoy
</h4>
    <ul class="related-posts">
      <li><a href="https://ecrespo.github.io/programa-para-el-envio-de-sms-desde-linux-con-celular-android-conexion-wifi-y-usb.html">Programa para el envío de SMS desde Linux con Celular Android (conexión wifi y USB)</a></li>
      <li><a href="https://ecrespo.github.io/ejecucion-remota-de-scripts-python-desde-linux-a-un-celular-con-android.html">Ejecución remota de scripts python desde Linux a un celular con Android</a></li>
      <li><a href="https://ecrespo.github.io/instalar-python-en-android.html">Instalar python en Android</a></li>
      <li><a href="https://ecrespo.github.io/no-a-sopa-y-pipa.html">No a SOPA y PIPA</a></li>
      <li><a href="https://ecrespo.github.io/qtadb-programa-para-controlar-un-celular-android-desde-el-pc.html">Qtadb programa para controlar un celular Android desde el PC</a></li>
    </ul>
  </div>


<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy;  2006</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Página de Seraph ",
  "url" : "https://ecrespo.github.io",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>

</body>
</html>