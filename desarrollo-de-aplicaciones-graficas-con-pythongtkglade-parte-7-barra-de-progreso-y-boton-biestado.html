
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/pygments/monokai.min.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/solid.css">


    <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Página de Seraph Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="Continuando con la serie de tutoriales sobre pygtk. Este trata del desarrollo de una sencilla aplicación que contiene una barra de progreso que avanzará cada segundo mostrando el tiempo el cual trancurre la barra de progreso. En este tutorial como se ejecuta un proceso que puede congelar la ventana se …" />
<meta name="keywords" content="Linux, Python, gtk, glade">

<meta property="og:site_name" content="Página de Seraph"/>
<meta property="og:title" content="Desarrollo de aplicaciones gráficas con python+gtk+glade. Parte 7. Barra de progreso y boton biestado"/>
<meta property="og:description" content="Continuando con la serie de tutoriales sobre pygtk. Este trata del desarrollo de una sencilla aplicación que contiene una barra de progreso que avanzará cada segundo mostrando el tiempo el cual trancurre la barra de progreso. En este tutorial como se ejecuta un proceso que puede congelar la ventana se …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://ecrespo.github.io/desarrollo-de-aplicaciones-graficas-con-pythongtkglade-parte-7-barra-de-progreso-y-boton-biestado.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2009-12-25 10:00:00-04:30"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ecrespo.github.io/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial Python"/>
<meta property="article:tag" content="Linux"/>
<meta property="article:tag" content="Python"/>
<meta property="article:tag" content="gtk"/>
<meta property="article:tag" content="glade"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Página de Seraph &ndash; Desarrollo de aplicaciones gráficas con python+gtk+glade. Parte 7. Barra de progreso y boton biestado</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://ecrespo.github.io">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>
      <h1><a href="https://ecrespo.github.io">Ernesto Crespo</a></h1>

<p>Data Scientist </p>
      <nav>
        <ul class="list">
          <li><a href="https://ecrespo.github.io/pages/About.html#About">Acerca</a></li>
          <li><a href="https://ecrespo.github.io/pages/Contacto.html#Contacto">Contacto</a></li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
            <i class="fab fa-medium">
            </i>
          </a></li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
            <i class="fab fa-linkedin">
            </i>
          </a></li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
            <i class="fab fa-github">
            </i>
          </a></li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
            <i class="fab fa-google">
            </i>
          </a></li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
            <i class="fab fa-twitter">
            </i>
          </a></li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
            <i class="fab fa-facebook">
            </i>
          </a></li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
            <i class="fab fa-gitlab">
            </i>
          </a></li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
            <i class="fab fa-soundcloud">
            </i>
          </a></li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
            <i class="fas fa-rss">
            </i>
          </a></li>
      </ul>
    </div>



  </aside>
  <main>

    <nav>
      <a href="https://ecrespo.github.io">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ecrespo.github.io/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="desarrollo-de-aplicaciones-graficas-con-pythongtkglade-parte-7-barra-de-progreso-y-boton-biestado">Desarrollo de aplicaciones gráficas con python+gtk+glade. Parte 7. Barra de progreso y boton biestado</h1>
    <p>
          Posted on vie 25 diciembre 2009 in <a href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a>


        &#8226; 2 min read
    </p>
  </header>


  <div>
    <p>Continuando con la serie de tutoriales sobre pygtk. Este trata del desarrollo de una sencilla aplicaci&oacute;n que contiene una barra de progreso que avanzar&aacute; cada segundo mostrando el tiempo el cual trancurre la barra de progreso. En este tutorial como se ejecuta un proceso que puede congelar la ventana se usar&aacute; hilos para evitarlo, adicionalmente se muestra el uso de botones biestado para controlar la barra de progreso.</p>
<p>En la figura se muestra el dise&ntilde;o de la aplicaci&oacute;n.</p>
<p><img alt="Tutorial 7 Glade 1" src="./images/tutorialpythongtkglade7-1.png"/></p>
<p>El c&oacute;digo se muestra a continuaci&oacute;n:</p>
<p>```python</p>
<h1 id="!/usr/bin/env python">!/usr/bin/env python</h1>
<h1 id="-- coding: utf-8 --">-<em>- coding: utf-8 -</em>-</h1>
<h1 id="sin ej6.py">sin ej6.py</h1>
<h1 id="_1"></h1>
<h1 id="copyright 2009 ernesto nadir crespo avila">Copyright 2009 Ernesto Nadir Crespo Avila</h1>
<h1 id="_2"></h1>
<h1 id="this program is free software; you can redistribute it and/or modify">This program is free software; you can redistribute it and/or modify</h1>
<h1 id="it under the terms of the gnu general public license as published by">it under the terms of the GNU General Public License as published by</h1>
<h1 id="the free software foundation; either version 2 of the license, or">the Free Software Foundation; either version 2 of the License, or</h1>
<h1 id="(at your option) any later version.">(at your option) any later version.</h1>
<h1 id="_3"></h1>
<h1 id="this program is distributed in the hope that it will be useful,">This program is distributed in the hope that it will be useful,</h1>
<h1 id="but without any warranty; without even the implied warranty of">but WITHOUT ANY WARRANTY; without even the implied warranty of</h1>
<h1 id="merchantability or fitness for a particular purpose. see the">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</h1>
<h1 id="gnu general public license for more details.">GNU General Public License for more details.</h1>
<h1 id="_4"></h1>
<h1 id="you should have received a copy of the gnu general public license">You should have received a copy of the GNU General Public License</h1>
<h1 id="along with this program; if not, write to the free software">along with this program; if not, write to the Free Software</h1>
<h1 id="foundation, inc., 51 franklin street, fifth floor, boston,">Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,</h1>
<h1 id="ma 02110-1301, usa.">MA 02110-1301, USA.</h1>
<h1 id="importar los modulos gtk, time, threading, thread, gobject">Importar los m&oacute;dulos gtk, time, threading, thread, gobject</h1>
<p>import gtk, time
import threading
import thread
import gobject</p>
<h1 id="iniciando el hilo sin usarlo">Iniciando el hilo sin usarlo</h1>
<p>gtk.gdk.threads_init()</p>
<h1 id="la clase app hereda threading.thread">La clase App hereda threading.Thread</h1>
<p>class App(threading.Thread):
    def <strong>init</strong>(self):
     #M&eacute;todo constructor, asociando los widgets
        self.glade_file = "ej6.ui"
        self.glade = gtk.Builder()
        self.glade.add_from_file(self.glade_file)
        self.window1 = self.glade.get_object('window1')
        self.togglebutton1 = self.glade.get_object('togglebutton1')
        self.button1 = self.glade.get_object('button1')
        self.progressbar1 = self.glade.get_object('progressbar1')
        self.new_val = 0.0
        self.rango =60
     #Definiendo el valor inicial de la barra de proceso, definiendo los saltos en 0.1
        self.progressbar1.set_fraction(self.new_val)
        self.progressbar1.set_pulse_step(0.1)
        self.window1.connect("destroy",self.on_window1_destroy)
        self.button1.connect('clicked', self.on_button1_clicked)
        self.togglebutton1.connect('toggled',self.on_togglebutton1_toggled)
        #Iniciando el hilo en el constructor
     threading.Thread.<strong>init</strong>(self)
        self.window1.show_all()</p>
<pre><code>def __iteracion__(self):
 #Iteraci&oacute;n en segundos cambiando el valor en la barra de progreso.
    for i in range(self.rango):
        if self.togglebutton1.get_active() == True:
            self.new_val = self.progressbar1.get_fraction() + 0.01
            if self.new_val &gt; 1.0:
                self.new_val = 0.0
                self.togglebutton1.set_active(False)
                break
            else:
                time.sleep(1)
                self.x = self.new_val*100
                self.progressbar1.set_text("%s" %self.x)
                self.progressbar1.set_fraction(self.new_val)
        else:
            return





def on_togglebutton1_toggled(self,*args):
 #Si cambia el evento en el boton biestado se inicia la iteraci&oacute;n entre los hilos.
    variable = self.togglebutton1.get_active()
    self.rango = 100
    if variable == True:
        lock =  thread.allocate_lock()
        lock.acquire()
        thread.start_new_thread( self.__iteracion__, ()) 
        lock.release()
    else:
     #Se detiene la barra de progreso
        self.progressbar1.set_fraction(self.new_val)
        self.progressbar1.set_text("%s" %self.x)
        return




def on_window1_destroy(self,*args):
 #Se cierra la aplicaci&oacute;n
    gtk.main_quit()

def on_button1_clicked(self,*args):
 #Se cierra la aplicaci&oacute;n al darle clip al boton salir.
    gtk.main_quit()


def main(self):
 #Inicia la aplicaci&oacute;n
    gtk.main()
</code></pre>
<p>if <strong>name</strong> == '<strong>main</strong>':
    app = App()
    app.main()</p>
<p>```</p>
<p>En la siguiente figura se muestra la aplicaci&oacute;n:</p>
<p><img alt="Tutorial 7 Glade 2" src="./images/tutorialpythongtkglade7-2.png"/></p>
<p>===</p>
<p>&iexcl;Haz tu donativo!
Si te gust&oacute; el art&iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el c&oacute;digo QR desde billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ecrespo.github.io/tag/linux.html">Linux</a>
      <a href="https://ecrespo.github.io/tag/python.html">Python</a>
      <a href="https://ecrespo.github.io/tag/gtk.html">gtk</a>
      <a href="https://ecrespo.github.io/tag/glade.html">glade</a>
    </p>
  </div>



  <div class="related-posts">
    <h4>    You might enjoy
</h4>
    <ul class="related-posts">
      <li><a href="https://ecrespo.github.io/aplicacion-que-muestra-las-coordenadas-del-celular-en-google-maps-en-el-escritorio.html">Aplicación que muestra las coordenadas del Celular en google maps en el escritorio</a></li>
      <li><a href="https://ecrespo.github.io/crear-un-navegador-web-basico-con-pythongtkwebkit.html">Crear un Navegador web básico con python+gtk+webkit</a></li>
      <li><a href="https://ecrespo.github.io/actualizacion-del-programa-desarrollo-de-interfaz-grafica-para-la-configuracion-de-accesos-rapidos-del-teclado.html">Actualización del programa Desarrollo de interfaz gráfica para la configuración de accesos rápidos del teclado</a></li>
      <li><a href="https://ecrespo.github.io/desarrollo-de-aplicaciones-graficas-con-pythongtkglade-parte-10-generador-de-codigo-de-barra.html">Desarrollo de aplicaciones gráficas con python+gtk+glade. Parte 10. Generador de código de barra</a></li>
      <li><a href="https://ecrespo.github.io/desarrollo-de-aplicaciones-graficas-con-pythongtkglade-parte-9-matplotlib.html">Desarrollo de aplicaciones gráficas con python+gtk+glade. Parte 9. Matplotlib</a></li>
    </ul>
  </div>


<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy;  2006</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Página de Seraph ",
  "url" : "https://ecrespo.github.io",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>

</body>
</html>