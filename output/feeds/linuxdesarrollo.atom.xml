<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Página de Seraph - Linux,Desarrollo</title><link href="https://ecrespo.github.io/" rel="alternate"></link><link href="https://ecrespo.github.io/feeds/linuxdesarrollo.atom.xml" rel="self"></link><id>https://ecrespo.github.io/</id><updated>2011-12-08T09:00:00-05:30</updated><subtitle>Data Scientist </subtitle><entry><title>Compartir repositorios Mercurial por ssh</title><link href="https://ecrespo.github.io/compartir-repositorios-mercurial-por-ssh.html" rel="alternate"></link><published>2011-12-08T09:00:00-05:30</published><updated>2011-12-08T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-12-08:/compartir-repositorios-mercurial-por-ssh.html</id><summary type="html">&lt;p&gt;&lt;a href="https://www.seraph.to/compartir-repositorios-de-mercurial-con-mercurial-server.html"&gt;En art&amp;iacute;culo anterior&lt;/a&gt; se explica como compartir un repositorio mercurial con &lt;code&gt;mercurial-server&lt;/code&gt;, ahora se explicar&amp;aacute; como hacerlo usando &lt;code&gt;ssh&lt;/code&gt; con claves p&amp;uacute;blicas.&lt;/p&gt;
&lt;p&gt;Lo que primero se va a hacer es crear la clave p&amp;uacute;blica para &lt;code&gt;ssh&lt;/code&gt; y distribuirlo al equipo o los equipos, luego se verifica el funcionamiento del &lt;code&gt;ssh …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="https://www.seraph.to/compartir-repositorios-de-mercurial-con-mercurial-server.html"&gt;En art&amp;iacute;culo anterior&lt;/a&gt; se explica como compartir un repositorio mercurial con &lt;code&gt;mercurial-server&lt;/code&gt;, ahora se explicar&amp;aacute; como hacerlo usando &lt;code&gt;ssh&lt;/code&gt; con claves p&amp;uacute;blicas.&lt;/p&gt;
&lt;p&gt;Lo que primero se va a hacer es crear la clave p&amp;uacute;blica para &lt;code&gt;ssh&lt;/code&gt; y distribuirlo al equipo o los equipos, luego se verifica el funcionamiento del &lt;code&gt;ssh&lt;/code&gt; con la clave p&amp;uacute;blica.&lt;/p&gt;
&lt;p&gt;La idea es mantener respaldado la configuraci&amp;oacute;n de un equipo que est&amp;aacute; con control de versiones con mercurial usando &lt;a href="https://www.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html"&gt;etckeeper&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;En el servidor es necesario instalar &lt;code&gt;etckeeper&lt;/code&gt;, &lt;code&gt;mercurial&lt;/code&gt; y &lt;code&gt;ssh&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;apt-get install etckeeper mercurial openssh-server&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Configurar &lt;code&gt;etckeeper&lt;/code&gt; y &lt;code&gt;mercurial&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vim /etc/etckeeper/etckeeper.conf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se descomenta y agrega lo siguiente en el archivo:&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;h1 id="the vcs to use."&gt;The VCS to use.&lt;/h1&gt;
&lt;p&gt;VCS="hg"&lt;/p&gt;
&lt;h1 id='vcs="git"'&gt;VCS="git"&lt;/h1&gt;
&lt;h1 id='vcs="bzr"'&gt;VCS="bzr"&lt;/h1&gt;
&lt;h1 id='vcs="darcs"'&gt;VCS="darcs"&lt;/h1&gt;
&lt;h1 id="options passed to git commit when run by etckeeper."&gt;Options passed to git commit when run by etckeeper.&lt;/h1&gt;
&lt;h1 id='git_commit_options=""'&gt;GIT_COMMIT_OPTIONS=""&lt;/h1&gt;
&lt;h1 id="options passed to hg commit when run by etckeeper."&gt;Options passed to hg commit when run by etckeeper.&lt;/h1&gt;
&lt;p&gt;HG_COMMIT_OPTIONS="-u ecrespo@gmail.com"&lt;/p&gt;
&lt;h1 id="options passed to bzr commit when run by etckeeper."&gt;Options passed to bzr commit when run by etckeeper.&lt;/h1&gt;
&lt;h1 id='bzr_commit_options=""'&gt;BZR_COMMIT_OPTIONS=""&lt;/h1&gt;
&lt;h1 id="options passed to darcs record when run by etckeeper."&gt;Options passed to darcs record when run by etckeeper.&lt;/h1&gt;
&lt;h1 id='darcs_commit_options="-a"'&gt;DARCS_COMMIT_OPTIONS="-a"&lt;/h1&gt;
&lt;h1 id="uncomment to avoid etckeeper committing existing changes"&gt;Uncomment to avoid etckeeper committing existing changes&lt;/h1&gt;
&lt;h1 id="to /etc automatically once per day."&gt;to /etc automatically once per day.&lt;/h1&gt;
&lt;p&gt;AVOID_DAILY_AUTOCOMMITS=1&lt;/p&gt;
&lt;h1 id="uncomment to avoid etckeeper committing existing changes to"&gt;Uncomment to avoid etckeeper committing existing changes to&lt;/h1&gt;
&lt;h1 id="/etc before installation. it will cancel the installation,"&gt;/etc before installation. It will cancel the installation,&lt;/h1&gt;
&lt;h1 id="so you can commit the changes by hand."&gt;so you can commit the changes by hand.&lt;/h1&gt;
&lt;h1 id="avoid_commit_before_install=1"&gt;AVOID_COMMIT_BEFORE_INSTALL=1&lt;/h1&gt;
&lt;h1 id="the high-level package manager that's being used."&gt;The high-level package manager that's being used.&lt;/h1&gt;
&lt;h1 id="(apt, pacman-g2, yum etc)"&gt;(apt, pacman-g2, yum etc)&lt;/h1&gt;
&lt;p&gt;HIGHLEVEL_PACKAGE_MANAGER=apt&lt;/p&gt;
&lt;h1 id="the low-level package manager that's being used."&gt;The low-level package manager that's being used.&lt;/h1&gt;
&lt;h1 id="(dpkg, rpm, pacman-g2, etc)"&gt;(dpkg, rpm, pacman-g2, etc)&lt;/h1&gt;
&lt;p&gt;LOWLEVEL_PACKAGE_MANAGER=dpkg&lt;br/&gt;
```&lt;/p&gt;
&lt;p&gt;Luego:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vim /etc/mercurial/hgrc&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;```
[ui]
username = "Ernesto Nadir Crespo Avila &lt;a href="mailto:ecrespo@gmail.com"&gt;ecrespo@gmail.com&lt;/a&gt;"
editor = vim&lt;/p&gt;
&lt;h1 id="pedir indicacion de archivos cambiados:"&gt;pedir indicaci&amp;oacute;n de archivos cambiados:&lt;/h1&gt;
&lt;p&gt;verbose=True
```&lt;/p&gt;
&lt;p&gt;Inicializar &lt;code&gt;etckeeper&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;etckeeper init
...
adding ssl/certs/f950ccc2.0
adding ssl/certs/facacbc6.0
adding ssl/certs/ff783690.0
adding ssl/certs/signet_ca1_pem.pem
adding ssl/certs/signet_ca2_pem.pem
adding ssl/certs/signet_ca3_pem.pem
adding ssl/certs/signet_ocspklasa2_pem.pem
adding ssl/certs/signet_ocspklasa3_pem.pem
adding ssl/certs/signet_pca2_pem.pem
adding ssl/certs/signet_pca3_pem.pem
adding ssl/certs/signet_rootca_pem.pem
adding ssl/certs/signet_tsa1_pem.pem
adding ssl/certs/spi-ca-2003.pem
adding ssl/certs/spi-cacert-2008.pem
adding ssl/certs/ssl-cert-snakeoil.pem
adding ssl/certs/thawte_Primary_Root_CA.pem
adding ssl/openssl.cnf
adding ssl/private/ssl-cert-snakeoil.key
adding subversion/config
adding subversion/servers
adding sudoers
adding sudoers.d/README
adding sysctl.conf
adding sysctl.d/README.sysctl
adding sysctl.d/bindv6only.conf
adding terminfo/README
adding timezone
adding ts.conf
adding ucf.conf
adding ufw/applications.d/bind9
adding ufw/applications.d/openssh-server
adding ufw/applications.d/postfix
adding vga/dvorak-us.keymap
adding vga/libvga.config
adding vga/libvga.et4000
adding vga/null.keymap
adding vim/vimrc
adding vim/vimrc.tiny
adding w3m/config
adding w3m/mailcap
adding wgetrc
adding xml/catalog
adding xml/xml-core.xml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Este comando agregar&amp;aacute; todos los archivos de configuraci&amp;oacute;n dentro del directorio &lt;code&gt;/etc&lt;/code&gt; a un control de versiones, en este caso &lt;code&gt;mercurial&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Al ejecutar el comando de mercurial para ver el estatus muestra los archivos que fueron agregados:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hg status /etc/
...
A sudoers
A sudoers.d/README
A sysctl.conf
A sysctl.d/README.sysctl
A sysctl.d/bindv6only.conf
A terminfo/README
A timezone
A ts.conf
A ucf.conf
A ufw/applications.d/bind9
A ufw/applications.d/openssh-server
A ufw/applications.d/postfix
A vga/dvorak-us.keymap
A vga/libvga.config
A vga/libvga.et4000
A vga/null.keymap
A vim/vimrc
A vim/vimrc.tiny
A w3m/config
A w3m/mailcap
A wgetrc
A xml/catalog
A xml/xml-core.xml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ahora se hace el primer commit.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;etckeeper commit "Inicializacion del control de versiones"
...
sysctl.conf
sysctl.d/README.sysctl
sysctl.d/bindv6only.conf
terminfo/README
timezone
ts.conf
ucf.conf
ufw/applications.d/bind9
ufw/applications.d/openssh-server
ufw/applications.d/postfix
vga/dvorak-us.keymap
vga/libvga.config
vga/libvga.et4000
vga/null.keymap
vim/vimrc
vim/vimrc.tiny
w3m/config
w3m/mailcap
wgetrc
xml/catalog
xml/xml-core.xml
committed changeset 0:10c12e9f2889&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ahora se crear&amp;aacute; la clave ssh y se copiar&amp;aacute; en el servidor.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ssh-keygen -t rsa -C "ecrespo@gmail.com" -f hgernesto-identity
Generating public/private rsa key pair.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in hgernesto-identity.
Your public key has been saved in hgernesto-identity.pub.
The key fingerprint is:
ca:7a:09:57:77:85:9c:05:d8:73:ca:d0:b1:41:5c:11 ecrespo@gmail.com
The key's randomart image is:
+--[ RSA 2048]----+
|           B=BEo |
|          o Ooo  |
|           o.=   |
|        . . +    |
|       .S. .     |
|    ....         |
|     oo.         |
|     .o          |
|    ..           |
+-----------------+&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se copia la clave p&amp;uacute;blica al servidor.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;scp hgernesto-identity.pub ernesto@www.crespo.org.ve:.ssh/
ernesto@www.crespo.org.ve's password:
hgernesto-identity.pub           100%  399     0.4KB/s   00:00&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;Se accede al servidor:&lt;/p&gt;
&lt;p&gt;```
ssh ernesto@www.crespo.org.ve
ernesto@www.crespo.org.ve's password:
Linux crespo.org.ve 2.6.26-2-vserver-amd64 #1 SMP Fri Aug 14 09:21:21 UTC 2009 x86_64&lt;/p&gt;
&lt;p&gt;The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.&lt;/p&gt;
&lt;p&gt;Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Thu Dec  8 18:58:20 2011 from 190.75.37.237&lt;/p&gt;
&lt;p&gt;ernesto@crespo:~$
```&lt;/p&gt;
&lt;p&gt;Se agrega la llave publica al archivo &lt;code&gt;authorized_keys&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cd .ssh
cat hgernesto-identity.pub &amp;amp;gt;&amp;amp;gt;  authorized_keys&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se regresa al equipo que se conectar&amp;aacute; al servidor.&lt;/p&gt;
&lt;p&gt;Se crea el archivo &lt;code&gt;~/.ssh/config&lt;/code&gt; Se agrega el host, el usuario y la clave privada que se va a usar para la conexi&amp;oacute;n ssh.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Host www.crespo.org.ve
    user ernesto
    IdentityFile ~/.ssh/hgernesto-identity&lt;/code&gt;
Se verifica que se conecte al servidor usando la llave p&amp;uacute;blica.&lt;/p&gt;
&lt;p&gt;```
ssh www.crespo.org.ve -i ~/.ssh/hgernesto-identity -l ernesto
Linux crespo.org.ve 2.6.26-2-vserver-amd64 #1 SMP Fri Aug 14 09:21:21 UTC 2009 x86_64&lt;/p&gt;
&lt;p&gt;The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.&lt;/p&gt;
&lt;p&gt;Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Thu Dec  8 19:20:08 2011 from 190.75.37.237&lt;/p&gt;
&lt;p&gt;ernesto@crespo:~$
```&lt;/p&gt;
&lt;p&gt;Esta vez el servidor no pidi&amp;oacute; clave para el usuario.&lt;/p&gt;
&lt;p&gt;Ahora se va a clonar el directorio etc para tener la configuraci&amp;oacute;n en el home del usuario.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo hg clone /etc conf-www.respo.org.ve
...
getting subversion/servers
getting sudoers
getting sudoers.d/README
getting sysctl.conf
getting sysctl.d/README.sysctl
getting sysctl.d/bindv6only.conf
getting terminfo/README
getting timezone
getting ts.conf
getting ucf.conf
getting ufw/applications.d/bind9
getting ufw/applications.d/openssh-server
getting ufw/applications.d/postfix
getting vga/dvorak-us.keymap
getting vga/libvga.config
getting vga/libvga.et4000
getting vga/null.keymap
getting vim/vimrc
getting vim/vimrc.tiny
getting w3m/config
getting w3m/mailcap
getting wgetrc
getting xml/catalog
getting xml/xml-core.xml
1775 files updated, 0 files merged, 0 files removed, 0 files unresolved&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se cambia el due&amp;ntilde;o y el grupo del repositorio ya que pertenece a root y no se va  a poder clonar con ese due&amp;ntilde;o.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo chown -R ernesto.ecrespo conf-www.respo.org.ve/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ahora se prueba realizar la clonaci&amp;oacute;n del repositorio del servidor en la m&amp;aacute;quina local.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ernesto@zeath:~$ hg clone ssh://ernesto@www.crespo.org.ve/repo/conf-www.respo.org.ve
destination directory: conf-www.respo.org.ve
requesting all changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1775 changes to 1775 files
updating to branch default
1775 files updated, 0 files merged, 0 files removed, 0 files unresolved
remote: 1 changesets found&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se verifica el repositorio local.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ernesto@zeath:~$ hg log conf-www.respo.org.ve/
changeset:   0:10c12e9f2889
tag:         tip
user:        ecrespo@gmail.com
date:        Thu Dec 08 19:11:24 2011 +0000
summary:     Inicializacion del control de versiones&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ya se tiene respaldada la configuraci&amp;oacute;n del servidor por medio de control de versiones, si se desea tener automatizado el proceso se puede crear scripts que se coloquen en el cron de manera que diariamente se tenga actualizado el respaldo de la configuraci&amp;oacute;n del servidor por medio de control de versiones distribuido (mercurial).&lt;/p&gt;
&lt;p&gt;Es recomendable sacar del control de versiones los archivos &lt;code&gt;shadow&lt;/code&gt;, &lt;code&gt;passwd&lt;/code&gt; y &lt;code&gt;group&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id="_1"&gt;&lt;/h2&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Canaima"></category><category term="Control de versiones"></category><category term="Debian"></category><category term="Linux"></category><category term="mercurial"></category><category term="ssh"></category><category term="Ubuntu"></category></entry><entry><title>Crear llave ssh para la autenticación en Github, gitorius y bitbucket.</title><link href="https://ecrespo.github.io/crear-llave-ssh-para-la-autenticacion-en-github-gitorius-y-bitbucket.html" rel="alternate"></link><published>2011-09-20T09:00:00-05:30</published><updated>2011-09-20T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-09-20:/crear-llave-ssh-para-la-autenticacion-en-github-gitorius-y-bitbucket.html</id><summary type="html">&lt;p&gt;Este art&amp;iacute;culo explicar&amp;aacute; como crear una llave p&amp;uacute;blica RSA para usarla en los sitios github, gitorius y bitbucket y as&amp;iacute; poder subir c&amp;oacute;digo con git y mercurial a dichos repositorios.&lt;/p&gt;
&lt;p&gt;Lo primero que se tiene que hacer es generar la llave ssh. El comando para hacerlo es &lt;code&gt;ssh-keygen&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ssh-keygen -t …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Este art&amp;iacute;culo explicar&amp;aacute; como crear una llave p&amp;uacute;blica RSA para usarla en los sitios github, gitorius y bitbucket y as&amp;iacute; poder subir c&amp;oacute;digo con git y mercurial a dichos repositorios.&lt;/p&gt;
&lt;p&gt;Lo primero que se tiene que hacer es generar la llave ssh. El comando para hacerlo es &lt;code&gt;ssh-keygen&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ssh-keygen -t rsa -C "ecrespo@cenditel.gob.ve&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Generating public/private rsa key pair.
Enter file in which to save the key (/home/ernesto/.ssh/id_rsa):  &amp;lt;Ruta donde se va a guardar la llave RSA&amp;gt;
Enter passphrase (empty for no passphrase): &amp;lt;colocar la frase a usar con la llave&amp;gt;
Enter same passphrase again:  &amp;lt;colocar la frase a usar con la llave&amp;gt;
Your identification has been saved in /home/ernesto/.ssh/id_rsa.
Your public key has been saved in /home/ernesto/.ssh/id_rsa.pub.
The key fingerprint is:
f2:09:cf:fe:53:1d:d3:d9:25:96:c9:11:68:5e:3e:bc ecrespo@cenditel.gob.ve
The key's randomart image is:
+--[ RSA 2048]----+
|             .o. |
|            o..+ |
|        o  o +* .|
|         C  ..+o+|
|        S +   o+o|
|         .   .Do |
|          . o .  |
|           +     |
|            .    |
+-----------------+&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Agregar la llave a github:&lt;/p&gt;
&lt;p&gt;En github seleccione &lt;strong&gt;Account settings&lt;/strong&gt;, luego seleccione &lt;strong&gt;ssh public keys&lt;/strong&gt; y luego &lt;strong&gt;Add another public key&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Despliegue el contenido del archivo  &lt;code&gt;id_rsa.pub&lt;/code&gt;:&lt;br/&gt;
&lt;code&gt;cat less id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDPW48GvjuwVMHdlU6kRqniKDNwDrz  
12YPL1Sdi9AEn4uuRxs34+NH3UfarjweKFXMqkFRZaR9woV21GxvfF+eRnAfCWFI0Unzpxh1LaaLaDcBfNZ  
x1PwkaR6zmaNKjwhAS2N4K3Rd+gCtPl57CoFQPNY7ZsZSJcn0iTn1jtQi3I3JpeQDTq0yf1nsjJFTSC/n23TROj2mvaHVsUB86ezAsia  
JXJd8aZWJsyAEdBxn6dAxxxAtGRzQCq8oNqhWhqmbzf6C3zKARwCbbdo7UB  
M/StTkb3aYnBbTLhHGnY8vm5n/aP7/1GZNqTbWxfmH5hm/2mDfT8hPK2eCCklGsnF+qlxpPu7 ecrespo@cenditel.gob.ve&lt;/code&gt;
La siguiente imagen muestra la informaci&amp;oacute;n desplegada en github:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/crearllavesshparalaautenticacionengithubgitoriusybitbucket-1.png"/&gt;&lt;/p&gt;
&lt;p&gt;Validar la comunicaci&amp;oacute;n con github.
Para validar la comunicaci&amp;oacute;n con la llave p&amp;uacute;blica se ejecuta lo siguiente:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ssh -T git@github.com&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Aparecer&amp;aacute; la siguiente informaci&amp;oacute;n:&lt;br/&gt;
&lt;code&gt;The authenticity of host 'github.com (207.97.227.239)' can't be established.
RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'github.com,207.97.227.239' (RSA) to the list of known hosts.
Hi ecrespo! You've successfully authenticated, but GitHub does not provide shell access.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Configurar la informaci&amp;oacute;n del usuario y correo en git:&lt;br/&gt;
&lt;code&gt;git config --global user.name "Ernesto Crespo"  
git config --global user.email "ecrespo@cenditel.gob.ve"&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Configurar el token github.&lt;/p&gt;
&lt;p&gt;Seleccione &lt;strong&gt;Account settings&lt;/strong&gt;, luego &lt;strong&gt;Account Admin&lt;/strong&gt;. Ah&amp;iacute; aparecer&amp;aacute; lo que se muestra en la siguiente figura:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/crearllavesshparalaautenticacionengithubgitoriusybitbucket-2.png"/&gt;&lt;/p&gt;
&lt;p&gt;Agregar al usuario github y el token:&lt;br/&gt;
&lt;code&gt;git config --global github.user ecrespo
git config --global github.token cf0fe21f4ff7fb51b686bb712347043e&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ya se tiene github configurado con la llave RSA del equipo asociado al correo.&lt;/p&gt;
&lt;p&gt;Para el caso de &lt;strong&gt;gitorius&lt;/strong&gt; se selecciona el &lt;strong&gt;dashboard&lt;/strong&gt;, luego se le da click a &lt;strong&gt;Manage SSH keys&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/crearllavesshparalaautenticacionengithubgitoriusybitbucket-3.png"/&gt;&lt;/p&gt;
&lt;p&gt;Le dan click a &lt;strong&gt;Add ssh keys&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/crearllavesshparalaautenticacionengithubgitoriusybitbucket-4.png"/&gt;&lt;/p&gt;
&lt;p&gt;Agregar la llave en &lt;strong&gt;bitbucket&lt;/strong&gt;.
Le dan click al &lt;strong&gt;Account&lt;/strong&gt; al ingresar a su cuenta en bitbucket.org: 
Se va al campo de &lt;strong&gt;ssh keys&lt;/strong&gt; y se agrega la llave como lo muestra la figura:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/crearllavesshparalaautenticacionengithubgitoriusybitbucket-5.png"/&gt;&lt;/p&gt;
&lt;p&gt;En el siguiente art&amp;iacute;culo se explicar&amp;aacute; como usar los comandos para clonar, hacer commit  y actualizar los controles de versiones distribuidos de github, gitorius y bitbucket.&lt;/p&gt;
&lt;h2 id="_1"&gt;&lt;/h2&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Canaima"></category><category term="Control de versiones"></category><category term="Debian"></category><category term="General"></category><category term="Linux"></category><category term="Mercurial"></category><category term="ssh"></category></entry><entry><title>Control de Versiones con mercurial</title><link href="https://ecrespo.github.io/control-de-versiones-con-mercurial.html" rel="alternate"></link><published>2009-04-08T08:00:00-05:30</published><updated>2009-04-08T08:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2009-04-08:/control-de-versiones-con-mercurial.html</id><summary type="html">&lt;p&gt;Mercurial es un sistema de control de versiones distribuido similar a git o
bazaar. Es una mezcla de la facilidad de subversion con la potencia de git.&lt;/p&gt;
&lt;p&gt;Para instalar mercurial en Debian se ejecuta un aptitude:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;aptitude install mercurial mercurial-common&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Para ver las opciones que tiene el comando hg se …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Mercurial es un sistema de control de versiones distribuido similar a git o
bazaar. Es una mezcla de la facilidad de subversion con la potencia de git.&lt;/p&gt;
&lt;p&gt;Para instalar mercurial en Debian se ejecuta un aptitude:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;aptitude install mercurial mercurial-common&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Para ver las opciones que tiene el comando hg se ejecuta hg s&amp;oacute;lo y muestra
lo siguiente:&lt;/p&gt;
&lt;p&gt;```
ecrespo@canaima:~/repositorio$ hg
Mercurial Distributed SCM&lt;/p&gt;
&lt;p&gt;basic commands:&lt;/p&gt;
&lt;p&gt;add add the specified files on the next commit
annotate show changeset information per file line
clone make a copy of an existing repository
commit commit the specified files or all outstanding changes
diff diff repository (or selected files)
export dump the header and diffs for one or more changesets
imerge interactive merge
init create a new repository in the given directory
inserve start an inotify server for this repository
log show revision history of entire repository or files
merge merge working directory with another revision
parents show the parents of the working dir or revision
pull pull changes from the specified source
push push changes to the specified destination
qdiff diff of the current patch and subsequent modifications
qimport import a patch
qinit init a new queue repository
qpop pop the current patch off the stack
qpush push the next patch onto the stack
qrefresh update the current patch
remove remove the specified files on the next commit
serve export the repository via HTTP
status show changed files in the working directory
strip strip a revision and all later revs on the same branch
update update working directory
view start interactive history viewer&lt;/p&gt;
&lt;p&gt;use "hg help" for the full list of commands or "hg -v" for details
```&lt;/p&gt;
&lt;p&gt;Para clonar un repositorio por ejemplo el de bitbucket.org de pyloro se jecuta:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hg clone http://bitbucket.org/ecrespo/pyloro/
destination directory: pyloro
requesting all changes
adding changesets
adding manifests
adding file changes
added 3 changesets with 26 changes to 20 files
updating working directory
20 files updated, 0 files merged, 0 files removed, 0 files unresolved&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Este comando hace una copia completa de otro repositorio.&lt;/p&gt;
&lt;p&gt;Al ejecutar ls se muestra lo siguiente:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ecrespo@canaima:~/repositorio$ ls -la
python-loro&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Dentro del directorio python-loro se tiene lo siguiente:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ConfigurepyLoro.py Festival.py MANIFEST pyloro.desktop pyloro.py setup.py Convert.py .hg PKG-INFO pyloro.glade README TODO audio COPYING images pyloro.conf pyloro.png Reproducir.py verifyconfig.py&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Note que existe un directorio .hg, dentro de el se encuentra lo siguiente:
00changelog.i branch branch.cache dirstate hgrc requires store undo.branch undo.dirstate&lt;/p&gt;
&lt;p&gt;Editar el archivo hgrc y agregar la informaci&amp;oacute;n del usuario, nombre y correo:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[paths]
default = http://bitbucket.org/ecrespo/pyloro/
[ui]
username = Ernesto Nadir Crespo Avila&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;El primero es la ruta de donde se bajo el repositorio, el segundo es la definici&amp;oacute;n del usuario.&lt;/p&gt;
&lt;p&gt;Para ver el log del control de versiones se ejecuta hg log dentro del directorio:&lt;/p&gt;
&lt;p&gt;```
ecrespo@canaima:~/repositorio/python-loro$ hg log
changeset: 0:8f241da3b2f9
tag: tip
user: ernesto@moonlighting
date: Wed Nov 05 23:32:58 2008 -0430
summary: Agregado pyloro a mercurial&lt;/p&gt;
&lt;p&gt;Para una descripci&amp;oacute;n m&amp;aacute;s detallada de log se ejecuta hg -v log
ecrespo@canaima:~/repositorio/pyloro$ hg -v log
changeset: 2:6d1d0bf8236c
tag: tip
user: ecrespo@canaima
date: Wed Apr 08 19:28:08 2009 -0430
files: ConfigurepyLoro.py Convert.py Festival.py Reproducir.py verifyconfig.py
description:
Change developer information in all files dot py&lt;/p&gt;
&lt;p&gt;changeset: 1:33662d0db317
user: ecrespo@canaima
date: Wed Apr 08 18:15:04 2009 -0430
files: pyloro.py
description:
Change developer team in pyloro.py&lt;/p&gt;
&lt;p&gt;changeset: 0:8f241da3b2f9
user: ernesto@moonlighting
date: Wed Nov 05 23:32:58 2008 -0430
files: COPYING ConfigurepyLoro.py Convert.py Festival.py MANIFEST PKG-INFO README Reproducir.py TODO audio/iniciando.ogg audio/terminando.ogg images/loro.png images/loro_icono.png pyloro.conf pyloro.desktop pyloro.glade pyloro.png pyloro.py setup.py verifyconfig.py
description:
Agregado pyloro a mercurial&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;Cada changeset es un conjunto de cambios agrupados como una unidad l&amp;oacute;gica, un tag
es una marca o nombre arbitrario para un changeset, un tip es el &amp;uacute;ltimo cambio que se
realiz&amp;oacute; al repositorio, reflejado en los logs.&lt;/p&gt;
&lt;p&gt;Para hacer modificaciones el repositorio se har&amp;aacute; una copia del repositorio para modificarlo:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hg clone pyloro pyloro-prueba
updating working directory
20 files updated, 0 files merged, 0 files removed, 0 files unresolved&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se edita el archivo readme y se hace el commit:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hg commit
Change TODO file
HG: Enter commit message. Lines beginning with 'HG:' are removed.
HG: --
HG: user: ecrespo@gmail.com
HG: branch 'default'
HG: changed TODO&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Al ejecutar hg status se nota que s&amp;oacute;lo ha cambiado el archivo README:&lt;/p&gt;
&lt;p&gt;```
changeset: 5:0ede87ad831c
tag: tip
user: ecrespo@canaima
date: Thu Apr 09 15:17:50 2009 -0430
summary: Change TODO file&lt;/p&gt;
&lt;p&gt;changeset: 4:02e20db62aa8
user: ecrespo@canaima
date: Thu Apr 09 15:14:13 2009 -0430
summary: Change team developer in README file&lt;/p&gt;
&lt;p&gt;changeset: 3:85f771c9708c
user: ecrespo@canaima
date: Thu Apr 09 15:12:06 2009 -0430
summary: Agregar al README como bajar pyloro del repositorio mercurial&lt;/p&gt;
&lt;p&gt;changeset: 2:6d1d0bf8236c
user: ecrespo@canaima
date: Wed Apr 08 19:28:08 2009 -0430
summary: Change developer information in all files dot py&lt;/p&gt;
&lt;p&gt;changeset: 1:33662d0db317
user: ecrespo@canaima
date: Wed Apr 08 18:15:04 2009 -0430
summary: Change developer team in pyloro.py&lt;/p&gt;
&lt;p&gt;changeset: 0:8f241da3b2f9
user: ernesto@moonlighting
date: Wed Nov 05 23:32:58 2008 -0430
summary: Agregado pyloro a mercurial
```&lt;/p&gt;
&lt;p&gt;Ya aparece el cambio que se hizo a los archivos en el historial.&lt;/p&gt;
&lt;p&gt;Para ver los tip de cada repositorio se ejecuta hg tip en cada repo:&lt;/p&gt;
&lt;p&gt;```
ecrespo@canaima:~/repositorio/pyloro-prueba$ hg tip
changeset: 5:0ede87ad831c
tag: tip
user: ecrespo@canaima
date: Thu Apr 09 15:17:50 2009 -0430
summary: Change TODO file&lt;/p&gt;
&lt;p&gt;ecrespo@canaima:~/repositorio/pyloro$ hg tip
changeset: 2:6d1d0bf8236c
tag: tip
user: ecrespo@canaima
date: Wed Apr 08 19:28:08 2009 -0430
summary: Change developer information in all files dot py
```&lt;/p&gt;
&lt;p&gt;Como se puede ver, los tips son diferentes por que se han hecho cambios en pyloro-prueba,
ahora  lo que viene es propagar los cambios a pyloro:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ecrespo@canaima:~/repositorio/pyloro$ hg pull ../pyloro-prueba
pulling from ../pyloro-prueba
searching for changes
adding changesets
adding manifests
adding file changes
added 3 changesets with 3 changes to 2 files
(run 'hg update' to get a working copy)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ecrespo@canaima:~/repositorio/pyloro$ hg update
2 files updated, 0 files merged, 0 files removed, 0 files unresolved&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se puede exportar un cambio para enviarlo por correo de la siguiente forma:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hg export tip &amp;gt; /tmp/my-patch&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Al revisar el archivo se muestra los cambios que se hicieron:&lt;/p&gt;
&lt;p&gt;```
ecrespo@canaima:~/repositorio/pyloro$ cat /tmp/my-patch&lt;/p&gt;
&lt;h1 id="hg changeset patch"&gt;HG changeset patch&lt;/h1&gt;
&lt;h1 id="user ecrespo@canaima"&gt;User ecrespo@canaima&lt;/h1&gt;
&lt;h1 id="date 1239306470 16200"&gt;Date 1239306470 16200&lt;/h1&gt;
&lt;h1 id="node id 0ede87ad831c232f5272f755cf4b49fa8b1e3c0d"&gt;Node ID 0ede87ad831c232f5272f755cf4b49fa8b1e3c0d&lt;/h1&gt;
&lt;h1 id="parent 02e20db62aa83c6253b4abf7c89719a873146b7f"&gt;Parent 02e20db62aa83c6253b4abf7c89719a873146b7f&lt;/h1&gt;
&lt;p&gt;Change TODO file&lt;/p&gt;
&lt;p&gt;diff -r 02e20db62aa8 -r 0ede87ad831c TODO
--- a/TODO Thu Apr 09 15:14:13 2009 -0430
+++ b/TODO Thu Apr 09 15:17:50 2009 -0430
@@ -1,4 +1,4 @@
-Lisot:
+Listo:&lt;/p&gt;
&lt;p&gt;(listo) - Seleccionar ubicaci&amp;oacute;n de archivo PDF y Salida de Texto
(listo) - pasar PDF a texto ( eje. pstotext /home/julioh/Desktop/LaCazaDeHackers.pdf &amp;gt; /home/julioh/Desktop/prueba.txt )
```&lt;/p&gt;
&lt;p&gt;Este archivo es un patch file en formato diff unificado.
Al enviar el archivo por correo a otro usuario, este deber&amp;aacute; importarlo para que se aplique los cambios.
Para fusionar los cambios por medio del archivo patch se crear&amp;aacute; una copia del repositorio para importar el parche:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hg clone pyloro pyloro-desc
updating working directory
20 files updated, 0 files merged, 0 files removed, 0 files unresolved&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;A continuaci&amp;oacute;n se va a agregar la fecha del copyright en los archivos *.py y se hace el commit:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hg commit -m "A&amp;ntilde;adido la fecha en el copyright de los archivos .py"&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se aplica los cambios realizados a pyloro:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ecrespo@canaima:~/repositorio/pyloro$ hg pull ../pyloro-desc
pulling from ../pyloro-desc
searching for changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 5 changes to 5 files
(run 'hg update' to get a working copy)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Luego hg update.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ecrespo@canaima:~/repositorio/pyloro$ hg update
5 files updated, 0 files merged, 0 files removed, 0 files unresolved&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Para subir la informaci&amp;oacute;n al servidor de repositorio mercurial se hace el commit
luego se hace push.&lt;/p&gt;
&lt;p&gt;```
hg commit&lt;/p&gt;
&lt;p&gt;hg push http://bitbucket.org/ecrespo/pyloro/
pushing to http://bitbucket.org/ecrespo/pyloro/
searching for changes
http authorization required
realm: Bitbucket.org HTTP
user: ecrespo
password:
bb/acl: ecrespo is allowed. accepted payload.
quota: 185.8 KB in use, 150.0 MB available (0.12% used)
```&lt;/p&gt;
&lt;p&gt;Al visitar la p&amp;aacute;gina del repositorio mercurial de pyloro tendr&amp;aacute;n lo siguiente:&lt;/p&gt;
&lt;p&gt;&lt;img alt="mercurial" src="./images/mercurial.png"/&gt;&lt;/p&gt;
&lt;p&gt;Por &amp;uacute;ltimo si se necesita soporte de trabajo en equipo en una red local, la soluci&amp;oacute;n
es usar el servidor web que viene incorporado con mercurial:&lt;/p&gt;
&lt;p&gt;Simplemente se ejecuta hg serve y se abre el navegador en la direcci&amp;oacute;n IP del equipo al puerto 8000.&lt;/p&gt;
&lt;p&gt;La siguiente imagen muestra el servidor de mercurial en su funcionamiento con la informaci&amp;oacute;n corta del log.&lt;/p&gt;
&lt;p&gt;&lt;img alt="mercurial web" src="./images/mercurial-web1.png"/&gt;&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Control de versiones"></category><category term="Mercurial"></category></entry></feed>