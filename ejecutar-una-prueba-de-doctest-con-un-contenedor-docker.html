<!doctype html>
<html lang="es" itemscope itemtype="http://schema.org/Person">
<head>
            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>Ejecutar una prueba de doctest con un contenedor Docker.</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Ernesto Crespo">

        <link rel="shortcut icon" href="">

        <!-- schema.org -->
        <meta itemprop="name" content="Página de Seraph">
        <meta itemprop="image" content="">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Página de Seraph ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="">
        <meta name="twitter:image" content="">

    <meta name="twitter:creator" content="">
    <meta name="twitter:url" content="https://ecrespo.github.io/ejecutar-una-prueba-de-doctest-con-un-contenedor-docker.html">
    <meta name="twitter:title" content="Página de Seraph ~ Ejecutar una prueba de doctest con un contenedor Docker.">
    <meta name="twitter:description" content="Ahora se mostrará como usar un contenedor de Docker para hacer pruebas doctest, este artículo se basa en un post anterior del blog llamado Separar código de pruebas de la documentación (doctest,2da parte). Los artículos anteriores sobre docker son: 1. Instalar Docker en Debian Jessie Uso de Docker en …">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="Página de Seraph ~ Ejecutar una prueba de doctest con un contenedor Docker."/>
    <meta property="og:description" content="Ahora se mostrará como usar un contenedor de Docker para hacer pruebas doctest, este artículo se basa en un post anterior del blog llamado Separar código de pruebas de la documentación (doctest,2da parte). Los artículos anteriores sobre docker son: 1. Instalar Docker en Debian Jessie Uso de Docker en …"/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <!--<center><a href="https://ecrespo.github.io"><img id="avatar" src=""></a></center>-->
    <h1>Página de Seraph</h1>
    <br>


    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="/archives.html">Archives</a></li>
                <li><a class="nav__link" href="/categories.html">Categories</a></li>
                <li><a class="nav__link" href="/tags.html">Tags</a></li>

                <li><a class="nav__link" href="https://ecrespo.github.io/pages/About.html">Acerca</a></li>
                <li><a class="nav__link" href="https://ecrespo.github.io/pages/Contacto.html">Contacto</a></li>

        </ul>
    </nav>

    <p class="social">
                <a href="https://medium.com/@_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/medium.png"></a>
                <a href="http://ve.linkedin.com/in/ernestocrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/linkedin.png"></a>
                <a href="https://github.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/github.png"></a>
                <a href="https://google.com/+ErnestoCrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/google.png"></a>
                <a href="https://twitter.com/_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/twitter.png"></a>
                <a href="https://www.facebook.com/ernesto.crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/facebook.png"></a>
                <a href="https://gitlab.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/gitlab.png"></a>
                <a href="https://soundcloud.com/ernesto-crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/soundcloud.png"></a>
                <a href="//www.seraph.to/feeds/all.atom.xml" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
            <a href="https://ecrespo.github.io/feeds/all.atom.xml" rel="alternate">
                <img src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
    </p>

        <h2>Categories</h2>
        <ul class="navbar">
                <li><a
                        href="https://ecrespo.github.io/category/accesibilidad.html">Accesibilidad</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncio.html">Anuncio</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncios.html">Anuncios</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/aplicacion-android.html">Aplicación Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/asterisk-debian-linux.html">Asterisk, Debian, Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla.html">Charla</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla-python.html">Charla Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-linux-mac-book.html">Debian, Linux, Mac Book</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-maemo-nokia-n810-python.html">Debian, maemo, Nokia N810, Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/demostracion-aplicacion-para-android.html">Demostración Aplicación para Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/desarrollomovil.html">Desarrollo,Movil</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/evento.html">Evento</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/general.html">General</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linux.html">Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdebian.html">Linux,Debian</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdesarrollo.html">Linux,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxempaquetado.html">Linux,Empaquetado</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxofimaticadesarrollo.html">Linux,Ofimatica,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/movil-nokia.html">Movil, Nokia</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810.html">Nokia N810</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810-debian-maemo.html">Nokia N810 Debian Maemo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/posts.html">posts</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/resumen-2010.html">Resumen 2010</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/sistemas-operativos.html">Sistemas Operativos</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial.html">Tutorial</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-android.html">Tutorial Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-arduino.html">Tutorial de Arduino</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-data-science.html">Tutorial de Data Science</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-docker.html">Tutorial de Docker</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-integracion-continua.html">Tutorial de integración continua</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-linux.html">Tutorial de Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python.html">Tutorial de Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-en-android.html">Tutorial de Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-linux.html">Tutorial de Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-pyqt.html">Tutorial de Python y PyQt</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-debian-bsd-y-python.html">Tutorial Debian BSD y Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux.html">Tutorial Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux-y-python.html">Tutorial Linux y Python</a></li>
                <li class="active"><a
                        href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-en-android.html">Tutorial Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-y-linux.html">Tutorial Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorialdesarrollo.html">Tutorial,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/xml-rpcpython.html">XML-RPC,Python</a></li>
        </ul>


</aside>

<!-- Content -->
<article>
    <section id="content">
        <article>
            <h2 class="post_title post_detail"><a href="https://ecrespo.github.io/ejecutar-una-prueba-de-doctest-con-un-contenedor-docker.html" rel="bookmark"
                                                  title="Permalink to Ejecutar una prueba de doctest con un contenedor Docker.">Ejecutar una prueba de doctest con un contenedor Docker.</a></h2>
            <div class="entry-content blog-post">
                <p>Ahora se mostrará como usar un contenedor de Docker para hacer pruebas doctest, este artículo se basa en un post anterior del blog llamado <a href="https://www.seraph.to/separar-codigo-de-pruebas-de-la-documentacion-doctest-2da-parte.html">Separar código de pruebas de la documentación (doctest,2da parte)</a>.</p>
<p>Los artículos anteriores sobre docker son:<br>
1. <a href="https://www.seraph.to/instalar-docker-en-debian-jessie.html">Instalar Docker en Debian Jessie</a>  </p>
<ol>
<li>
<p><a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-1.html">Uso de Docker en Debian Jessie (parte 1)</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-2.html">Uso de Docker en Debian Jessie (parte 2)</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/crear-una-imagen-docker-a-partir-de-un-archivo-dockerfile.html">Crear una imagen Docker a partir de un archivo Dockerfile</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/iniciando-django-usando-docker.html">Iniciando Django usando Docker</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/instalar-gitlab-por-medio-de-docker.html">Instalar Gitlab por medio de Docker</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/ejecutando-micros-servicios-con-docker-usando-docker-compose.html">Ejecutando microservicios con docker usando docker-compose</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/docker-en-docker-dind.html">Docker en Docker (DinD)</a></p>
</li>
<li>
<p><a href="https://www.seraph.to/iniciando-django-con-docker-usando-docker-compose-con-postgresql-como-microservicio.html">Iniciando Django con docker usando docker-compose con postgresql como microservicio.</a></p>
</li>
<li>
<p><a href="https://www.seraph.to/importar-un-contenedor-docker-en-python.html#importar-un-contenedor-docker-en-python">Importar un contenedor Docker en Python.</a> </p>
</li>
<li>
<p><a href="https://www.seraph.to/compartir-imagenes-docker-por-medio-de-archivos-tar.html#compartir-imagenes-docker-por-medio-de-archivos-tar">Compartir imagenes Docker por medio de archivos tar</a>.</p>
</li>
<li>
<p><a href="https://www.seraph.to/crear-un-registro-de-imagenes-docker-privado.html#crear-un-registro-de-imagenes-docker-privado">Crear un registro de imagenes Docker privado.</a></p>
</li>
<li>
<p><a href="https://www.seraph.to/usar-anaconda-desde-un-contenedor-docker.html#usar-anaconda-desde-un-contenedor-docker">Usar Anaconda desde un contenedor Docker.</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/crear-un-entorno-de-integracion-y-despligue-continue-con-docker-para-nodejs.html#crear-un-entorno-de-integracion-y-despligue-continue-con-docker-para-nodejs">Crear un entorno de Integración y Despligue continue con Docker para node.js.</a>  </p>
</li>
<li>
<p><a href="https://www.seraph.to/usar-jupyter-notebook-desde-un-contenedor-de-docker.html#usar-jupyter-notebook-desde-un-contenedor-de-docker">Usar Jupyter Notebook desde un contenedor Docker.</a>  </p>
</li>
</ol>
<p>Se tendrán 3 archivos en un directorio que se llamará <code>pruebas-doctest</code> con lo siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="err">pruebas-doctest</span>
<span class="err">├── Dockerfile</span>
<span class="err">├── raizcuadrada.py</span>
<span class="err">└── raizcuadrada.txt</span>
</code></pre></div>

<p>El archivo <code>Dockerfile</code> contendrá lo siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="k">FROM</span> <span class="n">python</span><span class="p">:</span><span class="mi">3</span><span class="p">.</span><span class="mi">4</span>
<span class="n">MAINTAINER</span> <span class="n">Ernesto</span> <span class="n">Crespo</span>

<span class="n">WORKDIR</span> <span class="o">/</span><span class="n">app</span>
<span class="k">COPY</span> <span class="p">.</span> <span class="o">/</span><span class="n">app</span>
</code></pre></div>

<p>Se usará python 3.4, el mantenedor es Ernesto Crespo, el directorio de trabajo será app y se copiará todo lo que está en el directorio al directorio de trabajo.</p>
<p>Se tiene el archivo <code>raizcuadrada.py</code> con lo siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>


<span class="c1"># -*- coding: utf-8 -*-</span>


<span class="sd">&quot;&quot;&quot;</span>


<span class="sd">Se importa el módulo math para calcular la raiz cuadrada.</span>


<span class="sd">&quot;&quot;&quot;</span>


<span class="kn">import</span> <span class="nn">math</span>



<span class="c1">#Función raiz cuadrada.</span>


<span class="k">def</span> <span class="nf">Raiz</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>


    <span class="sd">&quot;&quot;&quot;Si a es mayor o igual a cero se calcula la raiz cuadrada&quot;&quot;&quot;</span>


    <span class="k">if</span> <span class="n">a</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>


        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>


    <span class="c1">#Si es menor a cero se genera una excepción donde se informa que a debe ser mayor o igual a cero.</span>


    <span class="k">else</span><span class="p">:</span>


        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;a debe ser &gt;= 0&quot;</span><span class="p">)</span>





<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>


    <span class="c1">#Se importa el módulo doctest</span>


    <span class="kn">import</span> <span class="nn">doctest</span>


    <span class="c1">#Se realiza la prueba al archivo raizcuadra.txt</span>


    <span class="n">doctest</span><span class="o">.</span><span class="n">testfile</span><span class="p">(</span><span class="s2">&quot;raizcuadrada.txt&quot;</span><span class="p">)</span>
</code></pre></div>

<p>Y el último de los archivos es <code>raizcuadrada.txt</code> el cual tendrá las pruebas de doctest:</p>
<div class="highlight"><pre><span></span><code><span class="n">Modulo</span> <span class="n">raiz</span> <span class="n">cuadrada</span>


<span class="o">=====================</span>


<span class="n">Usando</span>  <span class="s1">&#39;raizcuadrada&#39;</span>


<span class="o">------------------------------</span>


<span class="n">Primero</span> <span class="n">se</span> <span class="n">importa</span> <span class="n">la</span> <span class="n">función</span><span class="p">:</span>





<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">raizcuadrada</span> <span class="kn">import</span> <span class="n">Raiz</span>





<span class="n">Ejemplos</span> <span class="n">de</span> <span class="n">calculo</span> <span class="n">de</span> <span class="n">raiz</span> <span class="n">cuadrada</span><span class="p">:</span>





<span class="o">&gt;&gt;&gt;</span> <span class="n">Raiz</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>


<span class="mf">2.0</span>





<span class="o">&gt;&gt;&gt;</span> <span class="n">Raiz</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>


<span class="mf">3.0</span>





<span class="o">&gt;&gt;&gt;</span> <span class="n">Raiz</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>


<span class="mf">5.0</span>





<span class="o">&gt;&gt;&gt;</span> <span class="n">Raiz</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


<span class="mf">0.0</span>





<span class="o">&gt;&gt;&gt;</span> <span class="n">Raiz</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>


<span class="mf">5.0</span>





<span class="o">&gt;&gt;&gt;</span> <span class="n">Raiz</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>


<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>


<span class="o">...</span>


<span class="ne">ValueError</span><span class="p">:</span> <span class="n">a</span> <span class="n">debe</span> <span class="n">ser</span> <span class="o">&gt;=</span> <span class="mi">0</span>
</code></pre></div>

<p>El archivo tiene un error intencional en el cálculo de la raíz cuadrada de 16 que debe dar 4 y se coloco que da 5.</p>
<p>Ahora se construye la imagen con nombre <code>pruebas-doctest</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">docker</span> <span class="n">build</span> <span class="o">-</span><span class="n">t</span> <span class="n">pruebas</span><span class="o">-</span><span class="n">doctest</span> <span class="o">.</span>
<span class="n">Sending</span> <span class="n">build</span> <span class="n">context</span> <span class="n">to</span> <span class="n">Docker</span> <span class="n">daemon</span>  <span class="mf">5.12</span> <span class="n">kB</span>
<span class="n">Step</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">FROM</span> <span class="n">python</span><span class="p">:</span><span class="mf">3.4</span>
<span class="mf">3.4</span><span class="p">:</span> <span class="n">Pulling</span> <span class="n">from</span> <span class="n">library</span><span class="o">/</span><span class="n">python</span>
<span class="n">fdd5d7827f33</span><span class="p">:</span> <span class="n">Downloading</span> <span class="mf">11.35</span> <span class="n">MB</span>
<span class="n">fdd5d7827f33</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span> 
<span class="n">a3ed95caeb02</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span> 
<span class="mi">0</span><span class="n">f35d0fe50cc</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span> 
<span class="mi">7</span><span class="n">b40647e93b7</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span> 
<span class="n">ce5207842c4c</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span> 
<span class="n">da7994e536a7</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span> 
<span class="mi">09482</span><span class="n">b8dda8a</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span> 
<span class="mi">5</span><span class="n">ba79222c836</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span> 
<span class="n">Digest</span><span class="p">:</span> <span class="n">sha256</span><span class="p">:</span><span class="mi">8</span><span class="n">bcba46a3dbf4803c80074c0e543d98eeb3cb4f9cc35ff52f88c53cc0a1c30c3</span>
<span class="n">Status</span><span class="p">:</span> <span class="n">Downloaded</span> <span class="n">newer</span> <span class="n">image</span> <span class="k">for</span> <span class="n">python</span><span class="p">:</span><span class="mf">3.4</span>
 <span class="o">---&gt;</span> <span class="n">c40d327867e9</span>
<span class="n">Step</span> <span class="mi">2</span> <span class="p">:</span> <span class="n">MAINTAINER</span> <span class="n">Ernesto</span> <span class="n">Crespo</span>
 <span class="o">---&gt;</span> <span class="n">Running</span> <span class="ow">in</span> <span class="n">de81df2565f3</span>
 <span class="o">---&gt;</span> <span class="mi">3</span><span class="n">b1aced33b5e</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">de81df2565f3</span>
<span class="n">Step</span> <span class="mi">3</span> <span class="p">:</span> <span class="n">WORKDIR</span> <span class="o">/</span><span class="n">app</span>
 <span class="o">---&gt;</span> <span class="n">Running</span> <span class="ow">in</span> <span class="n">f1901c2490d7</span>
 <span class="o">---&gt;</span> <span class="mi">7</span><span class="n">dd09842cf61</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">f1901c2490d7</span>
<span class="n">Step</span> <span class="mi">4</span> <span class="p">:</span> <span class="n">COPY</span> <span class="o">.</span> <span class="o">/</span><span class="n">app</span>
 <span class="o">---&gt;</span> <span class="mi">788</span><span class="n">ad6d153ed</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">b32ba65862d9</span>
<span class="n">Successfully</span> <span class="n">built</span> <span class="mi">788</span><span class="n">ad6d153ed</span>
</code></pre></div>

<p>Ahora se ejecuta la prueba pasando <code>python -m doctest -v raizcuadrada.txt</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">docker</span> <span class="n">run</span> <span class="n">pruebas</span><span class="o">-</span><span class="n">doctest</span> <span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">doctest</span> <span class="o">-</span><span class="n">v</span> <span class="n">raizcuadrada</span><span class="o">.</span><span class="n">txt</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">raizcuadrada</span> <span class="kn">import</span> <span class="n">Raiz</span>
<span class="n">Expecting</span> <span class="n">nothing</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="mf">2.0</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="mf">3.0</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="mf">5.0</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="mf">0.0</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="mf">5.0</span>
<span class="o">**********************************************************************</span>
<span class="n">File</span> <span class="s2">&quot;raizcuadrada.txt&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">23</span><span class="p">,</span> <span class="ow">in</span> <span class="n">raizcuadrada</span><span class="o">.</span><span class="n">txt</span>
<span class="n">Failed</span> <span class="n">example</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="n">Expected</span><span class="p">:</span>
    <span class="mf">5.0</span>
<span class="n">Got</span><span class="p">:</span>
    <span class="mf">4.0</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="ne">ValueError</span><span class="p">:</span> <span class="n">a</span> <span class="n">debe</span> <span class="n">ser</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<span class="n">ok</span>
<span class="o">**********************************************************************</span>
<span class="mi">1</span> <span class="n">items</span> <span class="n">had</span> <span class="n">failures</span><span class="p">:</span>
   <span class="mi">1</span> <span class="n">of</span>   <span class="mi">7</span> <span class="ow">in</span> <span class="n">raizcuadrada</span><span class="o">.</span><span class="n">txt</span>
<span class="mi">7</span> <span class="n">tests</span> <span class="ow">in</span> <span class="mi">1</span> <span class="n">items</span><span class="o">.</span>
<span class="mi">6</span> <span class="n">passed</span> <span class="ow">and</span> <span class="mi">1</span> <span class="n">failed</span><span class="o">.</span>
<span class="o">***</span><span class="n">Test</span> <span class="n">Failed</span><span class="o">***</span> <span class="mi">1</span> <span class="n">failures</span><span class="o">.</span>
</code></pre></div>

<p>El resultado es que se logró pasar 6 pruebas y una no paso, se arregla el valor que debe devolver en el archivo <code>raizcuadrada.txt</code> y se vuelve a ejecutar la construcción y ejecución :</p>
<div class="highlight"><pre><span></span><code><span class="n">docker</span> <span class="n">build</span> <span class="o">-</span><span class="n">t</span> <span class="n">pruebas</span><span class="o">-</span><span class="n">doctest</span> <span class="o">.</span>
<span class="n">Sending</span> <span class="n">build</span> <span class="n">context</span> <span class="n">to</span> <span class="n">Docker</span> <span class="n">daemon</span> <span class="mf">4.608</span> <span class="n">kB</span>
<span class="n">Step</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">FROM</span> <span class="n">python</span><span class="p">:</span><span class="mf">3.4</span>
 <span class="o">---&gt;</span> <span class="n">c40d327867e9</span>
<span class="n">Step</span> <span class="mi">2</span> <span class="p">:</span> <span class="n">MAINTAINER</span> <span class="n">Ernesto</span> <span class="n">Crespo</span>
 <span class="o">---&gt;</span> <span class="n">Using</span> <span class="n">cache</span>
 <span class="o">---&gt;</span> <span class="mi">3</span><span class="n">b1aced33b5e</span>
<span class="n">Step</span> <span class="mi">3</span> <span class="p">:</span> <span class="n">WORKDIR</span> <span class="o">/</span><span class="n">app</span>
 <span class="o">---&gt;</span> <span class="n">Using</span> <span class="n">cache</span>
 <span class="o">---&gt;</span> <span class="mi">7</span><span class="n">dd09842cf61</span>
<span class="n">Step</span> <span class="mi">4</span> <span class="p">:</span> <span class="n">COPY</span> <span class="o">.</span> <span class="o">/</span><span class="n">app</span>
 <span class="o">---&gt;</span> <span class="mi">47</span><span class="n">a9b0467413</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="mi">8</span><span class="n">a375d3abc0c</span>
<span class="n">Successfully</span> <span class="n">built</span> <span class="mi">47</span><span class="n">a9b0467413</span>

<span class="n">docker</span> <span class="n">run</span> <span class="n">pruebas</span><span class="o">-</span><span class="n">doctest</span> <span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">doctest</span> <span class="o">-</span><span class="n">v</span> <span class="n">raizcuadrada</span><span class="o">.</span><span class="n">txt</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">raizcuadrada</span> <span class="kn">import</span> <span class="n">Raiz</span>
<span class="n">Expecting</span> <span class="n">nothing</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="mf">2.0</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="mf">3.0</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="mf">5.0</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="mf">0.0</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="mf">4.0</span>
<span class="n">ok</span>
<span class="n">Trying</span><span class="p">:</span>
    <span class="n">Raiz</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Expecting</span><span class="p">:</span>
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="ne">ValueError</span><span class="p">:</span> <span class="n">a</span> <span class="n">debe</span> <span class="n">ser</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<span class="n">ok</span>
<span class="mi">1</span> <span class="n">items</span> <span class="n">passed</span> <span class="nb">all</span> <span class="n">tests</span><span class="p">:</span>
   <span class="mi">7</span> <span class="n">tests</span> <span class="ow">in</span> <span class="n">raizcuadrada</span><span class="o">.</span><span class="n">txt</span>
<span class="mi">7</span> <span class="n">tests</span> <span class="ow">in</span> <span class="mi">1</span> <span class="n">items</span><span class="o">.</span>
<span class="mi">7</span> <span class="n">passed</span> <span class="ow">and</span> <span class="mi">0</span> <span class="n">failed</span><span class="o">.</span>
<span class="n">Test</span> <span class="n">passed</span><span class="o">.</span>
</code></pre></div>

<p>Ahora si se logró pasar todas las pruebas de doctest.</p>
<h2></h2>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
            </div>
            <div class="post_list">
                <span>By </span>
                <a href="https://ecrespo.github.io/author/ernesto-crespo.html">@Ernesto Crespo</a>
                <span> in </span>
                <span class="post_category"><a href="https://ecrespo.github.io/category/tutorial-python.html" rel="bookmark"
                                               title="Permalink to Tutorial Python">[ Tutorial Python ]</a></span>
                <span class="post_date">dom 27 marzo 2016</span>
                <div><span>Tags : </span>
                            <span><a href="https://ecrespo.github.io/tag/python.html">#Python, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/docker.html">#Docker, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/jupyter-notebook.html">#Jupyter Notebook, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/devops.html">#DevOps, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/doctest.html">#Doctest, </a></span>
                </div>

                <div class="entry-social">
                    <span class="twitter"><a target="_blank" rel="nofollow"
                                             onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;"
                                             title="Twitter"
                                             href="https://twitter.com/share?url=https://ecrespo.github.io/ejecutar-una-prueba-de-doctest-con-un-contenedor-docker.html&text=Ejecutar una prueba de doctest con un contenedor Docker.&via="><img
                            src="https://ecrespo.github.io/theme/images/icons/twitter-s.png"></a></span>

                    <span class="gplus"><a target="_blank" title="Google +"
                                           href="https://plus.google.com/share?url=https://ecrespo.github.io/ejecutar-una-prueba-de-doctest-con-un-contenedor-docker.html&hl=fr"
                                           rel="nofollow"
                                           onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/google-s.png"></a></span>

                    <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow"
                                              onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;"
                                              href="https://www.facebook.com/sharer.php?u=https://ecrespo.github.io/ejecutar-una-prueba-de-doctest-con-un-contenedor-docker.html&t=Ejecutar una prueba de doctest con un contenedor Docker."><img
                            src="https://ecrespo.github.io/theme/images/icons/facebook-s.png"></a></span>

                    <a target="_blank" title="Linkedin"
                       href="https://www.linkedin.com/shareArticle?mini=true&url=https://ecrespo.github.io/ejecutar-una-prueba-de-doctest-con-un-contenedor-docker.html&title=Ejecutar una prueba de doctest con un contenedor Docker."
                       rel="nofollow"
                       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/linkedin-s.png"></a>

                    <span class="mail"><a
                            href="mailto:?subject=Ejecutar una prueba de doctest con un contenedor Docker.&amp;body=Viens découvrir un article à propos de [Ejecutar una prueba de doctest con un contenedor Docker.] sur le site de Ernesto Crespo. https://ecrespo.github.io/ejecutar-una-prueba-de-doctest-con-un-contenedor-docker.html"
                            title="Share by Email" target="_blank"><img
                            src="https://ecrespo.github.io/theme/images/icons/mail-s.png"></a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Comments !</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "ejecutar-una-prueba-de-doctest-con-un-contenedor-docker.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://https://seraphto.disqus.com.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
            Blog powered by <a href="http://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="http://python.org">Python</a>.
            Theme <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> by <a
                href="https://parbhatpuri.com/">@parbhat</a>.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-131517246-1']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>