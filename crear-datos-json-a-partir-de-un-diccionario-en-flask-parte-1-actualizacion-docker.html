<!doctype html>
<html lang="es" itemscope itemtype="http://schema.org/Person">
<head>
            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Ernesto Crespo">

        <link rel="shortcut icon" href="">

        <!-- schema.org -->
        <meta itemprop="name" content="Página de Seraph">
        <meta itemprop="image" content="">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Página de Seraph ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="">
        <meta name="twitter:image" content="">

    <meta name="twitter:creator" content="">
    <meta name="twitter:url" content="https://ecrespo.github.io/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1-actualizacion-docker.html">
    <meta name="twitter:title" content="Página de Seraph ~ Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)">
    <meta name="twitter:description" content="El artículo original lo pueden revisar acá. El repositorio donde se encuentra el código en gitlab en la rama json1. Los artículos sobre Flask lo pueden revisar en el enlace de artículos sobre flask. Archivo Dockerfile Se tiene el archivo Dockerfile a continuación: FROM python WORKDIR /code RUN pip3 install …">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="Página de Seraph ~ Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)"/>
    <meta property="og:description" content="El artículo original lo pueden revisar acá. El repositorio donde se encuentra el código en gitlab en la rama json1. Los artículos sobre Flask lo pueden revisar en el enlace de artículos sobre flask. Archivo Dockerfile Se tiene el archivo Dockerfile a continuación: FROM python WORKDIR /code RUN pip3 install …"/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <!--<center><a href="https://ecrespo.github.io"><img id="avatar" src=""></a></center>-->
    <h1>Página de Seraph</h1>
    <br>


    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="/archives.html">Archives</a></li>
                <li><a class="nav__link" href="/categories.html">Categories</a></li>
                <li><a class="nav__link" href="/tags.html">Tags</a></li>

                <li><a class="nav__link" href="https://ecrespo.github.io/pages/About.html">Acerca</a></li>
                <li><a class="nav__link" href="https://ecrespo.github.io/pages/Contacto.html">Contacto</a></li>

        </ul>
    </nav>

    <p class="social">
                <a href="https://medium.com/@_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/medium.png"></a>
                <a href="http://ve.linkedin.com/in/ernestocrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/linkedin.png"></a>
                <a href="https://github.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/github.png"></a>
                <a href="https://google.com/+ErnestoCrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/google.png"></a>
                <a href="https://twitter.com/_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/twitter.png"></a>
                <a href="https://www.facebook.com/ernesto.crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/facebook.png"></a>
                <a href="https://gitlab.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/gitlab.png"></a>
                <a href="https://soundcloud.com/ernesto-crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/soundcloud.png"></a>
                <a href="//www.seraph.to/feeds/all.atom.xml" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
            <a href="https://ecrespo.github.io/feeds/all.atom.xml" rel="alternate">
                <img src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
    </p>

        <h2>Categories</h2>
        <ul class="navbar">
                <li><a
                        href="https://ecrespo.github.io/category/accesibilidad.html">Accesibilidad</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncio.html">Anuncio</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncios.html">Anuncios</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/aplicacion-android.html">Aplicación Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/asterisk-debian-linux.html">Asterisk, Debian, Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla.html">Charla</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla-python.html">Charla Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-linux-mac-book.html">Debian, Linux, Mac Book</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-maemo-nokia-n810-python.html">Debian, maemo, Nokia N810, Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/demostracion-aplicacion-para-android.html">Demostración Aplicación para Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/desarrollomovil.html">Desarrollo,Movil</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/evento.html">Evento</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/general.html">General</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linux.html">Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdebian.html">Linux,Debian</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdesarrollo.html">Linux,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxempaquetado.html">Linux,Empaquetado</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxofimaticadesarrollo.html">Linux,Ofimatica,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/movil-nokia.html">Movil, Nokia</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810.html">Nokia N810</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810-debian-maemo.html">Nokia N810 Debian Maemo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/posts.html">posts</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/resumen-2010.html">Resumen 2010</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/sistemas-operativos.html">Sistemas Operativos</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial.html">Tutorial</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-android.html">Tutorial Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-arduino.html">Tutorial de Arduino</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-data-science.html">Tutorial de Data Science</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-docker.html">Tutorial de Docker</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-integracion-continua.html">Tutorial de integración continua</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-linux.html">Tutorial de Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python.html">Tutorial de Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-en-android.html">Tutorial de Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-linux.html">Tutorial de Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-pyqt.html">Tutorial de Python y PyQt</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-debian-bsd-y-python.html">Tutorial Debian BSD y Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux.html">Tutorial Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux-y-python.html">Tutorial Linux y Python</a></li>
                <li class="active"><a
                        href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-en-android.html">Tutorial Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-y-linux.html">Tutorial Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorialdesarrollo.html">Tutorial,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/xml-rpcpython.html">XML-RPC,Python</a></li>
        </ul>


</aside>

<!-- Content -->
<article>
    <section id="content">
        <article>
            <h2 class="post_title post_detail"><a href="https://ecrespo.github.io/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1-actualizacion-docker.html" rel="bookmark"
                                                  title="Permalink to Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)">Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)</a></h2>
            <div class="entry-content blog-post">
                <p>El artículo original lo pueden revisar <a href="https://www.seraph.to/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1.html">acá</a>.</p>
<p>El repositorio donde se encuentra el código en <a href="https://gitlab.com/ecrespo/tutorial-flask/tree/json1">gitlab en la rama json1</a>.</p>
<p>Los artículos sobre Flask lo pueden revisar en el enlace de <a href="https://www.seraph.to/tag/flask.html">artículos sobre flask</a>. </p>
<h3>Archivo Dockerfile</h3>
<p>Se tiene el archivo Dockerfile a continuación:</p>
<div class="highlight"><pre><span></span><code><span class="n">FROM</span> <span class="n">python</span>

<span class="n">WORKDIR</span> <span class="o">/</span><span class="n">code</span>



<span class="n">RUN</span> <span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>

<span class="n">RUN</span> <span class="n">pip3</span> <span class="n">install</span>  <span class="n">flask</span>

<span class="n">EXPOSE</span> <span class="mi">5000</span>



<span class="n">ADD</span> <span class="o">.</span> <span class="o">/</span><span class="n">code</span>

<span class="n">CMD</span> <span class="n">python</span> <span class="n">app</span><span class="o">.</span><span class="n">py</span>
</code></pre></div>

<p>El único cambio con respecto a la serie de tutoriales de Flask es que corre <code>app.py</code> en vez de <code>run.py</code>, se eliminaron varias dependencias de paquetes para simplificar la aplicación.</p>
<h3>Archivo docker-compose.yml</h3>
<p>El archivo <code>docker-compose.yml</code> se le cambia el nombre a la imagen, a continuación el código del archivo:</p>
<div class="highlight"><pre><span></span><code><span class="n">tutorial</span><span class="o">-</span><span class="n">json1</span><span class="p">:</span>


  <span class="n">build</span><span class="p">:</span> <span class="p">.</span>


  <span class="n">ports</span><span class="p">:</span>


   <span class="o">-</span> <span class="ss">&quot;5000:5000&quot;</span>


  <span class="n">volumes</span><span class="p">:</span>


   <span class="o">-</span> <span class="p">.:</span><span class="o">/</span><span class="n">code</span>
</code></pre></div>

<h3>Archivo app.py</h3>
<p>El archivo <code>app.py</code> el único cambio con respecto al artículo anterior es que levanta el run en modo debug y se le dice la ip 0.0.0.0 a fin de que funcione desde el contenedor, el código a continuación:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python</span>


<span class="c1">#Se importa de flask a Flask, jsonify y json</span>


<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span><span class="n">jsonify</span><span class="p">,</span><span class="n">json</span>


<span class="c1">#Se crea la instancia de la aplicacion</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>





<span class="c1">#Se tiene una lista de nombres</span>


<span class="n">lista</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;John Doe&quot;</span><span class="p">,</span><span class="s2">&quot;Jane Doe&quot;</span><span class="p">]</span>


<span class="c1">#Se crea</span>


<span class="c1">#Se define el decorador route donde se da la ruta del servidor web.</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/ListaEmpleados&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">ListaEmpleados</span><span class="p">():</span>


    <span class="k">try</span><span class="p">:</span>


        <span class="c1">#inicializar la lista de empleados</span>


        <span class="n">listaEmpleados</span> <span class="o">=</span> <span class="p">[]</span>


        <span class="c1">#crear instancias para llenar la lista</span>


        <span class="k">for</span> <span class="n">i</span>  <span class="ow">in</span> <span class="n">lista</span><span class="p">:</span>


            <span class="n">datos</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>


            <span class="n">listaEmpleados</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">datos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;apellido&#39;</span><span class="p">:</span> <span class="n">datos</span><span class="p">[</span><span class="mi">1</span><span class="p">]})</span>


        <span class="c1"># convertir en dato json al diccionario</span>


        <span class="n">jsonStr</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">listaEmpleados</span><span class="p">)</span>


    <span class="k">except</span> <span class="p">(</span><span class="ne">Exception</span> <span class="p">,</span><span class="n">e</span><span class="p">):</span>


        <span class="nb">print</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>


    <span class="c1">#Retorna el json</span>


    <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">Empleados</span><span class="o">=</span><span class="n">jsonStr</span><span class="p">)</span>








<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>


    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

<h3>Ejecución</h3>
<p>Ahora se construye la imagen y se ejecuta el contenedor Docker:</p>
<div class="highlight"><pre><span></span><code><span class="err">docker-compose build</span>
<span class="err">docker-compose up</span>
</code></pre></div>

<p>Al abri el navegador  en la dirección http://localhost:5000/ListaEmpleados se tiene la imagen a continuación:</p>
<p><img alt="" src="./images/creardatosjsonapartirdeundiccionarioenflaskactualizaciondocker1-1.png"> </p>
<p>La imagen muestra el json en el navegador.</p>
<p>La salida de la ejecución del contenedor es la siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="err">Creating tutorialflask_tutorial-json1_1</span>
<span class="err">Attaching to tutorialflask_tutorial-json1_1</span>
<span class="err">tutorial-json1_1 |  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)</span>
<span class="err">tutorial-json1_1 |  * Restarting with stat</span>
<span class="err">tutorial-json1_1 |  * Debugger is active!</span>
<span class="err">tutorial-json1_1 |  * Debugger pin code: 733-227-386</span>
<span class="err">tutorial-json1_1 | 172.17.0.1 - - [25/Sep/2016 18:44:22] &quot;GET /ListaEmpleados HTTP/1.1&quot; 200 -</span>
</code></pre></div>

<p>En próximo artículo se trabajará más con el json, como se menciona en el artículo original.</p>
<h2></h2>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
            </div>
            <div class="post_list">
                <span>By </span>
                <a href="https://ecrespo.github.io/author/ernesto-crespo.html">@Ernesto Crespo</a>
                <span> in </span>
                <span class="post_category"><a href="https://ecrespo.github.io/category/tutorial-python.html" rel="bookmark"
                                               title="Permalink to Tutorial Python">[ Tutorial Python ]</a></span>
                <span class="post_date">dom 25 septiembre 2016</span>
                <div><span>Tags : </span>
                            <span><a href="https://ecrespo.github.io/tag/python.html">#Python, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/flask.html">#Flask, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/json.html">#json, </a></span>
                </div>

                <div class="entry-social">
                    <span class="twitter"><a target="_blank" rel="nofollow"
                                             onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;"
                                             title="Twitter"
                                             href="https://twitter.com/share?url=https://ecrespo.github.io/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1-actualizacion-docker.html&text=Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)&via="><img
                            src="https://ecrespo.github.io/theme/images/icons/twitter-s.png"></a></span>

                    <span class="gplus"><a target="_blank" title="Google +"
                                           href="https://plus.google.com/share?url=https://ecrespo.github.io/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1-actualizacion-docker.html&hl=fr"
                                           rel="nofollow"
                                           onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/google-s.png"></a></span>

                    <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow"
                                              onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;"
                                              href="https://www.facebook.com/sharer.php?u=https://ecrespo.github.io/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1-actualizacion-docker.html&t=Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)"><img
                            src="https://ecrespo.github.io/theme/images/icons/facebook-s.png"></a></span>

                    <a target="_blank" title="Linkedin"
                       href="https://www.linkedin.com/shareArticle?mini=true&url=https://ecrespo.github.io/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1-actualizacion-docker.html&title=Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)"
                       rel="nofollow"
                       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/linkedin-s.png"></a>

                    <span class="mail"><a
                            href="mailto:?subject=Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)&amp;body=Viens découvrir un article à propos de [Crear datos JSON a partir de un diccionario en Flask (parte 1) (actualización- Docker)] sur le site de Ernesto Crespo. https://ecrespo.github.io/crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1-actualizacion-docker.html"
                            title="Share by Email" target="_blank"><img
                            src="https://ecrespo.github.io/theme/images/icons/mail-s.png"></a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Comments !</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "crear-datos-json-a-partir-de-un-diccionario-en-flask-parte-1-actualizacion-docker.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://https://seraphto.disqus.com.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
            Blog powered by <a href="http://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="http://python.org">Python</a>.
            Theme <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> by <a
                href="https://parbhatpuri.com/">@parbhat</a>.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-131517246-1']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>