<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Página de Seraph - Tutorial de Linux</title><link href="https://ecrespo.github.io/" rel="alternate"></link><link href="https://ecrespo.github.io/feeds/tutorial-de-linux.atom.xml" rel="self"></link><id>https://ecrespo.github.io/</id><updated>2012-01-10T09:00:00-05:30</updated><subtitle>Data Scientist </subtitle><entry><title>Servidor Proxy DNS con pdnsd</title><link href="https://ecrespo.github.io/servidor-proxy-dns-con-pdnsd.html" rel="alternate"></link><published>2012-01-10T09:00:00-05:30</published><updated>2012-01-10T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2012-01-10:/servidor-proxy-dns-con-pdnsd.html</id><summary type="html">&lt;p&gt;Ya hace un tiempo hab&amp;iacute;a explicado como se instala un servidor proxy DNS con &lt;code&gt;dnsmasq&lt;/code&gt;, ahora explicar&amp;eacute; la configuraci&amp;oacute;n de &lt;code&gt;PDNSD&lt;/code&gt; utilizando como servidor de DNS los servidores ra&amp;iacute;z de &lt;a href="https://es.wikipedia.org/wiki/OpenNIC"&gt;OpenNIC&lt;/a&gt; debido a los posibles problemas que nos genere la aprobaci&amp;oacute;n de la Ley SOPA y la Censura en Internet …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ya hace un tiempo hab&amp;iacute;a explicado como se instala un servidor proxy DNS con &lt;code&gt;dnsmasq&lt;/code&gt;, ahora explicar&amp;eacute; la configuraci&amp;oacute;n de &lt;code&gt;PDNSD&lt;/code&gt; utilizando como servidor de DNS los servidores ra&amp;iacute;z de &lt;a href="https://es.wikipedia.org/wiki/OpenNIC"&gt;OpenNIC&lt;/a&gt; debido a los posibles problemas que nos genere la aprobaci&amp;oacute;n de la Ley SOPA y la Censura en Internet.&lt;/p&gt;
&lt;p&gt;Si quiere utilizar los servidores de DNS de &lt;code&gt;OpenNIC&lt;/code&gt;  m&amp;aacute;s cercanos puede visitar el siguiente &lt;a href="http://wiki.opennicproject.org/ClosestT2Servers"&gt;enlace&lt;/a&gt;. Si desea m&amp;aacute;s informaci&amp;oacute;n sobre &lt;code&gt;OpenNIC&lt;/code&gt; puede revisar el siguiente &lt;a href="http://ww1.linuxerz.org/"&gt;art&amp;iacute;culo&lt;/a&gt; y la p&amp;aacute;gina del &lt;a href="http://www.opennicproject.org/"&gt;proyecto&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;En mi caso luego de consultar los servidores de &lt;code&gt;OpenNIC&lt;/code&gt; m&amp;aacute;s cercanos usar&amp;eacute; el siguiente servidor de DNS 192.121.86.100.&lt;/p&gt;
&lt;p&gt;Instalaci&amp;oacute;n de &lt;code&gt;pdnsd&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;En Debian simplemente se ejecuta un &lt;code&gt;apt-get install&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;#apt-get install pdnsd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;La aplicaci&amp;oacute;n muestra una ventana de dialogo donde menciona 3 m&amp;eacute;todos de configuraci&amp;oacute;n (resolvconf, servidores de DNS ra&amp;iacute;z o manual).&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/servidorproxydnsconpdnsd-1.png"/&gt;&lt;/p&gt;
&lt;p&gt;En este caso se usar&amp;aacute; el m&amp;eacute;todo manual y se selecciona en la ventana de dialogo.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/servidorproxydnsconpdnsd-2.png"/&gt;&lt;/p&gt;
&lt;p&gt;Se edita el archivo &lt;code&gt;/etc/pdnsd.conf&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;Se agrega la siguiente informaci&amp;oacute;n:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;server {
    label = "OpenNIC";
    ip = 192.121.86.100; //IP del servidor DNS
    uptest = query;     //Lrealiza consultas  DNS de una solicitud DNS.
    interface=wlan0;     //La interface conectada a la red.
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se modifica a &lt;code&gt;yes&lt;/code&gt; el par&amp;aacute;metro &lt;code&gt;START_DAEMON&lt;/code&gt; del archivo &lt;code&gt;/etc/default/pdnsd&lt;/code&gt; para iniciar autom&amp;aacute;ticamente el servicio &lt;code&gt;pdnsd&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;START_DAEMON=yes&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Al editar el archivo &lt;code&gt;/etc/resolv.conf&lt;/code&gt; y agregar el servidor de DNS 127.0.0.1.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;nameserver 127.0.0.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se reinicia el servicio &lt;code&gt;pdnsd&lt;/code&gt;:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# invoke-rc.d pdnsd restart
Stopping pdnsd.
Starting pdnsd.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se hace una consulta con &lt;code&gt;dig&lt;/code&gt;:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dig www.barrapunto.com|grep "Query time"
;; Query time: 316 msec

dig www.barrapunto.com|grep "Query time"
;; Query time: 2 msec
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Para verificar el funcionamiento del servidor se ejecuta el siguiente comando:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# pdnsd-ctl status

Opening socket /var/cache/pdnsd/pdnsd.status

pdnsd-1.2.8-par running on jewel.

Cache status:
=============
2048 kB maximum disk cache size.
56894 of 2107392 bytes (2.7%) memory cache used in 216 entries.

Thread status:
==============
server status thread is running.
pdnsd control thread is running.
tcp server thread is running.
udp server thread is running.
19 query threads spawned in total (0 queries dropped).
10 running query threads (10 active, 0 queued).

Configuration:
==============
Global:
-------
    Cache size: 2048 kB
    Server directory: /var/cache/pdnsd
    Scheme file (for Linux pcmcia support): /var/lib/pcmcia/scheme
    Server port: 53
    Server ip (0.0.0.0=any available one): 127.0.0.1
    Ignore cache when link is down: off
    Maximum ttl: 604800
    Minimum ttl: 900
    Negative ttl: 900
    Negative RRS policy: default
    Negative domain policy: auth
    Run as: pdnsd
    Strict run as: on
    Use NSS: on
    Paranoid mode (cache pollution prevention): on
    Ignore CD ('checking disabled') flag in queries: on
    Control socket permissions (mode): 600
    Maximum parallel queries served: 40
    Maximum queries queued for serving: 60
    Global timeout setting: 10
    Parallel queries increment: 2
    Randomize records in answer: on
    Query method: udp_only
    Query port start: 1024
    Query port end: 65535
    TCP server thread: on
    TCP query timeout: 30
    Delegation-only zones: (none)
Server 0:
------
    label: OpenNIC
    ip: 192.121.86.100
    server assumed available: yes
    port: 53
    uptest: query
    timeout: 120
    uptest interval: 900
    ping timeout: 600
    ping ip: (using server ip)
    interface: wlan0
    device (for special Linux ppp device support):
    uptest command:
    uptest user: (process owner)
    force cache purging: off
    server is cached: on
    lean query: on
    Use only proxy?: off
    Assumed root server: no
    Randomize server query order: no
    Default policy: included
    Policies: (none)
Succeeded
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se pueden agregar tantas IPS como se quiera.&lt;/p&gt;
&lt;p&gt;Si desea m&amp;aacute;s informaci&amp;oacute;n para configurar pdnsd revise los siguientes enlaces:  &lt;/p&gt;
&lt;p&gt;&lt;a href="https://wiki.archlinux.org/index.php/Pdnsd_(Espa%C3%B1ol)"&gt;https://wiki.archlinux.org/index.php/Pdnsd_(Espa%C3%B1ol)&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;&lt;a href="http://manualinux.heliohost.org/pdnsd.html"&gt;http://manualinux.heliohost.org/pdnsd.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="_1"&gt;&lt;/h2&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Canaima"></category><category term="Debian"></category><category term="DNS"></category><category term="General"></category><category term="Linux"></category><category term="Ubuntu"></category></entry><entry><title>Como cifrar directorios/particiones con eCryptfs</title><link href="https://ecrespo.github.io/como-cifrar-directoriosparticiones-con-ecryptfs.html" rel="alternate"></link><published>2011-08-21T09:00:00-05:30</published><updated>2011-08-21T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-08-21:/como-cifrar-directoriosparticiones-con-ecryptfs.html</id><summary type="html">&lt;p&gt;Este art&amp;iacute;culo se basa en el art&amp;iacute;culo de HowtoForge sobre el mismo &lt;a href="http://www.howtoforge.net/how-to-encrypt-directories-partitions-with-ecryptfs-on-debian-squeeze"&gt;tema&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;La idea es cifrar el directorio home del usuario,se monte el directorio cifrado autom&amp;aacute;ticamente al arrancar el equipo.&lt;/p&gt;
&lt;p&gt;Es necesario tener un respaldo de la carpeta del usuario para evitar perdida de datos si olvida la …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Este art&amp;iacute;culo se basa en el art&amp;iacute;culo de HowtoForge sobre el mismo &lt;a href="http://www.howtoforge.net/how-to-encrypt-directories-partitions-with-ecryptfs-on-debian-squeeze"&gt;tema&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;La idea es cifrar el directorio home del usuario,se monte el directorio cifrado autom&amp;aacute;ticamente al arrancar el equipo.&lt;/p&gt;
&lt;p&gt;Es necesario tener un respaldo de la carpeta del usuario para evitar perdida de datos si olvida la clave.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Instalar eCryptfs:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Se ejecuta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install ecryptfs-utils
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Cifrar un directorio.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Respaldar los archivos y directorios del home del usuario:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp -pfr /home/ecrespo /tmp/
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cifrar el directorio /home/ecrespo/ al montar el sistema de archivos ecryptfs:&lt;/p&gt;
&lt;p&gt;Se selecciona aes, 16, no se habilita frase plana, no se habilita cifrado del nombre del archivo, as&amp;iacute; que con estas opciones s&amp;oacute;lo hay que presionar enter a la informaci&amp;oacute;n que solicite al montar la partici&amp;oacute;n cifrada.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;mount&lt;/span&gt; &lt;span class="nt"&gt;-t&lt;/span&gt; &lt;span class="nt"&gt;ecryptfs&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;ecrespo&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;ecrespo&lt;/span&gt;

&lt;span class="nt"&gt;Passphrase&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;Select&lt;/span&gt; &lt;span class="nt"&gt;cipher&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
 &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;aes&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;32&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;2&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;blowfish&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;56&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;3&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;des3_ede&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;8&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;24&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;24&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;4&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;twofish&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;32&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;5&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;cast6&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;32&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;6&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;cast5&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;8&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;5&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nt"&gt;Selection&lt;/span&gt; &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;aes&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;Select&lt;/span&gt; &lt;span class="nt"&gt;key&lt;/span&gt; &lt;span class="nt"&gt;bytes&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
 &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;
 &lt;span class="nt"&gt;2&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;32&lt;/span&gt;
 &lt;span class="nt"&gt;3&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;24&lt;/span&gt;
&lt;span class="nt"&gt;Selection&lt;/span&gt; &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;Enable&lt;/span&gt; &lt;span class="nt"&gt;plaintext&lt;/span&gt; &lt;span class="nt"&gt;passthrough&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;y&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Enter&lt;/span&gt;
&lt;span class="nt"&gt;Enable&lt;/span&gt; &lt;span class="nt"&gt;filename&lt;/span&gt; &lt;span class="nt"&gt;encryption&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;y&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Enter&lt;/span&gt;
&lt;span class="nt"&gt;Attempting&lt;/span&gt; &lt;span class="nt"&gt;to&lt;/span&gt; &lt;span class="nt"&gt;mount&lt;/span&gt; &lt;span class="nt"&gt;with&lt;/span&gt; &lt;span class="nt"&gt;the&lt;/span&gt; &lt;span class="nt"&gt;following&lt;/span&gt; &lt;span class="nt"&gt;options&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;ecryptfs_unlink_sigs&lt;/span&gt;
  &lt;span class="nt"&gt;ecryptfs_key_bytes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;16&lt;/span&gt;
  &lt;span class="nt"&gt;ecryptfs_cipher&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;aes&lt;/span&gt;
  &lt;span class="nt"&gt;ecryptfs_sig&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;162827f20fdadf4e&lt;/span&gt;
&lt;span class="nt"&gt;Mounted&lt;/span&gt; &lt;span class="nt"&gt;eCryptfs&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Verificar que la partici&amp;oacute;n se ha montado.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;El comando mount s&amp;oacute;lo devuelve las particiones que se encuentran montadas en el Linux.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mount /home/ecrespo on /home/ecrespo type ecryptfs (rw,ecryptfs_sig=162827f20fdadf4e,ecryptfs_cipher=aes,ecryptfs_key_bytes=16,ecryptfs_unlink_sigs)
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Recuperar el respaldo y borrar el respaldo del directorio /tmp/&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp -pfr /tmp/ecrespo /home/
rm -fr /tmp/ecrespo
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Verificar el funcionamiento del cifrado de archivos.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Para prop&amp;oacute;sitos de prueba se copia un archivo de /etc/ al home del usuario.
Mostrar la informaci&amp;oacute;n que contiene el archivo hostname en /etc/&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /etc/hostname 
canaima-popular
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Copiar el archivo hostname al home del usuario:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp /etc/hostname /home/ecrespo/
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mientras la partici&amp;oacute;n cifrada se encuentra montada se puede visualizar los archivos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /home/ecrespo/hostname 
canaima-popular
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Desmontar la partici&amp;oacute;n.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;umount /home/ecrespo/
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Verificar que el archivo est&amp;aacute; cifrado:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /home/ecrespo/hostname
4��ˉ�s|| � "3DUfw`�6���D �̬�����{� _CONSOLE ('��N�pD���-� \ٛn�Ś/��TD��xҝD[:�$] �wq�V��
�n /�k�a:�H.�{ USj�@u)�c ������T� �� �m�иや� � Z�&amp;amp;��0�Q��B�� /��q�e��E��li�"dx�tDs���k����h�J��20��&amp;amp;T�?R�x� �W�$�
                                                                                                                   �$�@ �&amp;amp;
                                                                                                                           ��� �G� /�.L���1d�� j����{cYRꄙZ`��t 8�4ԬZ~ ,)H
eb �� f ��?��
          �_' ��K&amp;amp;�d)����{y�z����ֆ�2x��h�� &amp;amp;j���tuq��a�JeJ�� ���\"~
                                                                   ��5`� V RCB`��������PU�&amp;amp;������X�
                                                                                                    9Ԥ[� 4O.� �� ̔�;/ �����#j V`Sf^��&amp;lt;�uB8 �ЭIx�4PR�� dml��`&amp;amp;c �
! ҟ&amp;amp;`�~�U?u�� �����쵮 @�)�8�Q U��杞M�e��="�}�V# ��&amp;gt;������ �&amp;gt;�F�� R�#ZgI���^J�� ,��0ݼR�rO�f��AxS��3�\�M���o�D �u�Av)�qq%�(F�/���%tL��w�U�k6~c��` &amp;ldquo;=�4N��E�= #� � a7�����v�(V�p�HlR�Y5����#^���K �~ :h��Z�Q�J�{�FC�N;*� 0Bő*���=�
�ՙ��R�mќet ���7B�_�Dz.[�6&amp;gt;�ĸؓ�� �Nc��#��NR��@� 4 �/���M?Om �|;/�Oe9�6��&amp;amp;6D*U�A�e��� �V
�ZM�&amp;lt;ɝ��"�0��0�W&amp;Yuml;L�H�,r
                        �&amp;gt;��f��4�$�wA�rѫ� �0H�����CP�i��&amp;amp;���!b���-#
$ލ;�X!y�� ~� I5e��V|Y�\� �H^&amp;pound;�7�0�Z��{�}"!��͡�� 6�M�!LNȆXvF         )� ��G�Nuɍ� � ӧ��s���t ���t��o&amp;amp;� C������W�#��Cpk�&amp;gt;&amp;lt;&amp;bdquo;
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Montar autom&amp;aacute;ticamente  la partici&amp;oacute;n o directorio.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Conecte un pendrive y ejecute el comando fdisk -l donde aparecer&amp;aacute; la partici&amp;oacute;n del pendrive:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fdisk -l
 Disk /dev/sdb: 16.0 GB, 16011542528 bytes
32 heads, 63 sectors/track, 15512 cylinders, 31272544 sectores en total
Units = sectores of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Identificador del disco: 0x59a4123d

Disposit. Inicio    Comienzo      Fin      Bloques  Id  Sistema
/dev/sdb1   *          63    31272191    15636064+   b  W95 FAT32
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Montar el pendrive:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir /mnt/usb
mount /dev/sdb1 /mnt/usb
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Al ejecutar mount s&amp;oacute;lo mostrar&amp;aacute; las particiones montadas en el equipo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mount /dev/sdb1 on /mnt/usb type vfat (rw)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A diferencia del art&amp;iacute;culo original el pendrive y la partici&amp;oacute;n cifrada no se monta automaticamente.&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Canaima"></category><category term="Seguridad"></category><category term="eCryptfs"></category></entry><entry><title>Compartir repositorios de Mercurial con mercurial-server</title><link href="https://ecrespo.github.io/compartir-repositorios-de-mercurial-con-mercurial-server.html" rel="alternate"></link><published>2011-08-20T09:00:00-05:30</published><updated>2011-08-20T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-08-20:/compartir-repositorios-de-mercurial-con-mercurial-server.html</id><summary type="html">&lt;p&gt;Se tienen varios art&amp;iacute;culos sobre mercurial en este blog, un &lt;a href="https://www.seraph.to/control-de-versiones-con-mercurial.html"&gt;tutorial de mercurial&lt;/a&gt; (viene una actualizaci&amp;oacute;n), &lt;a href="https://www.seraph.to/manteniendo-un-paquete-debian-con-mercurial.html"&gt;como empaquetar para Debian con mercurial&lt;/a&gt; (viene una actualizaci&amp;oacute;n) y el &amp;uacute;ltimo &lt;a href="https://www.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html"&gt;como gestionar la configuraci&amp;oacute;n con mercurial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Este art&amp;iacute;culo explicar&amp;aacute; como compartir repositorios de Mercurial con mercurial-server, este art&amp;iacute;culo se basa en el …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Se tienen varios art&amp;iacute;culos sobre mercurial en este blog, un &lt;a href="https://www.seraph.to/control-de-versiones-con-mercurial.html"&gt;tutorial de mercurial&lt;/a&gt; (viene una actualizaci&amp;oacute;n), &lt;a href="https://www.seraph.to/manteniendo-un-paquete-debian-con-mercurial.html"&gt;como empaquetar para Debian con mercurial&lt;/a&gt; (viene una actualizaci&amp;oacute;n) y el &amp;uacute;ltimo &lt;a href="https://www.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html"&gt;como gestionar la configuraci&amp;oacute;n con mercurial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Este art&amp;iacute;culo explicar&amp;aacute; como compartir repositorios de Mercurial con mercurial-server, este art&amp;iacute;culo se basa en el &lt;a href="http://dev.lshift.net/paul/mercurial-server/docbook.html"&gt;tutorial en ingl&amp;eacute;s&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Mercurial-server no se autentica usando claves pero si llaves p&amp;uacute;blicas con ssh. Todos los usuarios que quieran acceder al repositorio mercurial necesitan una llave p&amp;uacute;blica. &lt;/p&gt;
&lt;p&gt;En el siguiente enlace tienen una gu&amp;iacute;a de como crear las &lt;a href="http://rafael.bonifaz.ec/blog/2011/01/ssh-con-claves-publicas-y-privadas/"&gt;llaves p&amp;uacute;blicas&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id="acceso inicial al mercurial-server."&gt;Acceso inicial al mercurial-server.&lt;/h3&gt;
&lt;p&gt;Instalar mercurial-server:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install mercurial-server 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Conectarse al servidor grievous habilitando el forwarding.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ernesto@jewel:~$ ssh -A grievous
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Agregar llave privada al agente de autenticaci&amp;oacute;n. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ernesto@grievous:~$ ssh-add -L &amp;gt; my-key
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Crear el directorio para el usuario ernesto en el mercurial-server, copiar la llave y actualizar el repositorio de autenticaci&amp;oacute;n. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ernesto@grievous:~$ sudo mkdir -p /etc/mercurial-server/keys/root/ernesto
ernesto@grievous:~$ sudo cp my-key /etc/mercurial-server/keys/root/ernesto/jewel
ernesto@grievous:~$ sudo -u hg /usr/share/mercurial-server/refresh-auth
ernesto@grievous:~$ exit
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Crear un repositorio.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; cd proyectos/pysms-send
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Clonar el proyecto en el servidor grievous: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ernesto@jewel:~/proyectos/pysms-send$ hg clone . ssh://hg@grievous/ernesto/pysms-send
searching for changes
27 changesets found
remote: adding changesets
remote: adding manifests
remote: adding file changes
remote: added 27 changesets with 52 changes to 24 files
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Revisar si hay cambios en el repositorio.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ernesto@jewel:~/proyectos/pysms-send$ hg pull ssh://hg@grievous/ernesto/pysms-send
pulling from ssh://hg@grievous/ernesto/pysms-send
searching for changes
no changes found
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Siguiente art&amp;iacute;culo se explicar&amp;aacute; como agregar usuarios al repositorio, controlar el acceso al repositorio&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Canaima"></category><category term="mercurial"></category></entry><entry><title>Usar dnsmasq como servidor DNS cache y local</title><link href="https://ecrespo.github.io/usar-dnsmasq-como-servidor-dns-cache-y-local.html" rel="alternate"></link><published>2011-08-20T09:00:00-05:30</published><updated>2011-08-20T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-08-20:/usar-dnsmasq-como-servidor-dns-cache-y-local.html</id><summary type="html">&lt;p&gt;En el &lt;a href="https://ecrespo.github.io/mejorando-la-velocidad-de-consultas-de-dns-con-dnsmasq-y-probar-pruebas-de-diagnostico.html"&gt;art&amp;iacute;culo anterior&lt;/a&gt; explicaba como mejorar las consultas de DNS del equipo con dnsmaq.&lt;/p&gt;
&lt;p&gt;Tambi&amp;eacute;n se puede agregar equipos con su IP como de un servidor de DNS con Bind9 en funcionamiento.&lt;/p&gt;
&lt;p&gt;Se tiene una m&amp;aacute;quina virtual de nombre grievous e IP 192.168.10.53.&lt;/p&gt;
&lt;p&gt;Para instalr dnsmasq …&lt;/p&gt;</summary><content type="html">&lt;p&gt;En el &lt;a href="https://ecrespo.github.io/mejorando-la-velocidad-de-consultas-de-dns-con-dnsmasq-y-probar-pruebas-de-diagnostico.html"&gt;art&amp;iacute;culo anterior&lt;/a&gt; explicaba como mejorar las consultas de DNS del equipo con dnsmaq.&lt;/p&gt;
&lt;p&gt;Tambi&amp;eacute;n se puede agregar equipos con su IP como de un servidor de DNS con Bind9 en funcionamiento.&lt;/p&gt;
&lt;p&gt;Se tiene una m&amp;aacute;quina virtual de nombre grievous e IP 192.168.10.53.&lt;/p&gt;
&lt;p&gt;Para instalr dnsmasq se ejecuta apt-get.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install dnsmasq
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Configurar dnsmasq como DNS cache y local.&lt;/p&gt;
&lt;p&gt;Se define la ruta del archivo resolv.conf que hace consultas al servidor de DNS externo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;resolv-file=/etc/resolv-orig.conf
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Definir respuestas de peticiones locales dadas por el archivo /etc/hosts.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; local=/localnet/
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Y eso es todo lo que hay que cambiarse en el archivo /etc/dnsmasq.conf para resolver nombres de equipos locales por medio de /etc/hosts.&lt;/p&gt;
&lt;p&gt;Agregar los equipos en el archivo /etc/hosts.&lt;/p&gt;
&lt;p&gt;En este caso se tiene el equipo grievous:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;192.168.10.53   grievous        grievous
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si se necesita agregar m&amp;aacute;s equipos al servidor de DNS simplemente se edita el archivo /etc/hosts agregando los equipos en dicho archivo.&lt;/p&gt;
&lt;p&gt;Se crea el archivo /etc/resolv-orig.conf donde se encuentra las IPs de los servidores de DNS externos.
En este caso se est&amp;aacute; usando los servidores de DNS de Google, OpenDNS y de la red del trabajo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nameserver 8.8.8.8 
nameserver 8.8.4.4
nameserver 208.67.222.222
nameserver 208.67.220.220
nameserver 192.168.32.254
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ya se tiene configurado el servidor de DNS, s&amp;oacute;lo falta que el equipo realice las consultas por medio del archivo /etc/resolv.conf, el cual debe apuntar al servidor local de DNS (127.0.0.1).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nameserver 127.0.0.1
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ahora se puede probar la resoluci&amp;oacute;n de nombres en el equipo.&lt;/p&gt;
&lt;p&gt;Probar que devuelve respuestas el servidor DNS al consultar el nombre del equipo grievous:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;host&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt;
&lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;has&lt;/span&gt; &lt;span class="nt"&gt;address&lt;/span&gt; &lt;span class="nt"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;53&lt;/span&gt;


&lt;span class="nt"&gt;dig&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt;

&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;DiG&lt;/span&gt; &lt;span class="nt"&gt;9&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;7&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;3&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;global&lt;/span&gt; &lt;span class="nt"&gt;options&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nt"&gt;cmd&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;Got&lt;/span&gt; &lt;span class="nt"&gt;answer&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="nt"&gt;HEADER&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;opcode&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;QUERY&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;NOERROR&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;id&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;19819&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;flags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;qr&lt;/span&gt; &lt;span class="nt"&gt;aa&lt;/span&gt; &lt;span class="nt"&gt;rd&lt;/span&gt; &lt;span class="nt"&gt;ra&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;QUERY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;ANSWER&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;AUTHORITY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;ADDITIONAL&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;


&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;QUESTION&lt;/span&gt; &lt;span class="nt"&gt;SECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="nt"&gt;grievous&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;          &lt;span class="nt"&gt;IN&lt;/span&gt;  &lt;span class="nt"&gt;A&lt;/span&gt;


&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;ANSWER&lt;/span&gt; &lt;span class="nt"&gt;SECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;grievous&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;       &lt;span class="nt"&gt;0&lt;/span&gt;   &lt;span class="nt"&gt;IN&lt;/span&gt;  &lt;span class="nt"&gt;A&lt;/span&gt;   &lt;span class="nt"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;53&lt;/span&gt;


&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;Query&lt;/span&gt; &lt;span class="nt"&gt;time&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;6&lt;/span&gt; &lt;span class="nt"&gt;msec&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;SERVER&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="nn"&gt;53&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;WHEN&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Sat&lt;/span&gt; &lt;span class="nt"&gt;Aug&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt; &lt;span class="nt"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;45&lt;/span&gt; &lt;span class="nt"&gt;2011&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;MSG&lt;/span&gt; &lt;span class="nt"&gt;SIZE&lt;/span&gt;  &lt;span class="nt"&gt;rcvd&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;42&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ahora se puede verificar los rendimientos de los servidores de DNS con NameBench. Para instalarlo se ejecuta apt-get.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install  namebench
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En la siguiente figura se muestra la ejecuci&amp;oacute;n de namebench donde se le define el servidor de Nombres a utilizar.&lt;/p&gt;
&lt;p&gt;&lt;img alt="namebench" src="./images/namebench.png"/&gt;&lt;/p&gt;
&lt;p&gt;A continuaci&amp;oacute;n se muestra las figuras del resultado de Namebench.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Resultado namebench 1" src="./images/namebench1.png"/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Resultado namebench 2" src="./images/namebench2.png"/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Resultado namebench 3" src="./images/namebench3.png"/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Resultado namebench 4" src="./images/namebench4.png"/&gt;&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Canaima"></category><category term="dnsmasq"></category></entry><entry><title>Gestionar los archivos de configuración en /etc con etckeeper y mercurial</title><link href="https://ecrespo.github.io/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html" rel="alternate"></link><published>2011-07-27T09:00:00-05:30</published><updated>2011-07-27T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-07-27:/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html</id><summary type="html">&lt;p&gt;Continuando con los art&amp;iacute;culos de control de versiones distribuido con Mercurial ahora toca el respaldo y guardar las versiones de los archivos de configuraci&amp;oacute;n en /etc con etckeeper.&lt;/p&gt;
&lt;p&gt;La mayoria de los art&amp;iacute;culos que se consiguen sobre etckeeper es usando git o bazaar.&lt;/p&gt;
&lt;p&gt;Para esta gu&amp;iacute;a es necesario tener conocimientos …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Continuando con los art&amp;iacute;culos de control de versiones distribuido con Mercurial ahora toca el respaldo y guardar las versiones de los archivos de configuraci&amp;oacute;n en /etc con etckeeper.&lt;/p&gt;
&lt;p&gt;La mayoria de los art&amp;iacute;culos que se consiguen sobre etckeeper es usando git o bazaar.&lt;/p&gt;
&lt;p&gt;Para esta gu&amp;iacute;a es necesario tener conocimientos b&amp;aacute;sicos de mercurial, pueden leer el art&amp;iacute;culo de control de &lt;a href="https://ecrespo.github.io/control-de-versiones-con-mercurial.html"&gt;versiones con mercurial de este blog&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Es necesario llevar un hist&amp;oacute;rico de los archivos dentro del directorio /etc/, es esencial para un sistema saludable. Los beneficios rastrear cambios en los archivos dentro de /etc incluye:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Documentaci&amp;oacute;n: Los mensajes de log quedan atados a los cambios de configuraci&amp;oacute;n de los archivos que sirven como documentaci&amp;oacute;n.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Resoluci&amp;oacute;n de problemas: Permite devolver cambios en las configuraciones que han dado problemas y as&amp;iacute; mantener la estabilidad del sistema.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Instalaci&amp;oacute;n de etckeeper:
 Es necesario tener mercurial instalado.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install mercurial etckeeper
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Configuraci&amp;oacute;n de etckeeper:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Se edita el archivo /etc/etckeeper/etckeeper.conf se comenta los distintos sistemas de control de versiones y se deja hg, adicionalmente se deja la opci&amp;oacute;n de env&amp;iacute;o de correo a un usuario.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;VCS="hg"
# Options passed to hg commit when run by etckeeper.
HG_COMMIT_OPTIONS="-u ecrespo@gmail.com"
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Luego se edita el archivo /etc/mercurial/hgrc&lt;/p&gt;
&lt;p&gt;Se agrega el correo del usuario:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[ui]&lt;/span&gt;
&lt;span class="na"&gt;username&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;ecrespo@gmail.com&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Se inicializa el control de versiones:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;etckeeper init
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A continuaci&amp;oacute;n se muestra como se ha agregado los archivos dentro de /etc en el control de versiones:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;adding xdg/xfce4/Xft.xrdb
adding xdg/xfce4/helpers.rc
adding xdg/xfce4/mount.rc
adding xdg/xfce4/panel/clock-14.rc
adding xdg/xfce4/panel/launcher-10.rc
adding xdg/xfce4/panel/launcher-7.rc
adding xdg/xfce4/panel/launcher-9.rc
adding xdg/xfce4/panel/panels.xml
adding xdg/xfce4/panel/systray-4.rc
adding xdg/xfce4/panel/xfce4-menu-5.rc
adding xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-keyboard-shortcuts.xml
adding xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml
adding xdg/xfce4/xfconf/xfce-perchannel-xml/xsettings.xml
adding xdg/xfce4/xinitrc
adding xml/catalog
adding xml/docbook-xml.xml
adding xml/docbook-xsl.xml
adding xml/rarian-compat.xml
adding xml/sgml-data.xml
adding xml/xml-core.xml
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Se hace el primer commit:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;etckeeper commit "Inicializacion del control de versiones"
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Usando etckeeper.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Al realizar la instalaci&amp;oacute;n de un programa se ejecutar&amp;aacute; autom&amp;aacute;ticamente el agregado de los archivos de configuraci&amp;oacute;n en el control de versiones.
Se instalar&amp;aacute; el paquete lighttpd para mostar el proceso de agregar los archivos al control de versiones:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install lighttpd
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Al final aparece una serie de archivos agregados:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;adding lighttpd/conf-available/15-fastcgi-php.conf
adding lighttpd/conf-available/90-debian-doc.conf
adding lighttpd/conf-available/README
adding lighttpd/lighttpd.conf
adding logrotate.d/lighttpd
adding rc0.d/K01lighttpd
adding rc1.d/K01lighttpd
adding rc2.d/S20lighttpd
adding rc3.d/S20lighttpd
adding rc4.d/S20lighttpd
adding rc5.d/S20lighttpd
adding rc6.d/K01lighttpd
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se revisa el estatus de mercurial en el directorio /etc:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg status /etc/
M ../etc/.etckeeper
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Al revisar el log de mercurial en el directorio /etc/ muestra los cambios realizados (commit):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg log /etc/

changeset:   1:ba22869a3179
tag:         tip
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:02:27 2011 -0430
summary:     committing changes in /etc after apt run

changeset:   0:f2a3f337ecc0
user:        ecrespo@gmail.com
date:        Wed Jul 27 21:54:21 2011 -0430
summary:     Inicializacion del control de versiones
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se tiene una descripci&amp;oacute;n de los cambios en el changeset 0 se muestra la inicializaci&amp;oacute;n del control de versiones, en el changeset 1 se muestra el cambio luego de instalar lighttpd.&lt;/p&gt;
&lt;p&gt;Se modifica un archivo de configuraci&amp;oacute;n /etc/hosts :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;etckeeper commit "Se elimina el dominio  del host jewel en /etc/hosts" /etc/hosts
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Al volver a revisar el log de mercurial sobre el directorio /etc/ aparece el commit del cambio del archivo hosts:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg log /etc/
changeset:   2:6efc1189bd8b
tag:         tip
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:08:25 2011 -0430
summary:     Se elimina el dominio del host jewel en /etc/hosts

changeset:   1:ba22869a3179
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:02:27 2011 -0430
summary:     committing changes in /etc after apt run

changeset:   0:f2a3f337ecc0
user:        ecrespo@gmail.com
date:        Wed Jul 27 21:54:21 2011 -0430
summary:     Inicializacion del control de versiones
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se puede ver las diferencias entre los cambios realizados en archivos dentro del directorio /etc:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg diff /etc/
diff -r 6efc1189bd8b hosts
--- a/hosts    Wed Jul 27 22:08:25 2011 -0430
+++ b/hosts    Wed Jul 27 22:13:41 2011 -0430
@@ -1,6 +1,6 @@
 127.0.0.1    localhost
 127.0.1.1    jewel    jewel
-
+127.0.0.1    sofia   sofia
 # The following lines are desirable for IPv6 capable hosts
 ::1     ip6-localhost ip6-loopback
 fe00::0 ip6-localnet
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Al realizar el commit y volver a hacer el diff est&amp;aacute; vez no muestra informaci&amp;oacute;n por que ya los cambios se subieron al control de versiones:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;etckeeper commit "Agregado el nombre sofia al host 127.0.0.1 en el archivo /etc/hosts" /etc/hosts
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Al revisar los logs ahora aparece el cambio de agreado el nombre sofia al host 127.0.0.1:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg log /etc/
changeset:   3:452065708a7e
tag:         tip
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:16:13 2011 -0430
summary:     Agregado el nombre sofia al host 127.0.0.1 en el archivo /etc/hosts

changeset:   2:6efc1189bd8b
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:08:25 2011 -0430
summary:     Se elimina pdvsa.com del host jewel en /etc/hosts

changeset:   1:ba22869a3179
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:02:27 2011 -0430
summary:     committing changes in /etc after apt run

changeset:   0:f2a3f337ecc0
user:        ecrespo@gmail.com
date:        Wed Jul 27 21:54:21 2011 -0430
summary:     Inicializacion del control de versiones
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Para ver el tip de cada repo se ejecuta hg tip dentro del repositorio:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@jewel:/etc# hg tip
changeset:   3:452065708a7e
tag:         tip
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:16:13 2011 -0430
summary:     Agregado el nombre sofia al host 127.0.0.1 en el archivo /etc/hosts
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ahora se mostrar&amp;aacute; todas las revisiones con los logs y luego se revertir&amp;aacute; un cambio:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg log 
changeset:   3:452065708a7e
tag:         tip
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:16:13 2011 -0430
summary:     Agregado el nombre sofia al host 127.0.0.1 en el archivo /etc/hosts

changeset:   2:6efc1189bd8b
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:08:25 2011 -0430
summary:     Se elimina pdvsa.com del host jewel en /etc/hosts

changeset:   1:ba22869a3179
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:02:27 2011 -0430
summary:     committing changes in /etc after apt run

changeset:   0:f2a3f337ecc0
user:        ecrespo@gmail.com
date:        Wed Jul 27 21:54:21 2011 -0430
summary:     Inicializacion del control de versiones
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se pueden ver los cambios con respecto a cada revisi&amp;oacute;n, en el siguiente comando se revisa la revisi&amp;oacute;n 1 con respecto a la 2 en /etc/hosts:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg diff -r 1 -r 2 /etc/hosts
diff -r ba22869a3179 -r 6efc1189bd8b hosts
--- a/hosts    Wed Jul 27 22:02:27 2011 -0430
+++ b/hosts    Wed Jul 27 22:08:25 2011 -0430
@@ -1,5 +1,5 @@
 127.0.0.1    localhost
-127.0.1.1    jewel.dst.pdvsa.com    jewel
+127.0.1.1    jewel    jewel

 # The following lines are desirable for IPv6 capable hosts
 ::1     ip6-localhost ip6-loopback

Ahora se mostrar&amp;aacute; la 1 con respecto a la 3:
hg diff -r 1 -r 3 /etc/hosts
diff -r ba22869a3179 -r 452065708a7e hosts
--- a/hosts    Wed Jul 27 22:02:27 2011 -0430
+++ b/hosts    Wed Jul 27 22:16:13 2011 -0430
@@ -1,6 +1,6 @@
 127.0.0.1    localhost
-127.0.1.1    jewel.dst.pdvsa.com    jewel
-
+127.0.1.1    jewel    jewel
+127.0.0.1    sofia   sofia
 # The following lines are desirable for IPv6 capable hosts
 ::1     ip6-localhost ip6-loopback
 fe00::0 ip6-localnet
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ahora se revierte el cambio de la revisi&amp;oacute;n 3 a la 2 en el archivo /etc/hosts.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg revert -r 2 /etc/hosts
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ahora el host sofia ya no aparece en el archivo /etc/hosts:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;127.0.0.1       localhost
127.0.1.1       jewel   jewel

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si se desea respaldar los archivos en un servidor se puede usar bitbucket como ejemplo, se crea el proyecto configuracion-jewel y se sube el contenido del directorio /etc/ con el comando hg push:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg push https://bitbucket.org/ecrespo/configuracion-jewel
http authorization required
realm: Bitbucket.org HTTP
user: ecrespo
password: 
pushing to https://bitbucket.org/ecrespo/configuracion-jewel
searching for changes
remote: adding changesets
remote: adding manifests
remote: adding file changes
remote: added 4 changesets with 5764 changes to 5759 files
remote: bb/acl: ecrespo is allowed. accepted payload.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En la siguiente figura se muestra una captura de pantalla de los cambios del proyecto en bitbucket.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Web mercurial" src="./images/mercurial-1.png"/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Web mercurial" src="./images/mercurial-2.png"/&gt;&lt;/p&gt;
&lt;p&gt;Con esta gu&amp;iacute;a ya se puede llevar un control de los cambios realizados en el directorio /etc/ con un control de versiones distribuido como mercurial.&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Canaima"></category><category term="etckeeper"></category><category term="mercurial"></category></entry><entry><title>Iniciar sesión de usuario autenticando vía pendrive</title><link href="https://ecrespo.github.io/iniciar-sesion-de-usuario-autenticando-via-pendrive.html" rel="alternate"></link><published>2011-07-26T09:00:00-05:30</published><updated>2011-07-26T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-07-26:/iniciar-sesion-de-usuario-autenticando-via-pendrive.html</id><summary type="html">&lt;p&gt;Cuando no se pasa uno a modo paranoico se le ocurren ideas de como validar usuarios al ingresar en una sesi&amp;oacute;n de escritorio v&amp;iacute;a GDM.&lt;/p&gt;
&lt;p&gt;En Debian/Ubuntu/Canaima existe los paquetes libpam-usb y pamusb-tools, estos permiten crear una llave, dicha llave se guarda en el pendrive. Luego se configura …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Cuando no se pasa uno a modo paranoico se le ocurren ideas de como validar usuarios al ingresar en una sesi&amp;oacute;n de escritorio v&amp;iacute;a GDM.&lt;/p&gt;
&lt;p&gt;En Debian/Ubuntu/Canaima existe los paquetes libpam-usb y pamusb-tools, estos permiten crear una llave, dicha llave se guarda en el pendrive. Luego se configura pam para que se pida la llave al momento de ingresar usuario y clave en el GDM del equipo; si no se conecta el pendrive el GDM colocar&amp;aacute; un mensaje que clave invalida.&lt;/p&gt;
&lt;p&gt;Para instalar estos paquetes se ejecuta aptitude:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install libpam-usb pamusb-tools
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Luego se conecta el pendrive en el equipo y se agrega el dispositivo en /etc/pamusb.conf con el comando pamusb-conf:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pamusb-conf --add-device /media/F060-785C/
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Donde /media/F060-785C/ es la ruta del pendrive.&lt;/p&gt;
&lt;p&gt;Se agrega el usuario en /etc/pamusb.conf el cual iniciar&amp;aacute; sesi&amp;oacute;n en el equipo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pamusb-conf --add-user ecrespo
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se verifica la configuraci&amp;oacute;n de pamusb con el usuario agregado:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pamusb-check ecrespo
* Authentication request for user "ecrespo" (pamusb-check)
* Device "/media/F060-785C/" is connected (good).
* Performing one time pad verification...
* Regenerating new pads...
* Unable to update pads.
* Access granted.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Al devolver el programa acceso garantizado ya se tiene todo listo para usar el pendrive en el momento de inicio de sesi&amp;oacute;n, s&amp;oacute;lo falta modificar pam para que permita la autenticaci&amp;oacute;n con el pendrive.&lt;/p&gt;
&lt;p&gt;Se edita el archivo /etc/pam.d/common-aut y se agrega la siguiente l&amp;iacute;nea:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;auth sufficient pam_usb.so
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Con esta l&amp;iacute;nea el GDM verifica el token de la llave, si se quiere que pida tanto la contrase&amp;ntilde;a como el token se cambia sufficient a required.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;auth required pam_usb.so
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A partir de ahora al iniciar sesi&amp;oacute;n se necesita la contrase&amp;ntilde;a y el token.&lt;/p&gt;
&lt;p&gt;A continuaci&amp;oacute;n se muestra el mensaje que env&amp;iacute;a la consola al ejecutar sudo -s :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[sudo] password for ecrespo: 
* pam_usb v0.4.2
* Authentication request for user "ecrespo" (sudo)
* Device "/media/F060-785C/" is connected (good).
* Performing one time pad verification...
* Regenerating new pads...
* Unable to update pads.
* Access granted.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Canaima"></category><category term="libpam"></category><category term="gnome"></category><category term="usb"></category></entry><entry><title>Crear un paquete python de un programa</title><link href="https://ecrespo.github.io/crear-un-paquete-python-de-un-programa.html" rel="alternate"></link><published>2010-08-08T11:00:00-05:30</published><updated>2010-08-08T11:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2010-08-08:/crear-un-paquete-python-de-un-programa.html</id><summary type="html">&lt;p&gt;Este art&amp;iacute;culo explicar&amp;aacute; el proceso de creaci&amp;oacute;n de un tar.gz o tar.bz2 del programa de configuraci&amp;oacute;n de los accesos r&amp;aacute;pidos de teclado por medio de gconf con python.
La siguiente imagen muestra el repositorio del proyecto en google code.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Repositorio  de Python-config-accesskey-gnome - Google Code" src="./images/googlecode.png"/&gt;&lt;/p&gt;
&lt;p&gt;Como muestra la figura se tiene una serie de …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Este art&amp;iacute;culo explicar&amp;aacute; el proceso de creaci&amp;oacute;n de un tar.gz o tar.bz2 del programa de configuraci&amp;oacute;n de los accesos r&amp;aacute;pidos de teclado por medio de gconf con python.
La siguiente imagen muestra el repositorio del proyecto en google code.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Repositorio  de Python-config-accesskey-gnome - Google Code" src="./images/googlecode.png"/&gt;&lt;/p&gt;
&lt;p&gt;Como muestra la figura se tiene una serie de archivos en el repositorio, a continuaci&amp;oacute;n se explicar&amp;aacute; cada uno de ellos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;COPYING: Contiene la Licencia del proyecto.&lt;/li&gt;
&lt;li&gt;MANIFEST.in: Es una plantilla que contiene la lista de archivos que se incluir&amp;aacute;n en el paquete del programa.&lt;/li&gt;
&lt;li&gt;README: Contiene informaci&amp;oacute;n del programa, una descripci&amp;oacute;n de uso y requerimientos.&lt;/li&gt;
&lt;li&gt;TODO: Lista de cosas por hacer para las siguientes versiones del programa.&lt;/li&gt;
&lt;li&gt;Archivos *.py: Son los programas desarrollados.&lt;/li&gt;
&lt;li&gt;pyconfig-accessgnome-ui.desktop: Archivo que define la informaci&amp;oacute;n de la aplicaci&amp;oacute;n en el men&amp;uacute; del escritorio.&lt;/li&gt;
&lt;li&gt;pyconfig-accessgnome.glade : Archivo xml glade que contiene la interfaz gr&amp;aacute;fica.&lt;/li&gt;
&lt;li&gt;setup.py: Archivo de configuraci&amp;oacute;n del proceso de instalaci&amp;oacute;n y creaci&amp;oacute;n de paquetes.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para fines pr&amp;aacute;cticos se explicar&amp;aacute; MANIFEST.in y setup.py.&lt;/p&gt;
&lt;p&gt;MANIFEST.in es un archivo plantilla de entra que define que archivos se van a colocar en el archivo MANIFEST, este archivo final le dira a setup.py cuales ser&amp;aacute;n los archivos que se incluir&amp;aacute;n en el paquete .tar.gz o .tar.bz2.
El archivo tiene una directiva include donde se le dir&amp;aacute; los archivos que se quieren incluir.
Por ejemplo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;include COPYING pyconfig-accessgnome.glade pyconfig-accessgnome-ui.desktop README TODO
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;El archivo setup.py contiene lo siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;!&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nb"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;env&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;
&lt;span class="c1"&gt;#importar setup de distutils&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;distutils.core&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;setup&lt;/span&gt;  
&lt;span class="c1"&gt;#Crear la variable data_files que contiene las rutas de donde se van a colocar los archivos.&lt;/span&gt;
&lt;span class="n"&gt;data_files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;'share/applications'&lt;/span&gt;&lt;span class="p"&gt;,[&lt;/span&gt;&lt;span class="s1"&gt;'pyconfig-accessgnome-ui.desktop'&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'share/python-config-accesskey-gnome'&lt;/span&gt;&lt;span class="p"&gt;,[&lt;/span&gt;&lt;span class="s1"&gt;'COPYING'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'configGconf.py'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'pyconfig-accessgnome.glade'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'pyconfig-accessgnome-ui.py'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'README'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'TODO'&lt;/span&gt;&lt;span class="p"&gt;])]&lt;/span&gt;


&lt;span class="c1"&gt;#se define el nombre del programa, la versi&amp;oacute;n, una descripci&amp;oacute;n corta, el autor y su correo, &lt;/span&gt;
&lt;span class="c1"&gt;#el url del proyecto, la licencia, los scripts principales del programa, los archivos de datos adicionales,&lt;/span&gt;
&lt;span class="c1"&gt;#La plataforma soportadas,los m&amp;oacute;dulos que se requieren para el funcionamiento del programa.&lt;/span&gt;
&lt;span class="c1"&gt;#Y el m&amp;oacute;dulo que se desarrollo y necesita el programa principal.&lt;/span&gt;


&lt;span class="n"&gt;setup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'python-gconf-keybinding'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'0.4'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Allow config keyboard access application with gconf'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;author&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Ernesto Nadir Crespo Avila'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
      &lt;span class="n"&gt;author_email&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'ecrespo@gmail.com'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'http://code.google.com/p/python-config-accesskey-gnome/'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;license&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"GPL v3"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;scripts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'pyconfig-accessgnome-ui.py'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'configGconf.py'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
      &lt;span class="n"&gt;data_files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data_files&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;platforms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'i386'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'AMD64'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
      &lt;span class="n"&gt;requires&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'gtk'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'gconf'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'pygtk'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'gtk.glade'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
      &lt;span class="n"&gt;py_modules&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'configGconf'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
      &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Al tener los archivos necesarios para instalar el programa y para crear los paquetes s&amp;oacute;lo queda ejecutar los comandos:
Listar los archivos existentes:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls -l
total 92
-rwxr-xr-x 1 ernesto ernesto  8036 ago  7 17:49 configGconf.py
-rw-r--r-- 1 ernesto ernesto 33353 jul 27 20:41 COPYING
-rw-r--r-- 1 ernesto ernesto    88 ago  8 18:15 MANIFEST.in
-rw-r--r-- 1 ernesto ernesto 14729 jul 27 20:45 pyconfig-accessgnome.glade
-rwxr-xr-x 1 ernesto ernesto   315 jul 27 20:41 pyconfig-accessgnome-ui.desktop
-rwxr-xr-x 1 ernesto ernesto  8420 ago  8 17:06 pyconfig-accessgnome-ui.py
-rw-r--r-- 1 ernesto ernesto  4260 jul 27 20:41 README
-rwxr-xr-x 1 ernesto ernesto  1021 ago  8 18:12 setup.py
-rw-r--r-- 1 ernesto ernesto     0 jul 27 20:41 TODO
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Probar la instalaci&amp;oacute;n del programa:
Se ejecuta el install para el setup.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo python setup.py install
running install
running build
running build_py
creating build
creating build/lib.linux-i686-2.6
copying configGconf.py -&amp;gt; build/lib.linux-i686-2.6
running build_scripts
creating build/scripts-2.6
copying and adjusting pyconfig-accessgnome-ui.py -&amp;gt; build/scripts-2.6
copying and adjusting configGconf.py -&amp;gt; build/scripts-2.6
changing mode of build/scripts-2.6/pyconfig-accessgnome-ui.py from 644 to 755
changing mode of build/scripts-2.6/configGconf.py from 644 to 755
running install_lib
running install_scripts
copying build/scripts-2.6/pyconfig-accessgnome-ui.py -&amp;gt; /usr/local/bin
copying build/scripts-2.6/configGconf.py -&amp;gt; /usr/local/bin
changing mode of /usr/local/bin/pyconfig-accessgnome-ui.py to 755
changing mode of /usr/local/bin/configGconf.py to 755
running install_data
running install_egg_info
Removing /usr/local/lib/python2.6/dist-packages/python_gconf_keybinding-0.4.egg-info
Writing /usr/local/lib/python2.6/dist-packages/python_gconf_keybinding-0.4.egg-info
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Esto crea un directorio build que contiene los scripts y la librer&amp;iacute;as, luego los copia en /usr/local/  tanto en bin como en share. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls share/python-config-accesskey-gnome/
configGconf.py  COPYING  pyconfig-accessgnome.glade  pyconfig-accessgnome-ui.py  README  TODO

ls bin/
configGconf.py  pyconfig-accessgnome-ui.py  pyloro.py
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ya en este momento se puede ejecutar el programa tanto de forma gr&amp;aacute;fica como desde la l&amp;iacute;nea de comandos.&lt;/p&gt;
&lt;p&gt;A continuaci&amp;oacute;n viene el proceso de construcci&amp;oacute;n del tar.gz y tar.bz:
El comando para el setup.py es sdist el cual crea el paquete para ser distribu&amp;iacute;do, adicionalmente se le pasa el formato con la opci&amp;oacute;n --formats=bztar, gztar. Los argumentos bztar y gztar es para crear un tar.bz2 y un tar.gz respectivamente.&lt;/p&gt;
&lt;p&gt;El comando es el siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python setup.py sdist --formats=bztar,gztar
running sdist
reading manifest template 'MANIFEST.in'
writing manifest file 'MANIFEST'
creating python-gconf-keybinding-0.4
making hard links in python-gconf-keybinding-0.4...
hard linking COPYING -&amp;gt; python-gconf-keybinding-0.4
hard linking README -&amp;gt; python-gconf-keybinding-0.4
hard linking TODO -&amp;gt; python-gconf-keybinding-0.4
hard linking configGconf.py -&amp;gt; python-gconf-keybinding-0.4
hard linking pyconfig-accessgnome-ui.desktop -&amp;gt; python-gconf-keybinding-0.4
hard linking pyconfig-accessgnome-ui.py -&amp;gt; python-gconf-keybinding-0.4
hard linking pyconfig-accessgnome.glade -&amp;gt; python-gconf-keybinding-0.4
hard linking setup.py -&amp;gt; python-gconf-keybinding-0.4
creating dist
tar -cf dist/python-gconf-keybinding-0.4.tar python-gconf-keybinding-0.4
bzip2 -f9 dist/python-gconf-keybinding-0.4.tar
tar -cf dist/python-gconf-keybinding-0.4.tar python-gconf-keybinding-0.4
gzip -f9 dist/python-gconf-keybinding-0.4.tar
removing 'python-gconf-keybinding-0.4' (and everything under it)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ya se tiene un directorio dist con los 2 paquetes creados:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls -l dist/
total 40
-rw-r--r-- 1 ernesto ernesto 16539 ago  8 19:12 python-gconf-keybinding-0.4.tar.bz2
-rw-r--r-- 1 ernesto ernesto 18331 ago  8 19:12 python-gconf-keybinding-0.4.tar.gz
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;El contenido de un paquete es el siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;tar -tvzf dist/python-gconf-keybinding-0.4.tar.gz 
drwxr-xr-x ernesto/ernesto   0 2010-08-08 19:12 python-gconf-keybinding-0.4/
-rwxr-xr-x ernesto/ernesto 8420 2010-08-08 17:06 python-gconf-keybinding-0.4/pyconfig-accessgnome-ui.py
-rw-r--r-- ernesto/ernesto 33353 2010-07-27 20:41 python-gconf-keybinding-0.4/COPYING
-rwxr-xr-x ernesto/ernesto  8036 2010-08-07 17:49 python-gconf-keybinding-0.4/configGconf.py
-rw-r--r-- ernesto/ernesto     0 2010-07-27 20:41 python-gconf-keybinding-0.4/TODO
-rwxr-xr-x ernesto/ernesto   315 2010-07-27 20:41 python-gconf-keybinding-0.4/pyconfig-accessgnome-ui.desktop
-rwxr-xr-x ernesto/ernesto  1021 2010-08-08 18:12 python-gconf-keybinding-0.4/setup.py
-rw-r--r-- ernesto/ernesto 14729 2010-07-27 20:45 python-gconf-keybinding-0.4/pyconfig-accessgnome.glade
-rw-r--r-- ernesto/ernesto  4260 2010-07-27 20:41 python-gconf-keybinding-0.4/README
-rw-r--r-- ernesto/ernesto   394 2010-08-08 19:12 python-gconf-keybinding-0.4/PKG-INFO
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;S&amp;oacute;lo queda probar la instalaci&amp;oacute;n del paquete, primero se descomprime y luego se ejecuta el setup.py con la opci&amp;oacute;n install:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;tar -xvzf python-gconf-keybinding-0.4.tar.gz 
python-gconf-keybinding-0.4/
python-gconf-keybinding-0.4/pyconfig-accessgnome-ui.py
python-gconf-keybinding-0.4/COPYING
python-gconf-keybinding-0.4/configGconf.py
python-gconf-keybinding-0.4/TODO
python-gconf-keybinding-0.4/pyconfig-accessgnome-ui.desktop
python-gconf-keybinding-0.4/setup.py
python-gconf-keybinding-0.4/pyconfig-accessgnome.glade
python-gconf-keybinding-0.4/README
python-gconf-keybinding-0.4/PKG-INFO
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se cambia al directorio python-gconf-keybinding-0.4.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cd python-gconf-keybinding-0.4/ 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Instalaci&amp;oacute;n del paquete:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo python setup.py install 
running install
running build
running build_py
creating build
creating build/lib.linux-i686-2.6
copying configGconf.py -&amp;gt; build/lib.linux-i686-2.6
running build_scripts
creating build/scripts-2.6
copying and adjusting pyconfig-accessgnome-ui.py -&amp;gt; build/scripts-2.6
copying and adjusting configGconf.py -&amp;gt; build/scripts-2.6
changing mode of build/scripts-2.6/pyconfig-accessgnome-ui.py from 644 to 755
changing mode of build/scripts-2.6/configGconf.py from 644 to 755
running install_lib
running install_scripts
copying build/scripts-2.6/pyconfig-accessgnome-ui.py -&amp;gt; /usr/local/bin
copying build/scripts-2.6/configGconf.py -&amp;gt; /usr/local/bin
changing mode of /usr/local/bin/pyconfig-accessgnome-ui.py to 755
changing mode of /usr/local/bin/configGconf.py to 755
running install_data
running install_egg_info
Removing /usr/local/lib/python2.6/dist-packages/python_gconf_keybinding-0.4.egg-info
Writing /usr/local/lib/python2.6/dist-packages/python_gconf_keybinding-0.4.egg-info
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Como ya se explico antes el programa se instala en /usr/local .&lt;/p&gt;
&lt;p&gt;El pr&amp;oacute;ximo art&amp;iacute;culo explicar&amp;aacute; como crear un paquete Debian a partir del tar.gz.&lt;/p&gt;
&lt;p&gt;Para m&amp;aacute;s informaci&amp;oacute;n pueden visitar los siguientes enlaces:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.python.org/distutils/"&gt;http://docs.python.org/distutils/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://mundogeek.net/archivos/2008/09/23/distribuir-aplicaciones-python/"&gt;http://mundogeek.net/archivos/2008/09/23/distribuir-aplicaciones-python/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Debian"></category><category term="Empaquetado"></category><category term="Gnome"></category><category term="Linux"></category><category term="Python"></category></entry></feed>