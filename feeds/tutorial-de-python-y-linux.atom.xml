<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Página de Seraph - Tutorial de Python y Linux</title><link href="https://ecrespo.github.io/" rel="alternate"></link><link href="https://ecrespo.github.io/feeds/tutorial-de-python-y-linux.atom.xml" rel="self"></link><id>https://ecrespo.github.io/</id><updated>2010-08-07T11:10:00-05:30</updated><subtitle>Data Scientist </subtitle><entry><title>Mejorado el script en python que configura los accesos rápidos de teclado a aplicaciones en Gnome con gconf.</title><link href="https://ecrespo.github.io/mejorado-el-script-en-python-que-configura-los-accesos-rapidos-de-teclado-a-aplicaciones-en-gnome-con-gconf.html" rel="alternate"></link><published>2010-08-07T11:10:00-05:30</published><updated>2010-08-07T11:10:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2010-08-07:/mejorado-el-script-en-python-que-configura-los-accesos-rapidos-de-teclado-a-aplicaciones-en-gnome-con-gconf.html</id><summary type="html">&lt;p&gt;Para cambiar un poco la tem&amp;aacute;tica sobre Android volver&amp;eacute; a tocar un programa que explique en el &lt;a href="https://www.seraph.to/script-en-python-que-configura-los-accesos-rapidos-de-teclado-a-aplicaciones-en-gnome-con-gconf.html"&gt;siguiente art&amp;iacute;culo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;El programa lo pueden bajar desde google code y tiene el nombre de &lt;a href="http://python-config-accesskey-gnome.googlecode.com/hg/configGconf.py"&gt;configGconf.py&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Las mejoras que tiene el programa son las siguientes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Se puede seleccionar entre las distribuciones Debian …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;Para cambiar un poco la tem&amp;aacute;tica sobre Android volver&amp;eacute; a tocar un programa que explique en el &lt;a href="https://www.seraph.to/script-en-python-que-configura-los-accesos-rapidos-de-teclado-a-aplicaciones-en-gnome-con-gconf.html"&gt;siguiente art&amp;iacute;culo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;El programa lo pueden bajar desde google code y tiene el nombre de &lt;a href="http://python-config-accesskey-gnome.googlecode.com/hg/configGconf.py"&gt;configGconf.py&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Las mejoras que tiene el programa son las siguientes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Se puede seleccionar entre las distribuciones Debian, Ubuntu y Canaima ya que dependiendo del caso se usa iceweasel como navegador o firefox.&lt;/li&gt;
&lt;li&gt;Se despliega m&amp;aacute;s informaci&amp;oacute;n a la hora de ejecutar el programa.&lt;/li&gt;
&lt;li&gt;Se usa el m&amp;oacute;dulo python-argparse para capturar los argumentos del programa.&lt;/li&gt;
&lt;li&gt;Se pueden modificar todas las opciones de los accesos r&amp;aacute;pidos del teclado o una sola opci&amp;oacute;n.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Se tiene que tener instalado la librer&amp;iacute;a para python argparse; en el caso de Debian, Ubuntu y Canaima se ejecuta:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;aptitude install python-argparse&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Bajar el programa del enlace ya publicado.&lt;/p&gt;
&lt;p&gt;Es necesario darle permisos de ejecuci&amp;oacute;n:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chmod a+x configGconf.py&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;A continuaci&amp;oacute;n se explica el uso del programa con la mejora de la captura de los argumentos:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Si se ejecuta configGconf.py sin argumentos o con la opci&amp;oacute;n -h devuelve la ayuda.&lt;/li&gt;
&lt;li&gt;Si se ejecuta con -v devuelve el n&amp;uacute;mero de versi&amp;oacute;n del programa.&lt;/li&gt;
&lt;li&gt;Para listar la configuraci&amp;oacute;n que maneja las teclas r&amp;aacute;pidas con agregar la opci&amp;oacute;n de acci&amp;oacute;n (-a o --accion) y se pasa como argumento listar.&lt;/li&gt;
&lt;li&gt;Para cambiar todas las configuraciones de los accesos r&amp;aacute;pidos de teclado se agrega la acci&amp;oacute;n cambiar, la opci&amp;oacute;n (-d o --distribucion) con argumentos debian, ubuntu o canaima.&lt;/li&gt;
&lt;li&gt;Para cambiar una sola opci&amp;oacute;n se agrega en la acci&amp;oacute;n el argumento modificarOpci&amp;oacute;n, la distribuci&amp;oacute;n que se est&amp;aacute; usando (explicado en 4) y que opci&amp;oacute;n se quiere cambiar (orca,gnome-terminal,oowriter,iceweasel,nautilus,ooimpress,pidgin,oocalc,gedit,gnome-calculator,rhythmbox).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;A continuaci&amp;oacute;n se muestra los resultados de cada procedimiento anterior:&lt;/p&gt;
&lt;p&gt;```
./configGconf.py 
usage: configGconf [-h] [-a {cambiar,listar,modificarOpcion}]
                   [-d {debian,canaima,ubuntu}]
                   [-o {orca,gnome-terminal,oowriter,iceweasel,nautilus,ooimpress,pidgin,oocalc,gedit,gnome-calculator,rhythmbox}]
                   [-v]&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;Cambiar accesos rapidos en teclado a Gnome
```
optional arguments:&lt;/p&gt;
&lt;p&gt;-h, --help            show this help message and exit
  -a {cambiar,listar,modificarOpcion}, --accion {cambiar,listar,modificarOpcion}
                        lista gconf
  -d {debian,canaima,ubuntu}, --distribucion {debian,canaima,ubuntu}
                        seleccione entre Canaima,Debian y ubuntu
  -o {orca,gnome-terminal,oowriter,iceweasel,nautilus,ooimpress,pidgin,oocalc,gedit,gnome-calculator,rhythmbox}, --opcion {orca,gnome-terminal,oowriter,iceweasel,nautilus,ooimpress,pidgin,oocalc,gedit,gnome-calculator,rhythmbox}
                        Cambia la configuraci&amp;oacute;n de una opci&amp;oacute;n
  -v, --version
```&lt;/p&gt;
&lt;p&gt;```
./configGconf.py -v
configGconf 0.4&lt;/p&gt;
&lt;p&gt;./configGconf.py -a listar
Listar accesos rapidos del teclado a gconf&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;Aplicaci&amp;oacute;n:  orca o
Aplicaci&amp;oacute;n:  gnome-terminal t
Aplicaci&amp;oacute;n:  oowriter w
Aplicaci&amp;oacute;n:  iceweasel n
Aplicaci&amp;oacute;n:  nautilus h
Aplicaci&amp;oacute;n:  ooimpress i
Aplicaci&amp;oacute;n:  pidgin p
Aplicaci&amp;oacute;n:  oocalc x
Aplicaci&amp;oacute;n:  gedit e
Aplicaci&amp;oacute;n:  gnome-calculator c
Aplicaci&amp;oacute;n:  rhythmbox m&lt;/p&gt;
&lt;p&gt;./configGconf.py  -a cambiar -d debian
Listar accesos rapidos del teclado de gconf&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;Configurando aplicacion: orca, acceso teclado: o
Configurando aplicacion: gnome-terminal, acceso teclado: t
Configurando aplicacion: oowriter, acceso teclado: w
Configurando aplicacion: iceweasel, acceso teclado: n
Configurando aplicacion: nautilus, acceso teclado: h
Configurando aplicacion: ooimpress, acceso teclado: i
Configurando aplicacion: pidgin, acceso teclado: p
Configurando aplicacion: oocalc, acceso teclado: x
Configurando aplicacion: gedit, acceso teclado: e
Configurando aplicacion: gnome-calculator, acceso teclado: c
Configurando aplicacion: rhythmbox, acceso teclado: m&lt;/p&gt;
&lt;p&gt;./configGconf.py  -a modificarOpcion -d debian -o oowriter
Listar accesos rapidos del teclado de gconf&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;Configurando aplicacion: oowriter, acceso teclado: w&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;Para finalizar el art&amp;iacute;culo se colocar&amp;aacute; el c&amp;oacute;digo del programa:&lt;/p&gt;
&lt;p&gt;```python&lt;/p&gt;
&lt;h1 id="!/usr/bin/env python"&gt;!/usr/bin/env python&lt;/h1&gt;
&lt;h1 id="-- coding: utf-8 --"&gt;-&lt;em&gt;- coding: utf-8 -&lt;/em&gt;-&lt;/h1&gt;
&lt;p&gt;"""
Name: configGconf
Description: Aplicaci&amp;oacute;n y m&amp;oacute;dulo que permite modificar los accesos r&amp;aacute;pido de teclas a programas
Version:0.4
License: GPLv3
Copyright: Copyright (C) 2009  Distrito Socialista Tecnologico AIT PDVSA M&amp;eacute;rida
Author: Ernesto Nadir Crespo Avila
Email: ecrespo@gmail.com
Changelog:
 0.1: * Agregada multiples opciones de configuraci&amp;oacute;n.
 0.2: * Agregada opci&amp;oacute;n de selecci&amp;oacute;n de distribuci&amp;oacute;n debian, ubuntu o canaima.
      * Agregada informaci&amp;oacute;n adicional a la hora de desplegar en pantalla.
 0.3: * Agregado el uso del m&amp;oacute;dulo argparse para simplificar la captura de argumentos del comando.
 0.4: * Agregada la posibilidad de modificar una s&amp;oacute;la opci&amp;oacute;n de las teclas r&amp;aacute;pidas de gconf.
"""
version = "0.4"
autor = "Ernesto Nadir Crespo Avila"
email = "ecrespo@gmail.com"
copyright = "GPLv3"&lt;/p&gt;
&lt;h1 id="importar modulo gconf"&gt;Importar m&amp;oacute;dulo gconf&lt;/h1&gt;
&lt;p&gt;import gconf&lt;/p&gt;
&lt;p&gt;class Conf:
    def &lt;strong&gt;init&lt;/strong&gt;(self):
        #Se crea la instancia de la clase de gconf
        self.__gconfClient = gconf.client_get_default()
        #Se crea la tupĺa aplicaciones      &lt;br/&gt;
        self.__aplicaciones = ("orca", "gnome-terminal","oowriter","iceweasel","nautilus","ooimpress","pidgin","oocalc","gedit","gnome-calculator","rhythmbox")
        #Se crea la ruta del comando del teclado y la ruta del modificador de teclado
        self.__comando = "/apps/metacity/keybinding_commands/command_"
        self.__asignacion_teclado = "/apps/metacity/global_keybindings/run_command_"
        #Se crea un diccionario teclas con la asociaci&amp;oacute;n entre la aplicaci&amp;oacute;n y su acceso r&amp;aacute;pido de teclado
        self.__teclas = {"orca":"o","gnome-terminal":"t","oowriter":"w","iceweasel":"n","nautilus":"h","ooimpress":"i","pidgin":"p","oocalc":"x","gedit":"e","gnome-calculator":"c","rhythmbox":"m"}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;def modificar_opcion(self,opciones,distribucion,interfaz=0):
    if distribucion &amp;lt;&amp;gt; "debian":
        self.__aplicaciones = ("orca", "gnome-terminal","oowriter","firefox","nautilus","ooimpress","pidgin","oocalc","gedit","gnome-calculator","rhythmbox")
        self.__teclas = {"orca":"o","gnome-terminal":"t","oowriter":"w","firefox":"n","nautilus":"h","ooimpress":"i","pidgin":"p","oocalc":"x","gedit":"e","gnome-calculator":"c","rhythmbox":"m"}
        if opciones == "iceweasel":
            opcion = "firefox"
        elif opciones == "firefox":
            opcion = opciones
        else:
            opcion = opciones
    else:
        if opciones == "firefox":
            opcion = "iceweasel"
        else:
            opcion = opciones

    if interfaz == 0:
        print "Listar accesos rapidos del teclado de gconf"
        print "________________________________________________"
    cont = 1
    #se genera un ciclo con las aplicaciones existentes
    for aplicacion in self.__aplicaciones:
        #Si la opci&amp;oacute;n existe como aplicaci&amp;oacute;n se modifica el gconf, si no se sale sin resultado
        if aplicacion == opcion:
            ruta1 = "%s%s" %(self.__comando,cont)
            ruta2 = "%s%s" %(self.__asignacion_teclado,cont)
            self.__gconfClient.set_string(ruta1, "%s" %aplicacion)
            self.__gconfClient.set_string(ruta2, "%s" %self.__teclas[aplicacion])
            if interfaz == 0:
                #Se imprime en pantalla los cambios logrados.
                print "Configurando aplicacion: %s, acceso teclado: %s" %(aplicacion,self.__teclas[aplicacion])
            break
        cont = cont+1

def modificar(self,distribucion):
    """
    modificar: Permite modificar los accesos r&amp;aacute;pidos del teclado
    Argumentos:
     * distribucion: se le pasa una distribuci&amp;oacute;n a utilizar entre debian,ubuntu y canaima.
    """
    cont = 1
    print "Listar accesos rapidos del teclado de gconf"
    print "________________________________________________"
    #Se la distribuci&amp;oacute;n no es debian se cambia iceweasel por firefox en las variables aplicaciones y teclas.
    if distribucion &amp;lt;&amp;gt; "debian":
        self.__aplicaciones = ("orca", "gnome-terminal","oowriter","firefox","nautilus","ooimpress","pidgin","oocalc","gedit","gnome-calculator","rhythmbox")
        self.__teclas = {"orca":"o","gnome-terminal":"t","oowriter":"w","firefox":"n","nautilus":"h","ooimpress":"i","pidgin":"p","oocalc":"x","gedit":"e","gnome-calculator":"c","rhythmbox":"m"}
    #Se genera un ciclo seg&amp;uacute;n las aplicaciones
    for aplicacion in self.__aplicaciones:
        #Definici&amp;oacute;n de las rutas del gconf del comando y del modificador del teclado
        ruta1 =  "%s%s" %(self.__comando,cont)
        ruta2 = "%s%s"  %(self.__asignacion_teclado,cont)
        #Se modifica gconf
        self.__gconfClient.set_string(ruta1, "%s" %aplicacion)
        self.__gconfClient.set_string(ruta2, "%s" %self.__teclas[aplicacion])
        #Se imprime en pantalla los cambios logrados.
        print "Configurando aplicacion: %s, acceso teclado: %s" %(aplicacion,self.__teclas[aplicacion])
        cont = cont +1


def listar(self):
    """
    listar: Permite listar los accesos r&amp;aacute;pidos de teclado de gconf
    """
    cont = 1
    print "Listar accesos rapidos del teclado a gconf"
    print "________________________________________________"
    #Se crea un ciclo seg&amp;uacute;n la lista de aplicaciones
    for aplicacion in self.__aplicaciones:
        #Se define la ruta del comando del teclado seg&amp;uacute;n gconf
        ruta1 =  "%s%s" %(self.__comando,cont)
        #Se define la ruta del modificador del teclado
        ruta2 = "%s%s"  %(self.__asignacion_teclado,cont)
        #Se desplega en pantalla 
        print "Aplicaci&amp;oacute;n: " ,self.__gconfClient.get_string(ruta1),self.__gconfClient.get_string(ruta2)
        cont = cont +1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;if &lt;strong&gt;name&lt;/strong&gt; == "&lt;strong&gt;main&lt;/strong&gt;":
    #Importar m&amp;oacute;dulo argparse para capturar los argumentos del comando  &lt;br/&gt;
    import argparse
    #Se instancia la clase Conf en el objeto config
    config = Conf()
    #Creaci&amp;oacute;n del parse 
    parser = argparse.ArgumentParser(prog='configGconf',description="Cambiar accesos rapidos en teclado a Gnome")
    acciones = ["cambiar","listar","modificarOpcion"]
    distribuciones = ["debian","canaima","ubuntu"]
    aplicaciones = ["orca", "gnome-terminal","oowriter","iceweasel","nautilus","ooimpress","pidgin","oocalc","gedit","gnome-calculator","rhythmbox"]
    #Se agrega las opciones accion, distribucion y version.  &lt;br/&gt;
    parser.add_argument('-a','--accion',type=str,choices=acciones,default=acciones,help='lista gconf')
    parser.add_argument('-d','--distribucion',choices=distribuciones,type=str,default=distribuciones,help='seleccione entre Canaima,Debian y ubuntu')
    parser.add_argument('-o','--opcion',choices=aplicaciones,type=str,default=aplicaciones,help='Cambia la configuraci&amp;oacute;n de una opci&amp;oacute;n')
    parser.add_argument('-v', '--version', action='version', version='%(prog)s 0.4') 
    #Se captura los argumentos del comando ejecutado.
    args = parser.parse_args()
    # ejecuci&amp;oacute;n de las opciones seg&amp;uacute;n la acci&amp;oacute;n y la distribuci&amp;oacute;n
    if args.accion == "listar":
        #Se lista las configuraciones de los accesos del teclado
        config.listar()
    elif args.distribucion in ('debian','ubuntu','canaima') and args.accion == "cambiar":
        #Se modifican las opciones de los accesos del teclado
        config.modificar(args.distribucion)
    elif args.accion == "modificarOpcion":
        #Permite modificar una opcion
        config.modificar_opcion(args.opcion,args.distribucion)
    else:
        #Si no se pasa ning&amp;uacute;n argumento se despliega la ayuda
        parser.print_help()
```&lt;/p&gt;
&lt;p&gt;En el siguiente art&amp;iacute;culo se explicar&amp;aacute; los cambios que se hicieron en la interfaz gr&amp;aacute;fica del art&amp;iacute;culo &lt;a href="https://www.seraph.to/desarrollo-de-interfaz-grafica-para-la-configuracion-de-accesos-rapidos-de-teclado-para-gconf.html"&gt;Desarrollo de interfaz gr&amp;aacute;fica para la configuraci&amp;oacute;n de accesos r&amp;aacute;pidos del teclado&lt;/a&gt;.
Luego se explicar&amp;aacute; como se crea un paquete python y como se crea un paquete para Debian a partir del paquete python.&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;&amp;iexcl;Haz tu donativo!
Si te gust&amp;oacute; el art&amp;iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&amp;oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el c&amp;oacute;digo QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/&gt;&lt;/p&gt;</content><category term="Python"></category><category term="Gnome"></category><category term="Gconf"></category><category term="Accesibilidad"></category></entry></feed>