<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Página de Seraph - Tutorial de Linux</title><link href="https://ecrespo.github.io/" rel="alternate"></link><link href="https://ecrespo.github.io/feeds/tutorial-de-linux.atom.xml" rel="self"></link><id>https://ecrespo.github.io/</id><updated>2017-06-24T12:00:00-04:00</updated><subtitle>Data Scientist </subtitle><entry><title>Base de datos InfluxDB en Debian Stretch</title><link href="https://ecrespo.github.io/base-de-datos-influxdb-en-debian-stretch.html" rel="alternate"></link><published>2017-06-24T12:00:00-04:00</published><updated>2017-06-24T12:00:00-04:00</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2017-06-24:/base-de-datos-influxdb-en-debian-stretch.html</id><summary type="html">&lt;p&gt;InfluxDB es una base de datos opensource de series de tiempo, para manejo de eventos,monitoreo, métricas, Internet de las cosas y Analítica en tiempo real. Desarrollada por &lt;a href="https://www.influxdata.com/"&gt;InfluxData&lt;/a&gt; en Lenguaje Go. Pueden ver más información en &lt;a href="https://en.wikipedia.org/wiki/InfluxDB"&gt;wikipedia&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Para instalar en Debian simplemente se usa &lt;code&gt;apt-get&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# apt-cache search influxdb 
golang-github-influxdb-enterprise-client-dev …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;InfluxDB es una base de datos opensource de series de tiempo, para manejo de eventos,monitoreo, métricas, Internet de las cosas y Analítica en tiempo real. Desarrollada por &lt;a href="https://www.influxdata.com/"&gt;InfluxData&lt;/a&gt; en Lenguaje Go. Pueden ver más información en &lt;a href="https://en.wikipedia.org/wiki/InfluxDB"&gt;wikipedia&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Para instalar en Debian simplemente se usa &lt;code&gt;apt-get&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# apt-cache search influxdb 
golang-github-influxdb-enterprise-client-dev - Golang client for speaking to the InfluxDB Enterprise application
golang-github-influxdb-usage-client-dev - library for speaking to the InfluxDB Anonymous Usage Reporting API
golang-gopkg-alexcesaro-statsd.v1-dev - simple and efficient Golang StatsD client
golang-github-influxdb-influxdb-dev - Scalable datastore for metrics, events, and real-time analytics. Dev package
influxdb - Scalable datastore for metrics, events, and real-time analytics
influxdb-client - command line interface for InfluxDB
influxdb-dev - Transitional package for golang-github-influxdb-influxdb-dev
ruby-influxdb - library for InfluxDB
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para instalar:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# apt-get install influxdb influxdb-client
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para probar que está en funcionamiento:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# influx
Visit https://enterprise.influxdata.com to register for updates, InfluxDB server management, and monitoring.
Connected to http://localhost:8086 version 1.0.2
InfluxDB shell version: 1.0.2
&amp;gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para crear una base de datos llamada &lt;code&gt;mydb&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; create database mydb
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Listar las bases de datos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; show databases
name: databases
---------------
name
_internal
mydb
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Insertar datos y consultarlos en la base de datos &lt;code&gt;mydb&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; use mydb
Using database mydb
&amp;gt; INSERT cpu,host=ServerA,region=us_west value=0.64
&amp;gt; SELECT host, region, value FROM cpu
name: cpu
---------
time                   host         region value
1498340879346347895 ServerA us_west 0.64
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Por lo que se ve, la clave primaria de los datos siempre es el tiempo. &lt;/p&gt;
&lt;p&gt;Ahora una pequeña prueba con Python.&lt;/p&gt;
&lt;p&gt;Para instalar la librería en Python:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# pip3 install influxdb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se tiene el siguiente script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/env python3&lt;/span&gt;





&lt;span class="c1"&gt;#Se importa influxdb&lt;/span&gt;


&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;influxdb&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;InfluxDBClient&lt;/span&gt;





&lt;span class="c1"&gt;#Se define un json con los datos a insertar&lt;/span&gt;


&lt;span class="n"&gt;json_body&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;


    &lt;span class="p"&gt;{&lt;/span&gt;


        &lt;span class="s2"&gt;&amp;quot;measurement&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;cpu_load_short&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;


        &lt;span class="s2"&gt;&amp;quot;tags&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;


            &lt;span class="s2"&gt;&amp;quot;host&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;server01&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;


            &lt;span class="s2"&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;us-west&amp;quot;&lt;/span&gt;


        &lt;span class="p"&gt;},&lt;/span&gt;


        &lt;span class="s2"&gt;&amp;quot;time&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;2009-11-10T23:00:00Z&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;


        &lt;span class="s2"&gt;&amp;quot;fields&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;


            &lt;span class="s2"&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;0.64&lt;/span&gt;


        &lt;span class="p"&gt;}&lt;/span&gt;


    &lt;span class="p"&gt;},&lt;/span&gt;


    &lt;span class="p"&gt;{&lt;/span&gt;


        &lt;span class="s2"&gt;&amp;quot;measurement&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;cpu_load_short&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;


        &lt;span class="s2"&gt;&amp;quot;tags&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;


            &lt;span class="s2"&gt;&amp;quot;host&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;server02&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;


            &lt;span class="s2"&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;us-west&amp;quot;&lt;/span&gt;


        &lt;span class="p"&gt;},&lt;/span&gt;


        &lt;span class="s2"&gt;&amp;quot;time&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;2009-12-10T23:00:00Z&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;


        &lt;span class="s2"&gt;&amp;quot;fields&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;


            &lt;span class="s2"&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;0.65&lt;/span&gt;


        &lt;span class="p"&gt;}&lt;/span&gt;


    &lt;span class="p"&gt;}&lt;/span&gt;


&lt;span class="p"&gt;]&lt;/span&gt;


&lt;span class="c1"&gt;#Se conecta a la base de datos&lt;/span&gt;


&lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;InfluxDBClient&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8086&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;mydb&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="c1"&gt;#Se crea la base de datos mydb&lt;/span&gt;


&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;create_database&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mydb&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;





&lt;span class="c1"&gt;#Se inserta los datos&lt;/span&gt;


&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write_points&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;json_body&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="c1"&gt;#Se consulta y se muestra en pantalla&lt;/span&gt;


&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;select value from cpu_load_short;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Result: {0}&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al ejecutar el script, este devuelve lo siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;prueba&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;influxdb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt; 
&lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ResultSet&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;cpu_load_short&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;, None)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;0.64&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;time&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;2009-11-10T23:00:00Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;0.65&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;time&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;2009-12-10T23:00:00Z&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}]})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;O desde el cliente de &lt;code&gt;influxdb&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; use mydb
Using database mydb
&amp;gt; select value from cpu_load_short;
name: cpu_load_short
--------------------
time   value
1257894000000000000 0.64
1260486000000000000 0.65
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Como se muestra, la clave que maneja las consultas es el tiempo.&lt;/p&gt;
&lt;p&gt;Para más información se tienen los siguientes enlaces:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Grafana, influxdb y python.  &lt;/li&gt;
&lt;li&gt;influxdb-python y su documentación.   &lt;/li&gt;
&lt;li&gt;Documentación de influxdata.  &lt;/li&gt;
&lt;li&gt;Plataforma de Influxdata  &lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="InfluxDB"></category></entry><entry><title>Fabric como un ssh con esteroides en Debian Stretch</title><link href="https://ecrespo.github.io/fabric-como-un-ssh-con-esteroides-en-debian-stretch.html" rel="alternate"></link><published>2017-06-10T09:00:00-04:00</published><updated>2017-06-10T09:00:00-04:00</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2017-06-10:/fabric-como-un-ssh-con-esteroides-en-debian-stretch.html</id><summary type="html">&lt;p&gt;&lt;code&gt;Fabric&lt;/code&gt; es una librería y herramienta de línea de comandos que genera un flujo de tareas para la automatización de despliegues y tareas administrativas de manera remota.&lt;/p&gt;
&lt;p&gt;Este artículo se basa en un vídeo de youtube de una introducción a Fabric.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://youtu.be/bY2U4ikgezk"&gt;https://youtu.be/bY2U4ikgezk&lt;/a&gt; &lt;/p&gt;
&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/bY2U4ikgezk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;Se tienen 3 equipos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;192 …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;code&gt;Fabric&lt;/code&gt; es una librería y herramienta de línea de comandos que genera un flujo de tareas para la automatización de despliegues y tareas administrativas de manera remota.&lt;/p&gt;
&lt;p&gt;Este artículo se basa en un vídeo de youtube de una introducción a Fabric.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://youtu.be/bY2U4ikgezk"&gt;https://youtu.be/bY2U4ikgezk&lt;/a&gt; &lt;/p&gt;
&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/bY2U4ikgezk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;Se tienen 3 equipos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;192.168.1.3: Equipo con Debian Stretch y donde se tiene fabric instalado.&lt;/li&gt;
&lt;li&gt;192.168.1.2: Equipo con Debian Stretch.&lt;/li&gt;
&lt;li&gt;192.168.1.6: Equipo con Debian Jessie.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sólo se necesita un equipo con &lt;code&gt;Fabric&lt;/code&gt;, se usa Debian Stretch por que en esta versión de Debian no es tan complicado de instalar Fabric, en Debian Jessie me ha dado algo de problemas, se logra instalar pero da errores en la ejecución (por lo que he investigado, el problema es la librería &lt;code&gt;paramiko&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Instalación de &lt;code&gt;Fabric&lt;/code&gt;:
Con pip:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#pip install fabric&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se crea un archivo &lt;code&gt;fabfile.py&lt;/code&gt; co el siguiente contenido:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/env python&lt;/span&gt;

&lt;span class="c1"&gt;#de la api de fabric de importa run, sudo, task, get y put&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;fabric.api&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;sudo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;put&lt;/span&gt;



&lt;span class="c1"&gt;#Se define la tareta cmdrun que ejectua el argumento&lt;/span&gt;

&lt;span class="nd"&gt;@task&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;cmdrun&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;



&lt;span class="c1"&gt;#Se define la tarea sudorun que ejecuta el argumento vía sudo&lt;/span&gt;

&lt;span class="nd"&gt;@task&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;sudorun&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="n"&gt;sudo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;



&lt;span class="c1"&gt;#Se define la tarea download que se le pasa un argumento que se descarga en /tmp/&lt;/span&gt;

&lt;span class="nd"&gt;@task&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;download&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;remote_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;local_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/tmp/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;use_sudo&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;



&lt;span class="c1"&gt;#Se define la tarea upload que se le pasa dos argumentos&lt;/span&gt;

&lt;span class="c1"&gt;#local_path y remote_path.&lt;/span&gt;

&lt;span class="nd"&gt;@task&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;upload&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;arg2&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="n"&gt;put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;local_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;arg1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;remote_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;arg2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;use_sudo&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;



&lt;span class="c1"&gt;#Se define la tarea host_type que ejecuta uname.&lt;/span&gt;

&lt;span class="nd"&gt;@task&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;host_type&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;

        &lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;uname -s&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para ejecutar las tareaas se usa el comando &lt;code&gt;fab&lt;/code&gt; (se define una variable de entorno llamada clave la cual maneja la clave del usuario):&lt;/p&gt;
&lt;p&gt;Ejecución de &lt;code&gt;ps&lt;/code&gt; en dos equipos en paralelo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fab -H 192.168.1.2,192.168.1.6 -p $clave -P cmdrum:&amp;quot;ps -ef|wc -l&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="" src="./images/fabriccomounsshconesteroidesendebianstretch-1.png"&gt;&lt;/p&gt;
&lt;p&gt;Devuelve la ejecución del &lt;code&gt;ps&lt;/code&gt; y la cantidad de líneas que resulta en cada equipo.&lt;/p&gt;
&lt;p&gt;Se averigua el tipo de host de cada equipo remoto con &lt;code&gt;host_type&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fab -H 192.168.1.2,192.168.1.6 -p $clave   host_type
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="" src="./images/fabriccomounsshconesteroidesendebianstretch-2.png"&gt;&lt;/p&gt;
&lt;p&gt;Acá se muestra de manera secuencial la ejecución de los comandos en los equipos, para que sea de manera paralela se usa la opción &lt;code&gt;-P&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fab -H 192.168.1.2,192.168.1.6 -p $clave  -P host_type
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="" src="./images/fabriccomounsshconesteroidesendebianstretch-3.png"&gt;&lt;/p&gt;
&lt;p&gt;Ya la ejecución no se hace de manera secuencial en cada equipo.&lt;/p&gt;
&lt;p&gt;Se ejecuta &lt;code&gt;fdisk&lt;/code&gt; por medio de &lt;code&gt;sudo&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fab -H 192.168.1.2,192.168.1.6 -p $clave -P sudo:&amp;quot;fdisk -l| grep sda&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="" src="./images/fabriccomounsshconesteroidesendebianstretch-4.png"&gt;&lt;/p&gt;
&lt;p&gt;El comando devuelve las particiones &lt;code&gt;sda&lt;/code&gt; que tiene cada equipo.&lt;/p&gt;
&lt;p&gt;Se sube un arhivo &lt;code&gt;sources.list&lt;/code&gt; al equipo 192.168.1.2, por medio de &lt;code&gt;upload&lt;/code&gt; y se pasa como argumento el archivo local y la ruta remota:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fab -h 192.168.1.2 -p $clave upload:&amp;quot;sources.list&amp;quot;,&amp;quot;/tmp/&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="" src="./images/fabriccomounsshconesteroidesendebianstretch-5.png"&gt;&lt;/p&gt;
&lt;p&gt;La figura muestra que la subida del archivo se realizó sin problemas, ahora se revisa en el directorio &lt;code&gt;/tmp/&lt;/code&gt;:
La figura muestra que el archivo &lt;code&gt;sources.list&lt;/code&gt; se encuentra en &lt;code&gt;/tmp/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/fabriccomounsshconesteroidesendebianstretch-6.png"&gt;&lt;/p&gt;
&lt;p&gt;Se baja el archivo &lt;code&gt;prueba.txt&lt;/code&gt; del equipo 192.168.1.2, por medio de download, pasando la ruta remota del archivo, este archivo se descarga por defecto en &lt;code&gt;/tmp/&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fab -H 192.168.1.2 -p $clave upload:&amp;quot;sources.list&amp;quot;,&amp;quot;/tmp/&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="" src="./images/fabriccomounsshconesteroidesendebianstretch-7.png"&gt;&lt;/p&gt;
&lt;p&gt;En este caso se descargo el archivo &lt;code&gt;/home/ernesto/prueba.txt&lt;/code&gt; a &lt;code&gt;/tmp/&lt;/code&gt;, luego se listo localmente el archivo para verificar que se encuentra en dicho directorio.&lt;/p&gt;
&lt;p&gt;Un tutorial más completo sobre Fabric lo pueden encontrar en su &lt;a href="http://docs.fabfile.org/en/1.13/tutorial.html"&gt;sitio&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Otros vídeos de sobre fabric:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://youtu.be/4qav2EuXsGU"&gt;https://youtu.be/4qav2EuXsGU&lt;/a&gt; &lt;/p&gt;
&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/4qav2EuXsGU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://youtu.be/bTXert2uRco"&gt;https://youtu.be/bTXert2uRco&lt;/a&gt;&lt;/p&gt;
&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/bTXert2uRco" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://youtu.be/ZpZkKbZwPoA"&gt;https://youtu.be/ZpZkKbZwPoA&lt;/a&gt;&lt;/p&gt;
&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/ZpZkKbZwPoA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://youtu.be/VmcGuKPpWH8"&gt;https://youtu.be/VmcGuKPpWH8&lt;/a&gt; &lt;/p&gt;
&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/VmcGuKPpWH8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://youtu.be/g4rCFMWAwgo"&gt;https://youtu.be/g4rCFMWAwgo&lt;/a&gt; &lt;/p&gt;
&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/g4rCFMWAwgo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="SSH"></category><category term="Fabric"></category></entry><entry><title>Mejorar las respuestas de consultas de DNS con dnsmasq usando DNSCrypt</title><link href="https://ecrespo.github.io/mejorar-las-respuestas-de-consultas-de-dns-con-dnsmasq-usando-dnscrypt.html" rel="alternate"></link><published>2017-06-06T11:00:00-04:00</published><updated>2017-06-06T11:00:00-04:00</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2017-06-06:/mejorar-las-respuestas-de-consultas-de-dns-con-dnsmasq-usando-dnscrypt.html</id><summary type="html">&lt;p&gt;He usado &lt;code&gt;dnsmasq&lt;/code&gt; como &lt;code&gt;dns cache&lt;/code&gt; de las consultas de &lt;code&gt;opendns&lt;/code&gt; o de los DNS de Google.&lt;/p&gt;
&lt;p&gt;Los artículos anteriores que hablan de &lt;code&gt;dnsmasq&lt;/code&gt; son:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/usar-dnsmasq-como-servidor-dns-cache-y-local.html"&gt;Usar dnsmasq como servidor DNS cache y local&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/mejorando-la-velocidad-de-consultas-de-dns-con-dnsmasq-y-probar-pruebas-de-diagnostico.html"&gt;Mejorando la velocidad de consultas de DNS con dnsmasq y probar pruebas de diagnostico&lt;/a&gt;   &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Y ahora se …&lt;/p&gt;</summary><content type="html">&lt;p&gt;He usado &lt;code&gt;dnsmasq&lt;/code&gt; como &lt;code&gt;dns cache&lt;/code&gt; de las consultas de &lt;code&gt;opendns&lt;/code&gt; o de los DNS de Google.&lt;/p&gt;
&lt;p&gt;Los artículos anteriores que hablan de &lt;code&gt;dnsmasq&lt;/code&gt; son:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/usar-dnsmasq-como-servidor-dns-cache-y-local.html"&gt;Usar dnsmasq como servidor DNS cache y local&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/mejorando-la-velocidad-de-consultas-de-dns-con-dnsmasq-y-probar-pruebas-de-diagnostico.html"&gt;Mejorando la velocidad de consultas de DNS con dnsmasq y probar pruebas de diagnostico&lt;/a&gt;   &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Y ahora se usará DNSCrypt como lo muestra los siguientes artículos:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/cifrar-el-trafico-de-dns-en-linux-con-dnscrypt-y-opendns.html"&gt;Cifrar el tráfico de DNS en Linux con DNSCrypt y OpenDNS&lt;/a&gt;   &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html"&gt;Cifrar el tráfico de DNS en Debian 9 Stretch (actualización 2017)&lt;/a&gt; &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Para iniciar se instalará &lt;code&gt;dnsmasq&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#apt-get install dnsmasq 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;DNSCrypt&lt;/code&gt; escucha en la IP 127.0.2.1 en el puerto 53, para el caso de dnsmasq, este escuchará desde la IP 127.0.0.1 y el puerto 53 para evitar conflictos entre ambas aplicaciones.&lt;/p&gt;
&lt;p&gt;Se edita el archivo &lt;code&gt;/etc/dnsmasq.conf&lt;/code&gt; :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#vim /etc/dnsmasq.conf

#Realizar consultas de dominios completos solamente.
domain-needed
#Evitar busquedas internas de dominios locales
bogus-priv
#Habilita dnssec en dnsmasq
proxy-dnssec
#No tomar en cuenta el contenido del archivo /etc/resolv.conf
no-resolv
#Se escucha el servidor de nombres de dnscrypt
server=127.0.2.1
#Evitar ataques de dns rebinding
stop-dns-rebind
#evitar que servidores resuelvan consultas localhost
rebind-localhost-ok
#Se reciben consultas a dnsmasq en 127.0.0.1
listen-address=127.0.0.1
#No se habilita las interfaces para dhcp
no-dhcp-interface=wlp1s0,enp2s0,lo
#Sólo se realizan busquedas de direcciones que está resolviendo.
bind-interfaces
#No tomar en cuenta los hosts del archivo /etc/hosts
no-hosts
#Se define un cache de 500k
cache-size=500
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se salva el archivo y se reinicia &lt;code&gt;dnsmasq&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="nn"&gt;systemctl&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;
&lt;span class="err"&gt;●&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;A&lt;/span&gt; &lt;span class="nt"&gt;lightweight&lt;/span&gt; &lt;span class="nt"&gt;DHCP&lt;/span&gt; &lt;span class="nt"&gt;and&lt;/span&gt; &lt;span class="nt"&gt;caching&lt;/span&gt; &lt;span class="nt"&gt;DNS&lt;/span&gt; &lt;span class="nt"&gt;server&lt;/span&gt;
   &lt;span class="nt"&gt;Loaded&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt; &lt;span class="o"&gt;(/&lt;/span&gt;&lt;span class="nt"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;system&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;vendor&lt;/span&gt; &lt;span class="nt"&gt;preset&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
   &lt;span class="nt"&gt;Active&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;active&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;running&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;since&lt;/span&gt; &lt;span class="nt"&gt;Sun&lt;/span&gt; &lt;span class="nt"&gt;2017-06-04&lt;/span&gt; &lt;span class="nt"&gt;18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;-04&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;2&lt;/span&gt; &lt;span class="nt"&gt;days&lt;/span&gt; &lt;span class="nt"&gt;ago&lt;/span&gt;
  &lt;span class="nt"&gt;Process&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;851&lt;/span&gt; &lt;span class="nt"&gt;ExecStartPost&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="nt"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;init&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt; &lt;span class="nt"&gt;systemd-start-resolvconf&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;code&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;exited&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;SUCCESS&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
  &lt;span class="nt"&gt;Process&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;814&lt;/span&gt; &lt;span class="nt"&gt;ExecStart&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="nt"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;init&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt; &lt;span class="nt"&gt;systemd-exec&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;code&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;exited&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;SUCCESS&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
  &lt;span class="nt"&gt;Process&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;793&lt;/span&gt; &lt;span class="nt"&gt;ExecStartPre&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="nt"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;sbin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt; &lt;span class="nt"&gt;--test&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;code&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;exited&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;SUCCESS&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;Main&lt;/span&gt; &lt;span class="nt"&gt;PID&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;842&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
    &lt;span class="nt"&gt;Tasks&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;limit&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;4915&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
   &lt;span class="nt"&gt;Memory&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;844&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0K&lt;/span&gt;
      &lt;span class="nt"&gt;CPU&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;7&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;042s&lt;/span&gt;
   &lt;span class="nt"&gt;CGroup&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;system&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;slice&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;
           &lt;span class="err"&gt;└─&lt;/span&gt;&lt;span class="nt"&gt;842&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;sbin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt; &lt;span class="nt"&gt;-x&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;run&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;pid&lt;/span&gt; &lt;span class="nt"&gt;-u&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt; &lt;span class="nt"&gt;-r&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;run&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;resolv&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;conf&lt;/span&gt; &lt;span class="nt"&gt;-7&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;d&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;d&lt;/span&gt;

&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;04&lt;/span&gt; &lt;span class="nt"&gt;18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Starting&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;A&lt;/span&gt; &lt;span class="nt"&gt;lightweight&lt;/span&gt; &lt;span class="nt"&gt;DHCP&lt;/span&gt; &lt;span class="nt"&gt;and&lt;/span&gt; &lt;span class="nt"&gt;caching&lt;/span&gt; &lt;span class="nt"&gt;DNS&lt;/span&gt; &lt;span class="nt"&gt;server&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;04&lt;/span&gt; &lt;span class="nt"&gt;18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;793&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;revisión&lt;/span&gt; &lt;span class="nt"&gt;de&lt;/span&gt; &lt;span class="nt"&gt;sintaxis&lt;/span&gt; &lt;span class="nt"&gt;OK&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;04&lt;/span&gt; &lt;span class="nt"&gt;18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;842&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;iniciado&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;versión&lt;/span&gt; &lt;span class="nt"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;76&lt;/span&gt; &lt;span class="nt"&gt;tamaño&lt;/span&gt; &lt;span class="nt"&gt;de&lt;/span&gt; &lt;span class="nt"&gt;caché&lt;/span&gt; &lt;span class="nt"&gt;500&lt;/span&gt;
&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;04&lt;/span&gt; &lt;span class="nt"&gt;18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;842&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;opciones&lt;/span&gt; &lt;span class="nt"&gt;de&lt;/span&gt; &lt;span class="nt"&gt;compilación&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;IPv6&lt;/span&gt; &lt;span class="nt"&gt;GNU-getopt&lt;/span&gt; &lt;span class="nt"&gt;DBus&lt;/span&gt; &lt;span class="nt"&gt;i18n&lt;/span&gt; &lt;span class="nt"&gt;IDN&lt;/span&gt; &lt;span class="nt"&gt;DHCP&lt;/span&gt; &lt;span class="nt"&gt;DHCPv6&lt;/span&gt; &lt;span class="nt"&gt;no-Lua&lt;/span&gt; &lt;span class="nt"&gt;TFTP&lt;/span&gt; &lt;span class="nt"&gt;conn&lt;/span&gt;
&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;04&lt;/span&gt; &lt;span class="nt"&gt;18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;842&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;advertencia&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;ignorando&lt;/span&gt; &lt;span class="nt"&gt;opción&lt;/span&gt; &lt;span class="nt"&gt;resolv-file&lt;/span&gt; &lt;span class="nt"&gt;porque&lt;/span&gt; &lt;span class="nt"&gt;no-resolv&lt;/span&gt; &lt;span class="nt"&gt;está&lt;/span&gt; &lt;span class="nt"&gt;fijado&lt;/span&gt;
&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;04&lt;/span&gt; &lt;span class="nt"&gt;18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;842&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;usando&lt;/span&gt; &lt;span class="nt"&gt;nombre&lt;/span&gt; &lt;span class="nt"&gt;de&lt;/span&gt; &lt;span class="nt"&gt;servidor&lt;/span&gt; &lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="nn"&gt;53&lt;/span&gt;
&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;04&lt;/span&gt; &lt;span class="nt"&gt;18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;842&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;el&lt;/span&gt; &lt;span class="nt"&gt;caché&lt;/span&gt; &lt;span class="nt"&gt;fue&lt;/span&gt; &lt;span class="nt"&gt;liberado&lt;/span&gt;
&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;04&lt;/span&gt; &lt;span class="nt"&gt;18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;851&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Too&lt;/span&gt; &lt;span class="nt"&gt;few&lt;/span&gt; &lt;span class="nt"&gt;arguments&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;04&lt;/span&gt; &lt;span class="nt"&gt;18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Started&lt;/span&gt; &lt;span class="nt"&gt;dnsmasq&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;A&lt;/span&gt; &lt;span class="nt"&gt;lightweight&lt;/span&gt; &lt;span class="nt"&gt;DHCP&lt;/span&gt; &lt;span class="nt"&gt;and&lt;/span&gt; &lt;span class="nt"&gt;caching&lt;/span&gt; &lt;span class="nt"&gt;DNS&lt;/span&gt; &lt;span class="nt"&gt;server&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Por lo que se ve &lt;code&gt;dnsmasq&lt;/code&gt; trabajando sin problemas. &lt;/p&gt;
&lt;p&gt;Se revisa el archivo &lt;code&gt;/etc/resolv.conf&lt;/code&gt; y se tiene lo siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /etc/resolv.conf
# Generated by resolvconf
#nameserver 127.0.2.1
nameserver 127.0.0.1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se están usando tanto &lt;code&gt;dnscrypt&lt;/code&gt; como &lt;code&gt;dnsmasq&lt;/code&gt; para resolver las consultas de DNS.&lt;/p&gt;
&lt;p&gt;Al consultar un dominio por medio de &lt;code&gt;dig&lt;/code&gt; se tiene lo siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nt"&gt;dig&lt;/span&gt; &lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;

&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;DiG&lt;/span&gt; &lt;span class="nt"&gt;9&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;3-P4-Debian&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;global&lt;/span&gt; &lt;span class="nt"&gt;options&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nt"&gt;cmd&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;Got&lt;/span&gt; &lt;span class="nt"&gt;answer&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="nt"&gt;HEADER&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;opcode&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;QUERY&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;NOERROR&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;id&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;41085&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;flags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;qr&lt;/span&gt; &lt;span class="nt"&gt;rd&lt;/span&gt; &lt;span class="nt"&gt;ra&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;QUERY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;ANSWER&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;AUTHORITY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;ADDITIONAL&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;

&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;OPT&lt;/span&gt; &lt;span class="nt"&gt;PSEUDOSECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;EDNS&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;flags&lt;/span&gt;&lt;span class="o"&gt;:;&lt;/span&gt; &lt;span class="nt"&gt;udp&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;4096&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;QUESTION&lt;/span&gt; &lt;span class="nt"&gt;SECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;   &lt;span class="nt"&gt;IN&lt;/span&gt; &lt;span class="nt"&gt;A&lt;/span&gt;

&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;ANSWER&lt;/span&gt; &lt;span class="nt"&gt;SECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;  &lt;span class="nt"&gt;190&lt;/span&gt; &lt;span class="nt"&gt;IN&lt;/span&gt; &lt;span class="nt"&gt;A&lt;/span&gt; &lt;span class="nt"&gt;172&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;217&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;22&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;164&lt;/span&gt;

&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;Query&lt;/span&gt; &lt;span class="nt"&gt;time&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;300&lt;/span&gt; &lt;span class="nt"&gt;msec&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;SERVER&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="nn"&gt;53&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;WHEN&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Tue&lt;/span&gt; &lt;span class="nt"&gt;Jun&lt;/span&gt; &lt;span class="nt"&gt;06&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;50&lt;/span&gt; &lt;span class="nt"&gt;-04&lt;/span&gt; &lt;span class="nt"&gt;2017&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;MSG&lt;/span&gt; &lt;span class="nt"&gt;SIZE&lt;/span&gt;  &lt;span class="nt"&gt;rcvd&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;59&lt;/span&gt;

&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nt"&gt;dig&lt;/span&gt; &lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;

&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;DiG&lt;/span&gt; &lt;span class="nt"&gt;9&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;3-P4-Debian&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;global&lt;/span&gt; &lt;span class="nt"&gt;options&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nt"&gt;cmd&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;Got&lt;/span&gt; &lt;span class="nt"&gt;answer&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="nt"&gt;HEADER&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;opcode&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;QUERY&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;NOERROR&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;id&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;49000&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;flags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;qr&lt;/span&gt; &lt;span class="nt"&gt;rd&lt;/span&gt; &lt;span class="nt"&gt;ra&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;QUERY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;ANSWER&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;AUTHORITY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;ADDITIONAL&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;

&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;OPT&lt;/span&gt; &lt;span class="nt"&gt;PSEUDOSECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;EDNS&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;flags&lt;/span&gt;&lt;span class="o"&gt;:;&lt;/span&gt; &lt;span class="nt"&gt;udp&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;4096&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;QUESTION&lt;/span&gt; &lt;span class="nt"&gt;SECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;   &lt;span class="nt"&gt;IN&lt;/span&gt; &lt;span class="nt"&gt;A&lt;/span&gt;

&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;ANSWER&lt;/span&gt; &lt;span class="nt"&gt;SECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;  &lt;span class="nt"&gt;189&lt;/span&gt; &lt;span class="nt"&gt;IN&lt;/span&gt; &lt;span class="nt"&gt;A&lt;/span&gt; &lt;span class="nt"&gt;172&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;217&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;22&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;164&lt;/span&gt;

&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;Query&lt;/span&gt; &lt;span class="nt"&gt;time&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt; &lt;span class="nt"&gt;msec&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;SERVER&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="nn"&gt;53&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;WHEN&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Tue&lt;/span&gt; &lt;span class="nt"&gt;Jun&lt;/span&gt; &lt;span class="nt"&gt;06&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;51&lt;/span&gt; &lt;span class="nt"&gt;-04&lt;/span&gt; &lt;span class="nt"&gt;2017&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;MSG&lt;/span&gt; &lt;span class="nt"&gt;SIZE&lt;/span&gt;  &lt;span class="nt"&gt;rcvd&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;59&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al realizar la segunda consulta se nota que el tiempo de respuesta pasa de 300mseg a 0mseg. &lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="DNS"></category><category term="Dnsmasq"></category><category term="OpenDNS"></category></entry><entry><title>Usar tor desde privoxy en Debian Stretch</title><link href="https://ecrespo.github.io/usar-tor-desde-privoxy-en-debian-stretch.html" rel="alternate"></link><published>2017-06-06T09:00:00-04:00</published><updated>2017-06-06T09:00:00-04:00</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2017-06-06:/usar-tor-desde-privoxy-en-debian-stretch.html</id><summary type="html">&lt;p&gt;&lt;code&gt;Privoxy&lt;/code&gt; es un proxy web que se usa normalmente con tor.&lt;/p&gt;
&lt;p&gt;En el artículo anterior se explica como &lt;a href="https://www.seraph.to/navegar-de-manera-anonima-con-tor-en-debian-stretch.html"&gt;instalar tor&lt;/a&gt;. Ahora se usará privoxy como proxy para tor.&lt;/p&gt;
&lt;p&gt;Para instalar simplemente se usa &lt;code&gt;apt&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#apt-get install privoxy
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En &lt;code&gt;privoxy&lt;/code&gt; se define el &lt;code&gt;sock forward&lt;/code&gt; quien será el puerto e IP …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;code&gt;Privoxy&lt;/code&gt; es un proxy web que se usa normalmente con tor.&lt;/p&gt;
&lt;p&gt;En el artículo anterior se explica como &lt;a href="https://www.seraph.to/navegar-de-manera-anonima-con-tor-en-debian-stretch.html"&gt;instalar tor&lt;/a&gt;. Ahora se usará privoxy como proxy para tor.&lt;/p&gt;
&lt;p&gt;Para instalar simplemente se usa &lt;code&gt;apt&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#apt-get install privoxy
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En &lt;code&gt;privoxy&lt;/code&gt; se define el &lt;code&gt;sock forward&lt;/code&gt; quien será el puerto e IP donde se está ejecutando tor (localhost y puerto 9050), se edita el archivo &lt;code&gt;/etc/privoxy/config&lt;/code&gt; y se agrega la siguiente línea:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;forward-socks4a / localhost:9050 .
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se reinicia privoxy:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# /etc/init.d/privoxy restart
[ ok ] Restarting privoxy (via systemctl): privoxy.service.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se revisa que esté funcionando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;init&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;privoxy&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;
&lt;span class="err"&gt;●&lt;/span&gt; &lt;span class="nt"&gt;privoxy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;Privacy&lt;/span&gt; &lt;span class="nt"&gt;enhancing&lt;/span&gt; &lt;span class="nt"&gt;HTTP&lt;/span&gt; &lt;span class="nt"&gt;Proxy&lt;/span&gt;
   &lt;span class="nt"&gt;Loaded&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt; &lt;span class="o"&gt;(/&lt;/span&gt;&lt;span class="nt"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;system&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;privoxy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;vendor&lt;/span&gt; &lt;span class="nt"&gt;preset&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
   &lt;span class="nt"&gt;Active&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;active&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;running&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;since&lt;/span&gt; &lt;span class="nt"&gt;Tue&lt;/span&gt; &lt;span class="nt"&gt;2017-06-06&lt;/span&gt; &lt;span class="nt"&gt;22&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;50&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;00&lt;/span&gt; &lt;span class="nt"&gt;-04&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;1s&lt;/span&gt; &lt;span class="nt"&gt;ago&lt;/span&gt;
     &lt;span class="nt"&gt;Docs&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;man&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;privoxy&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;8&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
           &lt;span class="nt"&gt;https&lt;/span&gt;&lt;span class="o"&gt;://&lt;/span&gt;&lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;privoxy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;org&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;user-manual&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
  &lt;span class="nt"&gt;Process&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;20044&lt;/span&gt; &lt;span class="nt"&gt;ExecStopPost&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="nt"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;rm&lt;/span&gt; &lt;span class="nt"&gt;-f&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;PIDFILE&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;code&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;exited&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;SUCCESS&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
  &lt;span class="nt"&gt;Process&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;20082&lt;/span&gt; &lt;span class="nt"&gt;ExecStart&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="nt"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;sbin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;privoxy&lt;/span&gt; &lt;span class="nt"&gt;--pidfile&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;PIDFILE&lt;/span&gt; &lt;span class="nt"&gt;--user&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;OWNER&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;CONFIGFILE&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;code&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;exited&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;SUCCESS&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;Main&lt;/span&gt; &lt;span class="nt"&gt;PID&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;20083&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;privoxy&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
    &lt;span class="nt"&gt;Tasks&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;limit&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;4915&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
   &lt;span class="nt"&gt;Memory&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;3M&lt;/span&gt;
      &lt;span class="nt"&gt;CPU&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;8ms&lt;/span&gt;
   &lt;span class="nt"&gt;CGroup&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;system&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;slice&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;privoxy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;service&lt;/span&gt;
           &lt;span class="err"&gt;└─&lt;/span&gt;&lt;span class="nt"&gt;20083&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;sbin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;privoxy&lt;/span&gt; &lt;span class="nt"&gt;--pidfile&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;run&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;privoxy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;pid&lt;/span&gt; &lt;span class="nt"&gt;--user&lt;/span&gt; &lt;span class="nt"&gt;privoxy&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;privoxy&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;config&lt;/span&gt;

&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;06&lt;/span&gt; &lt;span class="nt"&gt;22&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;49&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;59&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Starting&lt;/span&gt; &lt;span class="nt"&gt;Privacy&lt;/span&gt; &lt;span class="nt"&gt;enhancing&lt;/span&gt; &lt;span class="nt"&gt;HTTP&lt;/span&gt; &lt;span class="nt"&gt;Proxy&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;06&lt;/span&gt; &lt;span class="nt"&gt;22&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;50&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;00&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Started&lt;/span&gt; &lt;span class="nt"&gt;Privacy&lt;/span&gt; &lt;span class="nt"&gt;enhancing&lt;/span&gt; &lt;span class="nt"&gt;HTTP&lt;/span&gt; &lt;span class="nt"&gt;Proxy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En firefox se instala &lt;code&gt;foxy proxy standar&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/usartordesdeprivoxyendebianstretch-1.png"&gt;&lt;/p&gt;
&lt;p&gt;Se configura para usar el proxy localhost y puerto 8118:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/usartordesdeprivoxyendebianstretch-2.png"&gt;&lt;/p&gt;
&lt;p&gt;Al verificar con la siguiente URL el uso de tor &lt;code&gt;https://check.torproject.org/?lang=es_AR&lt;/code&gt;, se tiene lo siguiente:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/usartordesdeprivoxyendebianstretch-3.png"&gt;&lt;/p&gt;
&lt;p&gt;Al lado izquierdo de la caja de busqueda está el icono de &lt;code&gt;foxyproxy&lt;/code&gt;, el cual se encuentra activo al momento de verificar si se está usando tor.&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Tor"></category><category term="Privoxy"></category></entry><entry><title>Navegar de manera anónima con tor en Debian Stretch</title><link href="https://ecrespo.github.io/navegar-de-manera-anonima-con-tor-en-debian-stretch.html" rel="alternate"></link><published>2017-06-05T09:00:00-04:00</published><updated>2017-06-05T09:00:00-04:00</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2017-06-05:/navegar-de-manera-anonima-con-tor-en-debian-stretch.html</id><summary type="html">&lt;p&gt;En el artículo anterior expliqué &lt;a href="https://www.seraph.to/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html"&gt;como consultar DNS de manera cifrada&lt;/a&gt; , ahora vamos a utilizar tor para navegar de manera anónima.&lt;/p&gt;
&lt;p&gt;Se tiene dos opciones, una es bajar el &lt;a href="https://www.torproject.org/projects/torbrowser.html.en"&gt;tar.xz de tor-browser en la página oficial&lt;/a&gt; y la otra es instalar tor a lo Debian. Ese será el caso …&lt;/p&gt;</summary><content type="html">&lt;p&gt;En el artículo anterior expliqué &lt;a href="https://www.seraph.to/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html"&gt;como consultar DNS de manera cifrada&lt;/a&gt; , ahora vamos a utilizar tor para navegar de manera anónima.&lt;/p&gt;
&lt;p&gt;Se tiene dos opciones, una es bajar el &lt;a href="https://www.torproject.org/projects/torbrowser.html.en"&gt;tar.xz de tor-browser en la página oficial&lt;/a&gt; y la otra es instalar tor a lo Debian. Ese será el caso de este artículo.&lt;/p&gt;
&lt;p&gt;El artículo se basa en la &lt;a href="https://www.torproject.org/docs/debian.html.en"&gt;documentación de instalación de tor para Debian.&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;Se crea el archivo &lt;code&gt;/etc/apt/sources.list.d/torbrowser.list&lt;/code&gt; con los siguientes repositorios:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;http://deb.torproject.org/torproject.org&lt;/span&gt; &lt;span class="kp"&gt;stretch&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt;
&lt;span class="k"&gt;deb-src&lt;/span&gt; &lt;span class="s"&gt;http://deb.torproject.org/torproject.org&lt;/span&gt; &lt;span class="kp"&gt;stretch&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se descarga la llave &lt;code&gt;gpg&lt;/code&gt; de los paquetes:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$gpg --keyserver keys.gnupg.net --recv A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se exporta la llave y se agrega al juego de llaves que tiene &lt;code&gt;apt&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Comando como root:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 |  apt-key add -
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Comando usando &lt;code&gt;sudo&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 | sudo apt-key add -
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se actualiza la lista de paquetes:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#apt-get update
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se instala &lt;code&gt;tor&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#apt-get install tor deb.torproject.org-keyring
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Desde mozilla firefox se da clicñ a preferencias, luego a avanzado, red y configuración. Ahí se selecciona configuración manual de proxy y en servidor socks se coloca localhost y el puerto 9050, con socks_v5. Como se muestra en la siguiente figura:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/navegardemaneraanonimacontorendebianstretch-1.png"&gt;&lt;/p&gt;
&lt;p&gt;Ahora se abre el navegador en whatismyip.org:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/navegardemaneraanonimacontorendebianstretch-2.png"&gt;&lt;/p&gt;
&lt;p&gt;La imagen muestra la IP que se está utilizando que es el 178.151.224.153.&lt;/p&gt;
&lt;p&gt;Ahora se verifica que se esté usando tor con https:/check.torproject.org/?lang=es_AR y se tiene la siguiente figura:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/navegardemaneraanonimacontorendebianstretch-3.png"&gt;&lt;/p&gt;
&lt;p&gt;En la figura se muestra que ya se está usando tor desde el navegador.&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Tor"></category></entry><entry><title>Cifrar el tráfico de DNS en Debian 9 Stretch (actualización 2017)</title><link href="https://ecrespo.github.io/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html" rel="alternate"></link><published>2017-06-03T09:00:00-04:00</published><updated>2017-06-03T09:00:00-04:00</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2017-06-03:/cifrar-el-trafico-de-dns-en-debian-9-stretch-actualizacion-2017.html</id><summary type="html">&lt;p&gt;En el año 2012 preocupado por la lentitud y seguridad en las comunicaciones de las consultas de DNS escribí un artículo sobre &lt;a href="https://www.seraph.to/cifrar-el-trafico-de-dns-en-linux-con-dnscrypt-y-opendns.html"&gt;DNSCrypt&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Este artículo se basa en el artículo &lt;a href="https://geekland.eu/comprobar-el-funcionamiento-de-dnscrypt/"&gt;Comprobar que DNSCrypt funciona correctamente y cifra el tráfico&lt;/a&gt; .&lt;/p&gt;
&lt;p&gt;Para esa época la instalación se hacía bajando un archivo &lt;code&gt;.deb …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;En el año 2012 preocupado por la lentitud y seguridad en las comunicaciones de las consultas de DNS escribí un artículo sobre &lt;a href="https://www.seraph.to/cifrar-el-trafico-de-dns-en-linux-con-dnscrypt-y-opendns.html"&gt;DNSCrypt&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Este artículo se basa en el artículo &lt;a href="https://geekland.eu/comprobar-el-funcionamiento-de-dnscrypt/"&gt;Comprobar que DNSCrypt funciona correctamente y cifra el tráfico&lt;/a&gt; .&lt;/p&gt;
&lt;p&gt;Para esa época la instalación se hacía bajando un archivo &lt;code&gt;.deb&lt;/code&gt;, pero en Debian Stretch ya viene incorporado en los repositorios, así que para instalar es con un simple &lt;code&gt;apt-get&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install dnscrypt-proxy dnscrypt-proxy-plugins
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Revisar que &lt;code&gt;DNSCrypt&lt;/code&gt; esté activo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nt"&gt;systemctl&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt; &lt;span class="nt"&gt;dnscrypt-proxy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;socket&lt;/span&gt;
&lt;span class="err"&gt;●&lt;/span&gt; &lt;span class="nt"&gt;dnscrypt-proxy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;socket&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;dnscrypt-proxy&lt;/span&gt; &lt;span class="nt"&gt;listening&lt;/span&gt; &lt;span class="nt"&gt;socket&lt;/span&gt;
   &lt;span class="nt"&gt;Loaded&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt; &lt;span class="o"&gt;(/&lt;/span&gt;&lt;span class="nt"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;system&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;dnscrypt-proxy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;vendor&lt;/span&gt; &lt;span class="nt"&gt;preset&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
   &lt;span class="nt"&gt;Active&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;active&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;running&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;since&lt;/span&gt; &lt;span class="nt"&gt;Sat&lt;/span&gt; &lt;span class="nt"&gt;2017-06-03&lt;/span&gt; &lt;span class="nt"&gt;00&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;02&lt;/span&gt; &lt;span class="nt"&gt;-04&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;18h&lt;/span&gt; &lt;span class="nt"&gt;ago&lt;/span&gt;
     &lt;span class="nt"&gt;Docs&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;man&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;dnscrypt-proxy&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;8&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
   &lt;span class="nt"&gt;Listen&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;53&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;Stream&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
           &lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;53&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;Datagram&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="nt"&gt;jun&lt;/span&gt; &lt;span class="nt"&gt;03&lt;/span&gt; &lt;span class="nt"&gt;00&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;02&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;systemd&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Listening&lt;/span&gt; &lt;span class="nt"&gt;on&lt;/span&gt; &lt;span class="nt"&gt;dnscrypt-proxy&lt;/span&gt; &lt;span class="nt"&gt;listening&lt;/span&gt; &lt;span class="nt"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Como se ve &lt;code&gt;DNSCrypt&lt;/code&gt; está activo, para el caso de que no esté activo se ejecuta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# systemctl start dnscrypt-proxy.socket
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para que &lt;code&gt;DNSCrypt&lt;/code&gt; se ejecute automáticamente se ejecuta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# systemctl enable dnscrypt-proxy.socket
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;La lista de servidores &lt;code&gt;DNSCrypt&lt;/code&gt; lo pueden ver en &lt;code&gt;/usr/share/dnscrypt-proxy/dnscrypt-resolvers.csv&lt;/code&gt; .  En la siguiente imagen se muestra algo del contenido del archivo: &lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-1.png"&gt;&lt;/p&gt;
&lt;p&gt;Ahora se consulta el puerto y la IP que está usando &lt;code&gt;DNSCrypt&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# cat /etc/systemd/system/sockets.target.wants/dnscrypt-proxy.socket
[Unit]
Description=dnscrypt-proxy listening socket
Documentation=man:dnscrypt-proxy(8)
Wants=dnscrypt-proxy-resolvconf.service

[Socket]
ListenStream=127.0.2.1:53
ListenDatagram=127.0.2.1:53

[Install]

WantedBy=sockets.target
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;La dirección IP que está usando &lt;code&gt;DNSCrypt&lt;/code&gt; es la 127.0.2.1 y el puerto 53.&lt;/p&gt;
&lt;p&gt;Este archivo se modifica si se está usano &lt;code&gt;SystemD&lt;/code&gt;, para el caso de usar &lt;code&gt;init.d&lt;/code&gt; se modifica el archivo que se describe a continuación.&lt;/p&gt;
&lt;p&gt;Se edita el archivo &lt;code&gt;/etc/dnscrypt-proxy/dnscrypt-proxy.conf&lt;/code&gt; :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;vim /etc/dnscrypt-proxy/dnscrypt-proxy.conf

# cat dnscrypt-proxy.conf 
# A more comprehensive example config can be found in
# /usr/share/doc/dnscrypt-proxy/examples/dnscrypt-proxy.conf

ResolverName random
Daemonize yes

# LocalAddress only applies to users of the init script. systemd users must
# change the dnscrypt-proxy.socket file.
LocalAddress 127.0.2.1:53
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Con la opción &lt;code&gt;random&lt;/code&gt; garantiza que se use cualquier servidor de &lt;code&gt;DNSCrypt&lt;/code&gt; de la lista ya mencionada.&lt;/p&gt;
&lt;p&gt;Al levantar el servicio de &lt;code&gt;DNSCrypt&lt;/code&gt; este cambia la configuración de &lt;code&gt;/etc/resolv.conf&lt;/code&gt; para que use la IP 127.0.2.1, a continuación se muestra el contenido del archivo &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# cat /etc/resolv.conf

# Generated by resolvconf
nameserver 127.0.2.1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al iniciar el servicio se puede revisar el log de &lt;code&gt;syslog&lt;/code&gt; para ver si funciona el servicio:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-2.png"&gt;&lt;/p&gt;
&lt;p&gt;Como se puede ver en el &lt;code&gt;syslog&lt;/code&gt;, al inicio el servicio espera por un certificado digital y luego es que empieza a funcionar. &lt;/p&gt;
&lt;p&gt;Al consultar con el comando &lt;code&gt;host&lt;/code&gt; se tiene:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;host www.google.com
www.google.com has address 216.58.209.68
www.google.com has IPv6 address 2a00:1450:401b:801::2004
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se instalarán unas herramientas de consultas:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install dnsutils 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se realiza una consulta con el comando &lt;code&gt;dig&lt;/code&gt;: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;dig&lt;/span&gt; &lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;

&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;DiG&lt;/span&gt; &lt;span class="nt"&gt;9&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;3-P4-Debian&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;global&lt;/span&gt; &lt;span class="nt"&gt;options&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nt"&gt;cmd&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;Got&lt;/span&gt; &lt;span class="nt"&gt;answer&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="nt"&gt;HEADER&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;opcode&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;QUERY&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;NOERROR&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;id&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;6930&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;flags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;qr&lt;/span&gt; &lt;span class="nt"&gt;rd&lt;/span&gt; &lt;span class="nt"&gt;ra&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;QUERY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;ANSWER&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;AUTHORITY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;ADDITIONAL&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;

&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;OPT&lt;/span&gt; &lt;span class="nt"&gt;PSEUDOSECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;EDNS&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;flags&lt;/span&gt;&lt;span class="o"&gt;:;&lt;/span&gt; &lt;span class="nt"&gt;udp&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;4096&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;QUESTION&lt;/span&gt; &lt;span class="nt"&gt;SECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;   &lt;span class="nt"&gt;IN&lt;/span&gt; &lt;span class="nt"&gt;A&lt;/span&gt;

&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;ANSWER&lt;/span&gt; &lt;span class="nt"&gt;SECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;google&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;  &lt;span class="nt"&gt;7&lt;/span&gt; &lt;span class="nt"&gt;IN&lt;/span&gt; &lt;span class="nt"&gt;A&lt;/span&gt; &lt;span class="nt"&gt;216&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;58&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;209&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;68&lt;/span&gt;

&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;Query&lt;/span&gt; &lt;span class="nt"&gt;time&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;266&lt;/span&gt; &lt;span class="nt"&gt;msec&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;SERVER&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="nn"&gt;53&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;WHEN&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Sat&lt;/span&gt; &lt;span class="nt"&gt;Jun&lt;/span&gt; &lt;span class="nt"&gt;03&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;08&lt;/span&gt; &lt;span class="nt"&gt;-04&lt;/span&gt; &lt;span class="nt"&gt;2017&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;MSG&lt;/span&gt; &lt;span class="nt"&gt;SIZE&lt;/span&gt;  &lt;span class="nt"&gt;rcvd&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;59&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para verificar el funcionamiento del cifrado en &lt;code&gt;DNSCrypt&lt;/code&gt; se usará &lt;code&gt;wireshark-gtk&lt;/code&gt;, primero se instala y luego se ejecuta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#apt-get install wireshark wireshark-gtk
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para averiguar la IP del servidor &lt;code&gt;DNSCrypt&lt;/code&gt; que se está usando se usa  &lt;code&gt;dnsleaktest&lt;/code&gt;, al abrir la página muestra que la IP del equipo se encuentra en Barquisimeto, Venezuela y la IP es 186.185.180.136.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-3.png"&gt;&lt;/p&gt;
&lt;p&gt;Se le da click a  &lt;code&gt;standard test&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-4.png"&gt;&lt;/p&gt;
&lt;p&gt;La IP del servidor es 81.2.237.32.&lt;/p&gt;
&lt;p&gt;Se inicia &lt;code&gt;wireshark&lt;/code&gt; capturando paquetes de la interface wlp1s0 que es ahora como se llama wlan0 en Debian Strech. Se inicia la captura de paquetes y se filtra ip.addr == 81.2.237.32. El resultado se muestra a continuación: &lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-5.png"&gt;&lt;/p&gt;
&lt;p&gt;El protocolo que se usa en la comunicación es &lt;a href="https://es.wikipedia.org/wiki/QUIC"&gt;QUIC&lt;/a&gt; el cual es un experimental que cifra la comunicación. Se selecciona el primer paquete y con el botón derecho se le da clic a follow udp steam obteniendo lo que se muestra en la siguiente figura:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/cifrareltraficodednsendebian9stretchactualización2017-6.png"&gt;&lt;/p&gt;
&lt;p&gt;Al ejecutar esa acción se realiza la construcción de los diferentes paquetes en este caso de UDP en formato crudo, como se puede ver la comunicación no muestra información en texto plato. &lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="DNS"></category><category term="DNSCrypt"></category></entry><entry><title>Entorno de Desarrollo en la nube Cloud9</title><link href="https://ecrespo.github.io/entorno-de-desarrollo-en-la-nube-cloud9.html" rel="alternate"></link><published>2017-04-10T09:00:00-04:00</published><updated>2017-04-10T09:00:00-04:00</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2017-04-10:/entorno-de-desarrollo-en-la-nube-cloud9.html</id><summary type="html">&lt;p&gt;&lt;a href="http://en.wikipedia.org/wiki/Cloud9_IDE"&gt;Cloud9&lt;/a&gt; es un Entorno Integrado de Desarrollo en línea, publicado como OpenSource desde la versión 3.0.&lt;/p&gt;
&lt;p&gt;Acá les dejo otros enlaces de artículos sobre &lt;a href="https://www.seraph.to/tag/docker.html"&gt;docker&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;La aplicación la pueden acceder en  &lt;a href="http://c9.io/"&gt;c9.io&lt;/a&gt; .&lt;/p&gt;
&lt;p&gt;A continuación se muestra una imagen del sitio:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/entornodedesarrolloenlanubecloud9-1.png"&gt;&lt;/p&gt;
&lt;p&gt;Es desarrollado enteramente en javascript, &lt;code&gt;node.js&lt;/code&gt; como …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="http://en.wikipedia.org/wiki/Cloud9_IDE"&gt;Cloud9&lt;/a&gt; es un Entorno Integrado de Desarrollo en línea, publicado como OpenSource desde la versión 3.0.&lt;/p&gt;
&lt;p&gt;Acá les dejo otros enlaces de artículos sobre &lt;a href="https://www.seraph.to/tag/docker.html"&gt;docker&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;La aplicación la pueden acceder en  &lt;a href="http://c9.io/"&gt;c9.io&lt;/a&gt; .&lt;/p&gt;
&lt;p&gt;A continuación se muestra una imagen del sitio:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/entornodedesarrolloenlanubecloud9-1.png"&gt;&lt;/p&gt;
&lt;p&gt;Es desarrollado enteramente en javascript, &lt;code&gt;node.js&lt;/code&gt; como backend, los espacios de trabajo se contruyen por medio de Docker.&lt;/p&gt;
&lt;p&gt;Soporta varios lenguajes de programación, entre los principales se tiene:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C/C++  &lt;/li&gt;
&lt;li&gt;PHP  &lt;/li&gt;
&lt;li&gt;Ruby  &lt;/li&gt;
&lt;li&gt;Perl  &lt;/li&gt;
&lt;li&gt;Python  &lt;/li&gt;
&lt;li&gt;Javascript  &lt;/li&gt;
&lt;li&gt;Go  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Como cloud9 es OpenSource a parte de usarlo desde su sitio web, se puede montar un servidor, su código fuente se encuentra en &lt;a href="http://github.com/c9"&gt;github&lt;/a&gt;. El procedimiento de instalación lo encuentrán en el siguiente &lt;a href="http://github.com/c9/core"&gt;enlace&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;En este caso se usará una imagen Docker para montarlo como servidor local. La imagen que se usará la pueden revisar en el siguiente &lt;a href="http://hub.docker.com/r/kdelfour/cloud9-docker/"&gt;enlace&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Para correr cloud9 como contenedor se ejecuta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run -it -d -p 9080:80 -v /home/ernesto/worksplace/:/workspace/ kdelfour/cloud9-docker
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En este caso se corre la aplicación desde el puerto 9080 y se usará como directorio de trabajo workspace.&lt;/p&gt;
&lt;p&gt;Al hacer un &lt;code&gt;docker ps&lt;/code&gt; se tiene lo siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;CONTAINER ID        IMAGE                    COMMAND                  CREATED             STATUS              PORTS                            NAMES
f4d06af60205        kdelfour/cloud9-docker   &amp;quot;supervisord -c /etc/&amp;quot;   38 seconds ago      Up 33 seconds       3000/tcp, 0.0.0.0:9080-&amp;gt;80/tcp   condescending_gates
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se abre el navegador en el puerto 9080, a continuación se muestra la imagen:&lt;/p&gt;
&lt;p&gt;Imagen mientras carga cloud9:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/entornodedesarrolloenlanubecloud9-2.png"&gt;&lt;/p&gt;
&lt;p&gt;Entorno de trabajo y muestra de un Hola mundo!:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/entornodedesarrolloenlanubecloud9-3.png"&gt;&lt;/p&gt;
&lt;p&gt;Como se puede ver, ya no es necesario usar la herramienta desde la web, ya puede usarse desde un servidor local usando una imagen Docker.&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Nube"></category><category term="Cloud9"></category><category term="Docker"></category></entry><entry><title>Crear una imagen Docker a partir de debootstrap para Debian Jessie</title><link href="https://ecrespo.github.io/crear-una-imagen-docker-a-partir-de-debootstrap-para-debian-jessie.html" rel="alternate"></link><published>2017-03-27T09:00:00-04:00</published><updated>2017-03-27T09:00:00-04:00</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2017-03-27:/crear-una-imagen-docker-a-partir-de-debootstrap-para-debian-jessie.html</id><summary type="html">&lt;p&gt;Antes de empezar a tocar el tema sobre crear una imagen Docker a partir de debootstrap de Debian, les dejo el enlace de los &lt;a href="https://www.seraph.to/tag/docker.html"&gt;artículos sobre docker del blog&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Lo primero que se tiene que hacer es instalar &lt;code&gt;debootstrap&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#apt-get install debootstrap
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A continuación se crea un directorio para construir …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Antes de empezar a tocar el tema sobre crear una imagen Docker a partir de debootstrap de Debian, les dejo el enlace de los &lt;a href="https://www.seraph.to/tag/docker.html"&gt;artículos sobre docker del blog&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Lo primero que se tiene que hacer es instalar &lt;code&gt;debootstrap&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#apt-get install debootstrap
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A continuación se crea un directorio para construir la jaula &lt;code&gt;debootstrap&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir debian-jaula
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se ejecuta &lt;code&gt;debootstrap&lt;/code&gt; pasando la distribución a bajar, el directorio donde se crea la jaula y el repositorio a usar:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;debootstrap jessie debian-jaula/ http://ftp.debian.org/debian
I: Retrieving Release 
I: Retrieving Release.gpg 
I: Checking Release signature
I: Valid Release signature (key id 75DDC3C4A499F1A18CB5F3C8CBF8D6FD518E17E1)
I: Validating Packages 
I: Resolving dependencies of required packages...
I: Resolving dependencies of base packages...
I: Found additional required dependencies: acl adduser dmsetup insserv libaudit-common libaudit1 libbz2-1.0 libcap2 libcap2-bin libcryptsetup4 libdb5.3 libdebconfclient0 libdevmapper1.02.1 libgcrypt20 libgpg-error0 libkmod2 libncursesw5 libprocps3 libsemanage-common libsemanage1 libslang2 libsystemd0 libudev1 libustr-1.0-1 procps systemd systemd-sysv udev 
I: Found additional base dependencies: libdns-export100 libffi6 libgmp10 libgnutls-deb0-28 libgnutls-openssl27 libhogweed2 libicu52 libidn11 libirs-export91 libisc-export95 libisccfg-export90 libmnl0 libnetfilter-acct1 libnettle4 libnfnetlink0 libp11-kit0 libpsl0 libtasn1-6 
I: Checking component main on http://ftp.debian.org/debian...
I: Validating acl 2.2.52-2
I: Retrieving libacl1 2.2.52-2
I: Validating libacl1 2.2.52-2
........................
..............
I: Configuring isc-dhcp-client...
I: Configuring tasksel...
I: Configuring tasksel-data...
I: Configuring libc-bin...
I: Configuring systemd...
I: Base system installed successfully.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se muestra el contenido del directorio:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls debian-jaula/
bin/  boot/  dev/  etc/  home/  lib/  lib64/  media/  mnt/  opt/  proc/  root/  run/  sbin/  srv/  sys/  tmp/  usr/  var/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se crea la imagen por medio de &lt;code&gt;tar&lt;/code&gt; y de &lt;code&gt;docker import&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;tar&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt; &lt;span class="n"&gt;debian&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;jaula&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;docker&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;ecrespo&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;debian&lt;/span&gt;
&lt;span class="n"&gt;sha256&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;49&lt;/span&gt;&lt;span class="n"&gt;ad34e39c5f9ede2c1c57994895065236a5965496631e8fcab00b00778d85fa&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Como se puede ver, se genera la imagen y el ID de la misma en sha256, se coloca en subrayado la parte que identifica la imagen y lista las imagenes.&lt;/p&gt;
&lt;p&gt;Al hacer &lt;code&gt;docker images&lt;/code&gt; se tiene lo siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;REPOSITORY                                        TAG                 IMAGE ID            CREATED             SIZE
ecrespo/debian                                    latest              49ad34e39c5f        2 minutes ago       272.7 MB
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al tener la jaula lista se puede hacer personalizaciones y adaptaciones a fin de crear la imagen docker.&lt;/p&gt;
&lt;p&gt;Este artículo se basa en la documentación del &lt;a href="http://wiki.debian.org/Debootstrap"&gt;wiki de Debian sobre debootstrap&lt;/a&gt; y en un artículo sobre &lt;a href="http://docs.docker.com/engine/userguide/eng-image/baseimages/"&gt;imagen base de docker&lt;/a&gt;. &lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Docker"></category><category term="debootstrap"></category></entry><entry><title>Instalación de open365.io en un servidor Debian Jessie local</title><link href="https://ecrespo.github.io/instalacion-de-open365io-en-un-servidor-debian-jessie-local.html" rel="alternate"></link><published>2016-09-16T09:00:00-04:00</published><updated>2016-09-16T09:00:00-04:00</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2016-09-16:/instalacion-de-open365io-en-un-servidor-debian-jessie-local.html</id><summary type="html">&lt;p&gt;Open365 es un SaaS que permite trabajar de manera colaborativa y en la nube la suite informática Libre Office versión 5.1, Open365 se encuentra en estado beta pero es estable en este momento.&lt;/p&gt;
&lt;p&gt;En la &lt;a href="https://open365.io/"&gt;página oficial del proyecto&lt;/a&gt; podrán encontrar más información, incluso tienen un vídeo demostrativo:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=S2DH8bpCf1shttps://www.youtube.com/watch?v=S2DH8bpCf1s" title="https://www.youtube.com/watch?v=S2DH8bpCf1s"&gt;https …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Open365 es un SaaS que permite trabajar de manera colaborativa y en la nube la suite informática Libre Office versión 5.1, Open365 se encuentra en estado beta pero es estable en este momento.&lt;/p&gt;
&lt;p&gt;En la &lt;a href="https://open365.io/"&gt;página oficial del proyecto&lt;/a&gt; podrán encontrar más información, incluso tienen un vídeo demostrativo:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=S2DH8bpCf1shttps://www.youtube.com/watch?v=S2DH8bpCf1s" title="https://www.youtube.com/watch?v=S2DH8bpCf1s"&gt;https://www.youtube.com/watch?v=S2DH8bpCf1shttps://www.youtube.com/watch?v=S2DH8bpCf1s&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;La idea es instalarlo en un equipo con Debian Jessie.&lt;/p&gt;
&lt;p&gt;Requerimientos:
Se requiere tener instalado lo siguiente:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Docker (&lt;a href="https://www.seraph.to/instalar-docker-en-debian-jessie.html"&gt;Instalación de docker en Debian Jessie&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Python3.&lt;/li&gt;
&lt;li&gt;Docker-compose (instalar vía pip3:  pip3 install docker-compose).&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;Procedimiento de instalación:&lt;/h4&gt;
&lt;p&gt;Vía &lt;code&gt;apt-get&lt;/code&gt; se instala lo siguiente: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install libmysqlclient-dev python3-dev python3-pip
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Vía pip3 se instala pymongo, ldap3, requests y mysqlclient:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip3 install mysqlclient  pymongo ldap3 requests
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se baja open365 de &lt;a href="https://github.com/Open365/Open365"&gt;github&lt;/a&gt; vía git: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone  https://github.com/Open365/Open365.git
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se ingresa al directorio Open365:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cd Open365
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se inicia la instalación: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo ./open365 install
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A continuación viene una serie de preguntas:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Additionally this will consume over 15gb of space.
Are you sure you want to continue? [y/n] y
Enter your domain or IP: midominio.prueba
We detected you are using a newer version of Docker. Unfortunately, Open365 isn&amp;#39;t yet fully
compatible with docker versions newer than 1.9. A workaround involves running the virtualized
applications in privileged mode. Do you want to launch the applications in privileged mode?
This is potentially unsafe, specially if you are going to give accounts to third parties.
You won&amp;#39;t be able to save documents edited in virtual applications. [y/n] y
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Está ultima pregunta es que se tiene una versión de Docker muy nueva y open365 no ha sido probada en ella. &lt;/p&gt;
&lt;p&gt;Luego de responder las preguntas empieza el proceso de descarga de imagenes docker de open365. &lt;/p&gt;
&lt;p&gt;Para desintalar open365 se ejecuta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo ./open365 destroy
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Open365 tiene clientes para:
- Windows&lt;br&gt;
- Mac&lt;br&gt;
- Linux&lt;br&gt;
- Iphone&lt;br&gt;
- Android  &lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Python"></category><category term="Linux"></category><category term="Open365"></category><category term="Debian"></category><category term="Ubuntu"></category></entry><entry><title>Instalar Docker en Ubuntu Server Xenial 16.04</title><link href="https://ecrespo.github.io/instalar-docker-en-ubuntu-server-xenial-1604.html" rel="alternate"></link><published>2016-09-09T09:00:00-04:00</published><updated>2016-09-09T09:00:00-04:00</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2016-09-09:/instalar-docker-en-ubuntu-server-xenial-1604.html</id><summary type="html">&lt;p&gt;Está guía es para usuarios Ubuntu que quieren instalar Docker.&lt;/p&gt;
&lt;p&gt;La instalación se realizará en Ubuntu Server Xenial:&lt;/p&gt;
&lt;p&gt;Este tutorial se basa en la &lt;a href="https://docs.docker.com/install/linux/docker-ee/ubuntu/"&gt;documentación oficial en inglés&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Instalación&lt;br&gt;
Trabajaremos como superusuario:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo -s
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Lo primero que se tiene que revisar es cual es la versión del Kernel que se …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Está guía es para usuarios Ubuntu que quieren instalar Docker.&lt;/p&gt;
&lt;p&gt;La instalación se realizará en Ubuntu Server Xenial:&lt;/p&gt;
&lt;p&gt;Este tutorial se basa en la &lt;a href="https://docs.docker.com/install/linux/docker-ee/ubuntu/"&gt;documentación oficial en inglés&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Instalación&lt;br&gt;
Trabajaremos como superusuario:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo -s
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Lo primero que se tiene que revisar es cual es la versión del Kernel que se tiene:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;uname -r 
4.4.0-31-generic
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para el Caso de Ubuntu Xenial 16.04 se recomienda tener los paquetes del kernel : &lt;code&gt;linux-image-extra-* .&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get update

sudo apt-get install linux-image-extra-$(uname -r) linux-image-extra-virtual
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para poder usar los repositorios de docker en ubuntu es necesario tener el soporte de &lt;code&gt;https&lt;/code&gt; para los repos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install apt-transport-https ca-certificates
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Agregar la llave del repositorio Docker en Ubuntu:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Crear el archivo &lt;code&gt;docker.list&lt;/code&gt; para agregar los repositorios de Docker en Ubuntu:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo vim /etc/apt/sources.list.d/docker.list
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para el caso de Ubuntu Xenial la línea que se tiene que agregar en el archivo es la siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="s"&gt;https://apt.dockerproject.org/repo&lt;/span&gt; &lt;span class="kp"&gt;ubuntu-xenial&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se hace un update:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get update
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se elimina cualquier paquete de ubuntu sobre docker:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get purge lxc-docker 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se verifica que se está buscando los paquetes de Docker en los repositorios correctos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-cache policy docker-engine
docker-engine:
  Instalados: (ninguno)
  Candidato:  1.12.1-0~xenial
  Tabla de versión:
     1.12.1-0~xenial 500
        500 https://apt.dockerproject.org/repo ubuntu-xenial/main amd64 Packages
     1.12.0-0~xenial 500
        500 https://apt.dockerproject.org/repo ubuntu-xenial/main amd64 Packages
     1.11.2-0~xenial 500
        500 https://apt.dockerproject.org/repo ubuntu-xenial/main amd64 Packages
     1.11.1-0~xenial 500
        500 https://apt.dockerproject.org/repo ubuntu-xenial/main amd64 Packages
     1.11.0-0~xenial 500
        500 https://apt.dockerproject.org/repo ubuntu-xenial/main amd64 Packages
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Instalación de Docker:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install docker-engine
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se inicia el servicio docker:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo service docker start
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se verifica que docker se instaló correctamente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run hello-world
Unable to find image &amp;#39;hello-world:latest&amp;#39; locally
latest: Pulling from library/hello-world
c04b14da8d14: Pull complete 
Digest: sha256:0256e8a36e2070f7bf2d0b0763dbabdd67798512411de4cdcf9431a1feb60fd9
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &amp;quot;hello-world&amp;quot; image from the Docker Hub.
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker Hub account:
 https://hub.docker.com

For more examples and ideas, visit:
 https://docs.docker.com/engine/userguide/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Configuraciones adicionales
Crear el grupo Docker:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo groupadd docker
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Agregar el usuario del equipo al grupo Docker:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo usermod -aG docker $USER
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Reiniciar el servicio docker:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;service docker restart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora como un usuario sin privilegios se prueba que se puede usar docker:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run hello-world
docker: Cannot connect to the Docker daemon. Is the docker daemon running on this host?.
See &amp;#39;docker run --help&amp;#39;.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Si sale el mensaje anterior, es necesario reiniciar el equipo:&lt;/p&gt;
&lt;p&gt;Se vuelve a probar:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ docker run hello-world

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 &lt;span class="m"&gt;1&lt;/span&gt;. The Docker client contacted the Docker daemon.
 &lt;span class="m"&gt;2&lt;/span&gt;. The Docker daemon pulled the &lt;span class="s2"&gt;&amp;quot;hello-world&amp;quot;&lt;/span&gt; image from the Docker Hub.
 &lt;span class="m"&gt;3&lt;/span&gt;. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 &lt;span class="m"&gt;4&lt;/span&gt;. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker Hub account:
 https://hub.docker.com

For more examples and ideas, visit:
 https://docs.docker.com/engine/userguide/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Iniciar docker al iniciar el equipo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;systemctl enable docker
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para hacer más configuraciones adicionales como: firewall y DNS u otras versiones de Ubuntu,  pueden revisar el enlace que se encuentra al inicio del artículo de la documentación oficial de Docker para Ubuntu.&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Docker"></category><category term="Linux"></category><category term="Ubuntu"></category></entry><entry><title>Crear una imagen Docker a partir de un archivo dockerfile.</title><link href="https://ecrespo.github.io/crear-una-imagen-docker-a-partir-de-un-archivo-dockerfile.html" rel="alternate"></link><published>2016-01-17T09:00:00-05:30</published><updated>2016-01-17T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2016-01-17:/crear-una-imagen-docker-a-partir-de-un-archivo-dockerfile.html</id><summary type="html">&lt;p&gt;En los artículos anteriores sobre docker se tiene:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/instalar-docker-en-debian-jessie.html#instalar-docker-en-debian-jessie"&gt;Instalar Docker en Debian Jessie&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-1.html#uso-de-docker-en-debian-jessie-parte-1"&gt;Uso de Docker en Debian Jessie (parte 1)&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-2.html#uso-de-docker-en-debian-jessie-parte-2"&gt;Uso de Docker en Debian Jessie (parte 2)&lt;/a&gt;  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;En este artículo se muestra como construir una imagen Docker a partir de un archivo llamado Dockerfile.&lt;/p&gt;
&lt;p&gt;Se usará una imagen …&lt;/p&gt;</summary><content type="html">&lt;p&gt;En los artículos anteriores sobre docker se tiene:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/instalar-docker-en-debian-jessie.html#instalar-docker-en-debian-jessie"&gt;Instalar Docker en Debian Jessie&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-1.html#uso-de-docker-en-debian-jessie-parte-1"&gt;Uso de Docker en Debian Jessie (parte 1)&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.seraph.to/uso-de-docker-en-debian-jessie-parte-2.html#uso-de-docker-en-debian-jessie-parte-2"&gt;Uso de Docker en Debian Jessie (parte 2)&lt;/a&gt;  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;En este artículo se muestra como construir una imagen Docker a partir de un archivo llamado Dockerfile.&lt;/p&gt;
&lt;p&gt;Se usará una imagen de Debian como base que a partir de allí se tendrá una con apache corriendo, en el directorio &lt;code&gt;/var/www/html&lt;/code&gt; se tendrá un archivo index.html con dos encabezados html que mostrarán que se tiene corriendo apache por medio de docker.&lt;/p&gt;
&lt;p&gt;Lo primero que se tiene que hacer es crear el archivo Dockerfile en un directorio por ejemplo dockerbuilds, el archivo contendrá lo siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;FROM debian
MAINTAINER Ernesto Crespo
RUN apt-get update
RUN apt-get install apache2 -y --force-yes
RUN echo &amp;quot;&lt;span class="nt"&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;Apache con docker&lt;span class="nt"&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;&amp;lt;h2&amp;gt;&lt;/span&gt;Prueba hecha por Seraph1&lt;span class="nt"&gt;&amp;lt;/h2&amp;gt;&lt;/span&gt;&amp;quot; &amp;gt; /var/www/html/index.html
EXPOSE 80
ENTRYPOINT apache2ctl -D FOREGROUND
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Descripción del archivo:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;FROM:Lo primero que se define es la imagen que se va a usar, en este caso Debian.  &lt;/li&gt;
&lt;li&gt;MAINTAINER: El nombre del mantenedor de la imagen.  &lt;/li&gt;
&lt;li&gt;RUN: Instrucción que permite ejecutar comandos dentro del contenedor. En este caso se  actualiza la lista de paquetes de Debian, se instala apache y se copia el contenido de index.html en la ruta que le corresponde.&lt;/li&gt;
&lt;li&gt;Se expone el puerto 80 del servidor  apache.    &lt;/li&gt;
&lt;li&gt;Se indica que se ejecute apache en primer plano cada vez que se inicie el contenedor.  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Luego de tener el archivo listo, se ejecuta el comando para la creación de la imagen usando dicho archivo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker build -t ecrespo/apache .
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se define que el nombre de la imagen será &lt;code&gt;ecrespo/apache&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Al terminar de realizar el proceso de construcción se tendrá la imagen en el equipo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$docker images
REPOSITORY                                      TAG                 IMAGE ID            CREATED              VIRTUAL SIZE
ecrespo/apache                                  latest              ae0d4610be9d        About a minute ago   197.8 MB
debian-django                                   latest              36896e115e32        2 weeks ago          601.1 MB
ecrespo/empaquetadodebian                       latest              ee5883957d64        2 weeks ago          656.9 MB
debian                                          latest              8b9a99209d5c        6 weeks ago          125.1 MB
sonarqube                                       latest              dd47274097f7        10 weeks ago         942.5 MB
debian                                          8.1                 f05335696a9b        4 months ago         125.2 MB
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se tiene la imagen de 197.8MB. &lt;/p&gt;
&lt;p&gt;Para terminar se ejecuta la imagen que se llama &lt;code&gt;ecrespo/apache&lt;/code&gt;, la instancia se llamará apache1, se captura el puerto local 80 y lo muestra en el equipo como puerto 90.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run --name apache1 -d -p 90:80 ecrespo/apache
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se lista los procesos de docker y se tiene el contenedor de apache corriendo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$docker ps
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                NAMES
0195ebf31328        ecrespo/apache      &amp;quot;/bin/sh -c &amp;#39;apache2c&amp;quot;   44 minutes ago      Up 44 minutes       0.0.0.0:90-&amp;gt;80/tcp   apache1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;El nombre es &lt;code&gt;ecrespo/apache&lt;/code&gt;, el comando que se ejecuta es el de &lt;code&gt;apachectl&lt;/code&gt;, tiempo de creado 44 minutos y arriba desde hace 44 minutos, el nombre de la instancia es &lt;code&gt;apache1&lt;/code&gt; y redirecciona el puerto 90 al puerto 80.&lt;/p&gt;
&lt;p&gt;Con &lt;code&gt;docker stats&lt;/code&gt; pasando el id del contenedor se puede tener información de consumo de recursos de dicho contenedor.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/crearunaimagendockerapartirdeunarchivodockerfile-1.png"&gt;&lt;/p&gt;
&lt;p&gt;Ahora se abre el navegador con localhost:90 y se tiene lo que muestra el mensaje que veremos en la siguiente figura:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/crearunaimagendockerapartirdeunarchivodockerfile-2.png"&gt;&lt;/p&gt;
&lt;p&gt;Para detener el contenedor se ejecuta &lt;code&gt;docker stop&lt;/code&gt; con el id del contenedor:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ docker stop 0195ebf31328
0195ebf31328
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al listar los procesos se nota que ya no se tiene el contenedor &lt;code&gt;apache1&lt;/code&gt; corriendo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En este artículo se muestra una pequeña personalización del apache, poco a poco se irá aumentando el nivel de personalización de los contenedores para tener servicios reales en funcionamiento. &lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Canaima"></category><category term="Debian"></category><category term="Linux"></category><category term="Python"></category><category term="Ubuntu"></category><category term="Docker"></category></entry><entry><title>Instalación de Raspbian en un Raspberry Pi.</title><link href="https://ecrespo.github.io/instalacion-de-raspbian-en-un-raspberry-pi.html" rel="alternate"></link><published>2013-02-05T09:00:00-05:30</published><updated>2013-02-05T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2013-02-05:/instalacion-de-raspbian-en-un-raspberry-pi.html</id><summary type="html">&lt;p&gt;Raspberry Pi es una placa de computadora de bajo costo (Más información en &lt;a href="https://es.wikipedia.org/wiki/Raspberry_Pi"&gt;wikipedia&lt;/a&gt;) desarrollada por el Reino Unido.&lt;/p&gt;
&lt;p&gt;En la siguiente figura se muestra un esquema de la placa:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/instalacionderaspbianenunraspberrypi-1.png"&gt; &lt;/p&gt;
&lt;p&gt;A continuación 2 fotos del unboxing  del Raspberry Pi que me llegó hace una semana:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/instalacionderaspbianenunraspberrypi-2.jpg"&gt; &lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/instalacionderaspbianenunraspberrypi-3.jpg"&gt; &lt;/p&gt;
&lt;p&gt;Para poner a funcionar la …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Raspberry Pi es una placa de computadora de bajo costo (Más información en &lt;a href="https://es.wikipedia.org/wiki/Raspberry_Pi"&gt;wikipedia&lt;/a&gt;) desarrollada por el Reino Unido.&lt;/p&gt;
&lt;p&gt;En la siguiente figura se muestra un esquema de la placa:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/instalacionderaspbianenunraspberrypi-1.png"&gt; &lt;/p&gt;
&lt;p&gt;A continuación 2 fotos del unboxing  del Raspberry Pi que me llegó hace una semana:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/instalacionderaspbianenunraspberrypi-2.jpg"&gt; &lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/instalacionderaspbianenunraspberrypi-3.jpg"&gt; &lt;/p&gt;
&lt;p&gt;Para poner a funcionar la placa es necesario lo siguiente:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Un cable de monitor VGA a HDMI.&lt;/li&gt;
&lt;li&gt;Una tarjeta de Memoria SD (mínimo 8 GB).&lt;/li&gt;
&lt;li&gt;Un teclado y ratón USB.&lt;/li&gt;
&lt;li&gt;Cable de red.&lt;/li&gt;
&lt;li&gt;Cargador de Celular microusb.&lt;/li&gt;
&lt;li&gt;Una versión de Linux (para este caso Raspbian una versión de Debian Wheezy para Arquitectura ARM).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para bajar  Rasbian lo pueden hacer desde el siguiente &lt;a href="downloads.raspberrypi.org/images/raspbian/2012-12-16-wheezy-raspbian/2012-12-16-wheezy-raspbian.zip"&gt;enlace&lt;/a&gt;, el número SHA-1 para verificar la integridad del archivo es el siguiente:  &lt;code&gt;514974a5fcbbbea02151d79a715741c2159d4b0a&lt;/code&gt;. &lt;/p&gt;
&lt;p&gt;El usuario del sistema es &lt;code&gt;pi&lt;/code&gt; y la clave &lt;code&gt;raspberry&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Para instalar la imagen del Raspbian en la memoria SD es necesario colocar la memoria en un equipo, descomprimir el archivo descargado y desde la línea de comandos ejecutar un dd (para este caso la memoria se encuentra en /dev/sdb, es necesario verificar la identificación de la memoria antes de ejecutar el comando):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dd dd bs=1M if=./2012-12-16-wheezy-raspbian.img of=/dev/sdb

1850+0 registros leídos
1850+0 registros escritos
1939865600 bytes (1,9 GB) copiados, 1610,06 s, 1,2 MB/s
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;El siguiente vídeo muestra el proceso de arranque de raspbian. &lt;/p&gt;
&lt;p&gt;&lt;a href="https://youtu.be/WQ3pezQsApE"&gt;https://youtu.be/WQ3pezQsApE&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;Vídeo donde se muestra la configuración del raspbian:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://youtu.be/Xc2pMabUWAo"&gt;https://youtu.be/Xc2pMabUWAo&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;Para finalizar se muestra una foto del escritorio LXDE del Raspbian:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./images/instalacionderaspbianenunraspberrypi-4.jpg"&gt; &lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Debian"></category><category term="General"></category><category term="Linux"></category></entry><entry><title>Servidor Proxy DNS con pdnsd</title><link href="https://ecrespo.github.io/servidor-proxy-dns-con-pdnsd.html" rel="alternate"></link><published>2012-01-10T09:00:00-05:30</published><updated>2012-01-10T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2012-01-10:/servidor-proxy-dns-con-pdnsd.html</id><summary type="html">&lt;p&gt;Ya hace un tiempo había explicado como se instala un servidor proxy DNS con &lt;code&gt;dnsmasq&lt;/code&gt;, ahora explicaré la configuración de &lt;code&gt;PDNSD&lt;/code&gt; utilizando como servidor de DNS los servidores raíz de &lt;a href="https://es.wikipedia.org/wiki/OpenNIC"&gt;OpenNIC&lt;/a&gt; debido a los posibles problemas que nos genere la aprobación de la Ley SOPA y la Censura en Internet …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ya hace un tiempo había explicado como se instala un servidor proxy DNS con &lt;code&gt;dnsmasq&lt;/code&gt;, ahora explicaré la configuración de &lt;code&gt;PDNSD&lt;/code&gt; utilizando como servidor de DNS los servidores raíz de &lt;a href="https://es.wikipedia.org/wiki/OpenNIC"&gt;OpenNIC&lt;/a&gt; debido a los posibles problemas que nos genere la aprobación de la Ley SOPA y la Censura en Internet.&lt;/p&gt;
&lt;p&gt;Si quiere utilizar los servidores de DNS de &lt;code&gt;OpenNIC&lt;/code&gt;  más cercanos puede visitar el siguiente &lt;a href="http://wiki.opennicproject.org/ClosestT2Servers"&gt;enlace&lt;/a&gt;. Si desea más información sobre &lt;code&gt;OpenNIC&lt;/code&gt; puede revisar el siguiente &lt;a href="http://ww1.linuxerz.org/"&gt;artículo&lt;/a&gt; y la página del &lt;a href="http://www.opennicproject.org/"&gt;proyecto&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;En mi caso luego de consultar los servidores de &lt;code&gt;OpenNIC&lt;/code&gt; más cercanos usaré el siguiente servidor de DNS 192.121.86.100.&lt;/p&gt;
&lt;p&gt;Instalación de &lt;code&gt;pdnsd&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;En Debian simplemente se ejecuta un &lt;code&gt;apt-get install&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;#apt-get install pdnsd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;La aplicación muestra una ventana de dialogo donde menciona 3 métodos de configuración (resolvconf, servidores de DNS raíz o manual).&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/servidorproxydnsconpdnsd-1.png"&gt;&lt;/p&gt;
&lt;p&gt;En este caso se usará el método manual y se selecciona en la ventana de dialogo.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Texto alternativo" src="./images/servidorproxydnsconpdnsd-2.png"&gt;&lt;/p&gt;
&lt;p&gt;Se edita el archivo &lt;code&gt;/etc/pdnsd.conf&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;Se agrega la siguiente información:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;server {
    label = &amp;quot;OpenNIC&amp;quot;;
    ip = 192.121.86.100; //IP del servidor DNS
    uptest = query;     //Lrealiza consultas  DNS de una solicitud DNS.
    interface=wlan0;     //La interface conectada a la red.
}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se modifica a &lt;code&gt;yes&lt;/code&gt; el parámetro &lt;code&gt;START_DAEMON&lt;/code&gt; del archivo &lt;code&gt;/etc/default/pdnsd&lt;/code&gt; para iniciar automáticamente el servicio &lt;code&gt;pdnsd&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;START_DAEMON=yes&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Al editar el archivo &lt;code&gt;/etc/resolv.conf&lt;/code&gt; y agregar el servidor de DNS 127.0.0.1.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;nameserver 127.0.0.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Se reinicia el servicio &lt;code&gt;pdnsd&lt;/code&gt;:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# invoke-rc.d pdnsd restart
Stopping pdnsd.
Starting pdnsd.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se hace una consulta con &lt;code&gt;dig&lt;/code&gt;:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dig www.barrapunto.com|grep &amp;quot;Query time&amp;quot;
;; Query time: 316 msec

dig www.barrapunto.com|grep &amp;quot;Query time&amp;quot;
;; Query time: 2 msec
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para verificar el funcionamiento del servidor se ejecuta el siguiente comando:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# pdnsd-ctl status

Opening socket /var/cache/pdnsd/pdnsd.status

pdnsd-1.2.8-par running on jewel.

Cache status:
=============
2048 kB maximum disk cache size.
56894 of 2107392 bytes (2.7%) memory cache used in 216 entries.

Thread status:
==============
server status thread is running.
pdnsd control thread is running.
tcp server thread is running.
udp server thread is running.
19 query threads spawned in total (0 queries dropped).
10 running query threads (10 active, 0 queued).

Configuration:
==============
Global:
-------
    Cache size: 2048 kB
    Server directory: /var/cache/pdnsd
    Scheme file (for Linux pcmcia support): /var/lib/pcmcia/scheme
    Server port: 53
    Server ip (0.0.0.0=any available one): 127.0.0.1
    Ignore cache when link is down: off
    Maximum ttl: 604800
    Minimum ttl: 900
    Negative ttl: 900
    Negative RRS policy: default
    Negative domain policy: auth
    Run as: pdnsd
    Strict run as: on
    Use NSS: on
    Paranoid mode (cache pollution prevention): on
    Ignore CD (&amp;#39;checking disabled&amp;#39;) flag in queries: on
    Control socket permissions (mode): 600
    Maximum parallel queries served: 40
    Maximum queries queued for serving: 60
    Global timeout setting: 10
    Parallel queries increment: 2
    Randomize records in answer: on
    Query method: udp_only
    Query port start: 1024
    Query port end: 65535
    TCP server thread: on
    TCP query timeout: 30
    Delegation-only zones: (none)
Server 0:
------
    label: OpenNIC
    ip: 192.121.86.100
    server assumed available: yes
    port: 53
    uptest: query
    timeout: 120
    uptest interval: 900
    ping timeout: 600
    ping ip: (using server ip)
    interface: wlan0
    device (for special Linux ppp device support):
    uptest command:
    uptest user: (process owner)
    force cache purging: off
    server is cached: on
    lean query: on
    Use only proxy?: off
    Assumed root server: no
    Randomize server query order: no
    Default policy: included
    Policies: (none)
Succeeded
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se pueden agregar tantas IPS como se quiera.&lt;/p&gt;
&lt;p&gt;Si desea más información para configurar pdnsd revise los siguientes enlaces:  &lt;/p&gt;
&lt;p&gt;&lt;a href="https://wiki.archlinux.org/index.php/Pdnsd_(Espa%C3%B1ol)"&gt;https://wiki.archlinux.org/index.php/Pdnsd_(Espa%C3%B1ol)&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&lt;a href="http://manualinux.heliohost.org/pdnsd.html"&gt;http://manualinux.heliohost.org/pdnsd.html&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde la billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Canaima"></category><category term="Debian"></category><category term="DNS"></category><category term="General"></category><category term="Linux"></category><category term="Ubuntu"></category></entry><entry><title>Como cifrar directorios/particiones con eCryptfs</title><link href="https://ecrespo.github.io/como-cifrar-directoriosparticiones-con-ecryptfs.html" rel="alternate"></link><published>2011-08-21T09:00:00-05:30</published><updated>2011-08-21T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-08-21:/como-cifrar-directoriosparticiones-con-ecryptfs.html</id><summary type="html">&lt;p&gt;Este artículo se basa en el artículo de HowtoForge sobre el mismo &lt;a href="http://www.howtoforge.net/how-to-encrypt-directories-partitions-with-ecryptfs-on-debian-squeeze"&gt;tema&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;La idea es cifrar el directorio home del usuario,se monte el directorio cifrado automáticamente al arrancar el equipo.&lt;/p&gt;
&lt;p&gt;Es necesario tener un respaldo de la carpeta del usuario para evitar perdida de datos si olvida la …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Este artículo se basa en el artículo de HowtoForge sobre el mismo &lt;a href="http://www.howtoforge.net/how-to-encrypt-directories-partitions-with-ecryptfs-on-debian-squeeze"&gt;tema&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;La idea es cifrar el directorio home del usuario,se monte el directorio cifrado automáticamente al arrancar el equipo.&lt;/p&gt;
&lt;p&gt;Es necesario tener un respaldo de la carpeta del usuario para evitar perdida de datos si olvida la clave.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Instalar eCryptfs:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Se ejecuta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install ecryptfs-utils
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Cifrar un directorio.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Respaldar los archivos y directorios del home del usuario:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp -pfr /home/ecrespo /tmp/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Cifrar el directorio /home/ecrespo/ al montar el sistema de archivos ecryptfs:&lt;/p&gt;
&lt;p&gt;Se selecciona aes, 16, no se habilita frase plana, no se habilita cifrado del nombre del archivo, así que con estas opciones sólo hay que presionar enter a la información que solicite al montar la partición cifrada.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;mount&lt;/span&gt; &lt;span class="nt"&gt;-t&lt;/span&gt; &lt;span class="nt"&gt;ecryptfs&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;ecrespo&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;ecrespo&lt;/span&gt;

&lt;span class="nt"&gt;Passphrase&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;Select&lt;/span&gt; &lt;span class="nt"&gt;cipher&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
 &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;aes&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;32&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;2&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;blowfish&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;56&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;3&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;des3_ede&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;8&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;24&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;24&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;4&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;twofish&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;32&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;5&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;cast6&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;32&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
 &lt;span class="nt"&gt;6&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;cast5&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;blocksize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;8&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;min&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;5&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;max&lt;/span&gt; &lt;span class="nt"&gt;keysize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;not&lt;/span&gt; &lt;span class="nt"&gt;loaded&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nt"&gt;Selection&lt;/span&gt; &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;aes&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;Select&lt;/span&gt; &lt;span class="nt"&gt;key&lt;/span&gt; &lt;span class="nt"&gt;bytes&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
 &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;16&lt;/span&gt;
 &lt;span class="nt"&gt;2&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;32&lt;/span&gt;
 &lt;span class="nt"&gt;3&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;24&lt;/span&gt;
&lt;span class="nt"&gt;Selection&lt;/span&gt; &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;Enable&lt;/span&gt; &lt;span class="nt"&gt;plaintext&lt;/span&gt; &lt;span class="nt"&gt;passthrough&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;y&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Enter&lt;/span&gt;
&lt;span class="nt"&gt;Enable&lt;/span&gt; &lt;span class="nt"&gt;filename&lt;/span&gt; &lt;span class="nt"&gt;encryption&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;y&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Enter&lt;/span&gt;
&lt;span class="nt"&gt;Attempting&lt;/span&gt; &lt;span class="nt"&gt;to&lt;/span&gt; &lt;span class="nt"&gt;mount&lt;/span&gt; &lt;span class="nt"&gt;with&lt;/span&gt; &lt;span class="nt"&gt;the&lt;/span&gt; &lt;span class="nt"&gt;following&lt;/span&gt; &lt;span class="nt"&gt;options&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;ecryptfs_unlink_sigs&lt;/span&gt;
  &lt;span class="nt"&gt;ecryptfs_key_bytes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;16&lt;/span&gt;
  &lt;span class="nt"&gt;ecryptfs_cipher&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;aes&lt;/span&gt;
  &lt;span class="nt"&gt;ecryptfs_sig&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;162827f20fdadf4e&lt;/span&gt;
&lt;span class="nt"&gt;Mounted&lt;/span&gt; &lt;span class="nt"&gt;eCryptfs&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Verificar que la partición se ha montado.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;El comando mount sólo devuelve las particiones que se encuentran montadas en el Linux.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mount /home/ecrespo on /home/ecrespo type ecryptfs (rw,ecryptfs_sig=162827f20fdadf4e,ecryptfs_cipher=aes,ecryptfs_key_bytes=16,ecryptfs_unlink_sigs)
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Recuperar el respaldo y borrar el respaldo del directorio /tmp/&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp -pfr /tmp/ecrespo /home/
rm -fr /tmp/ecrespo
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Verificar el funcionamiento del cifrado de archivos.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Para propósitos de prueba se copia un archivo de /etc/ al home del usuario.
Mostrar la información que contiene el archivo hostname en /etc/&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /etc/hostname 
canaima-popular
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Copiar el archivo hostname al home del usuario:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp /etc/hostname /home/ecrespo/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Mientras la partición cifrada se encuentra montada se puede visualizar los archivos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /home/ecrespo/hostname 
canaima-popular
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Desmontar la partición.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;umount /home/ecrespo/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Verificar que el archivo está cifrado:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /home/ecrespo/hostname
4��ˉ�s|| � &amp;quot;3DUfw`�6���D �̬�����{� _CONSOLE (&amp;#39;��N�pD���-� \ٛn�Ś/��TD��xҝD[:�$] �wq�V��
�n /�k�a:�H.�{ USj�@u)�c ������T� �� �m�иや� � Z�&amp;amp;��0�Q��B�� /��q�e��E��li�&amp;quot;dx�tDs���k����h�J��20��&amp;amp;T�?R�x� �W�$�
                                                                                                                   �$�@ �&amp;amp;
                                                                                                                           ��� �G� /�.L���1d�� j����{cYRꄙZ`��t 8�4ԬZ~ ,)H
eb �� f ��?��
          �_&amp;#39; ��K&amp;amp;�d)����{y�z����ֆ�2x��h�� &amp;amp;j���tuq��a�JeJ�� ���\&amp;quot;~
                                                                   ��5`� V RCB`��������PU�&amp;amp;������X�
                                                                                                    9Ԥ[� 4O.� �� ̔�;/ �����#j V`Sf^��&amp;lt;�uB8 �ЭIx�4PR�� dml��`&amp;amp;c �
! ҟ&amp;amp;`�~�U?u�� �����쵮 @�)�8�Q U��杞M�e��=&amp;quot;�}�V# ��&amp;gt;������ �&amp;gt;�F�� R�#ZgI���^J�� ,��0ݼR�rO�f��AxS��3�\�M���o�D �u�Av)�qq%�(F�/���%tL��w�U�k6~c��` “=�4N��E�= #� � a7�����v�(V�p�HlR�Y5����#^���K �~ :h��Z�Q�J�{�FC�N;*� 0Bő*���=�
�ՙ��R�mќet ���7B�_�Dz.[�6&amp;gt;�ĸؓ�� �Nc��#��NR��@� 4 �/���M?Om �|;/�Oe9�6��&amp;amp;6D*U�A�e��� �V
�ZM�&amp;lt;ɝ��&amp;quot;�0��0�WŸL�H�,r
                        �&amp;gt;��f��4�$�wA�rѫ� �0H�����CP�i��&amp;amp;���!b���-#
$ލ;�X!y�� ~� I5e��V|Y�\� �H^£�7�0�Z��{�}&amp;quot;!��͡�� 6�M�!LNȆXvF         )� ��G�Nuɍ� � ӧ��s���t ���t��o&amp;amp;� C������W�#��Cpk�&amp;gt;&amp;lt;„
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Montar automáticamente  la partición o directorio.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Conecte un pendrive y ejecute el comando fdisk -l donde aparecerá la partición del pendrive:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fdisk -l
 Disk /dev/sdb: 16.0 GB, 16011542528 bytes
32 heads, 63 sectors/track, 15512 cylinders, 31272544 sectores en total
Units = sectores of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Identificador del disco: 0x59a4123d

Disposit. Inicio    Comienzo      Fin      Bloques  Id  Sistema
/dev/sdb1   *          63    31272191    15636064+   b  W95 FAT32
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Montar el pendrive:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir /mnt/usb
mount /dev/sdb1 /mnt/usb
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al ejecutar mount sólo mostrará las particiones montadas en el equipo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mount /dev/sdb1 on /mnt/usb type vfat (rw)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A diferencia del artículo original el pendrive y la partición cifrada no se monta automaticamente.&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Canaima"></category><category term="Seguridad"></category><category term="eCryptfs"></category></entry><entry><title>Compartir repositorios de Mercurial con mercurial-server</title><link href="https://ecrespo.github.io/compartir-repositorios-de-mercurial-con-mercurial-server.html" rel="alternate"></link><published>2011-08-20T09:00:00-05:30</published><updated>2011-08-20T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-08-20:/compartir-repositorios-de-mercurial-con-mercurial-server.html</id><summary type="html">&lt;p&gt;Se tienen varios artículos sobre mercurial en este blog, un &lt;a href="https://www.seraph.to/control-de-versiones-con-mercurial.html"&gt;tutorial de mercurial&lt;/a&gt; (viene una actualización), &lt;a href="https://www.seraph.to/manteniendo-un-paquete-debian-con-mercurial.html"&gt;como empaquetar para Debian con mercurial&lt;/a&gt; (viene una actualización) y el último &lt;a href="https://www.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html"&gt;como gestionar la configuración con mercurial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Este artículo explicará como compartir repositorios de Mercurial con mercurial-server, este artículo se basa en el …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Se tienen varios artículos sobre mercurial en este blog, un &lt;a href="https://www.seraph.to/control-de-versiones-con-mercurial.html"&gt;tutorial de mercurial&lt;/a&gt; (viene una actualización), &lt;a href="https://www.seraph.to/manteniendo-un-paquete-debian-con-mercurial.html"&gt;como empaquetar para Debian con mercurial&lt;/a&gt; (viene una actualización) y el último &lt;a href="https://www.seraph.to/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html"&gt;como gestionar la configuración con mercurial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Este artículo explicará como compartir repositorios de Mercurial con mercurial-server, este artículo se basa en el &lt;a href="http://dev.lshift.net/paul/mercurial-server/docbook.html"&gt;tutorial en inglés&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Mercurial-server no se autentica usando claves pero si llaves públicas con ssh. Todos los usuarios que quieran acceder al repositorio mercurial necesitan una llave pública. &lt;/p&gt;
&lt;p&gt;En el siguiente enlace tienen una guía de como crear las &lt;a href="http://rafael.bonifaz.ec/blog/2011/01/ssh-con-claves-publicas-y-privadas/"&gt;llaves públicas&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Acceso inicial al mercurial-server.&lt;/h3&gt;
&lt;p&gt;Instalar mercurial-server:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install mercurial-server 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Conectarse al servidor grievous habilitando el forwarding.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ernesto@jewel:~$ ssh -A grievous
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Agregar llave privada al agente de autenticación. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ernesto@grievous:~$ ssh-add -L &amp;gt; my-key
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Crear el directorio para el usuario ernesto en el mercurial-server, copiar la llave y actualizar el repositorio de autenticación. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ernesto@grievous:~$ sudo mkdir -p /etc/mercurial-server/keys/root/ernesto
ernesto@grievous:~$ sudo cp my-key /etc/mercurial-server/keys/root/ernesto/jewel
ernesto@grievous:~$ sudo -u hg /usr/share/mercurial-server/refresh-auth
ernesto@grievous:~$ exit
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Crear un repositorio.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; cd proyectos/pysms-send
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Clonar el proyecto en el servidor grievous: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ernesto@jewel:~/proyectos/pysms-send$ hg clone . ssh://hg@grievous/ernesto/pysms-send
searching for changes
27 changesets found
remote: adding changesets
remote: adding manifests
remote: adding file changes
remote: added 27 changesets with 52 changes to 24 files
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Revisar si hay cambios en el repositorio.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ernesto@jewel:~/proyectos/pysms-send$ hg pull ssh://hg@grievous/ernesto/pysms-send
pulling from ssh://hg@grievous/ernesto/pysms-send
searching for changes
no changes found
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Siguiente artículo se explicará como agregar usuarios al repositorio, controlar el acceso al repositorio&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Canaima"></category><category term="mercurial"></category></entry><entry><title>Usar dnsmasq como servidor DNS cache y local</title><link href="https://ecrespo.github.io/usar-dnsmasq-como-servidor-dns-cache-y-local.html" rel="alternate"></link><published>2011-08-20T09:00:00-05:30</published><updated>2011-08-20T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-08-20:/usar-dnsmasq-como-servidor-dns-cache-y-local.html</id><summary type="html">&lt;p&gt;En el &lt;a href="https://ecrespo.github.io/mejorando-la-velocidad-de-consultas-de-dns-con-dnsmasq-y-probar-pruebas-de-diagnostico.html"&gt;artículo anterior&lt;/a&gt; explicaba como mejorar las consultas de DNS del equipo con dnsmaq.&lt;/p&gt;
&lt;p&gt;También se puede agregar equipos con su IP como de un servidor de DNS con Bind9 en funcionamiento.&lt;/p&gt;
&lt;p&gt;Se tiene una máquina virtual de nombre grievous e IP 192.168.10.53.&lt;/p&gt;
&lt;p&gt;Para instalr dnsmasq …&lt;/p&gt;</summary><content type="html">&lt;p&gt;En el &lt;a href="https://ecrespo.github.io/mejorando-la-velocidad-de-consultas-de-dns-con-dnsmasq-y-probar-pruebas-de-diagnostico.html"&gt;artículo anterior&lt;/a&gt; explicaba como mejorar las consultas de DNS del equipo con dnsmaq.&lt;/p&gt;
&lt;p&gt;También se puede agregar equipos con su IP como de un servidor de DNS con Bind9 en funcionamiento.&lt;/p&gt;
&lt;p&gt;Se tiene una máquina virtual de nombre grievous e IP 192.168.10.53.&lt;/p&gt;
&lt;p&gt;Para instalr dnsmasq se ejecuta apt-get.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install dnsmasq
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Configurar dnsmasq como DNS cache y local.&lt;/p&gt;
&lt;p&gt;Se define la ruta del archivo resolv.conf que hace consultas al servidor de DNS externo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;resolv-file=/etc/resolv-orig.conf
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Definir respuestas de peticiones locales dadas por el archivo /etc/hosts.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; local=/localnet/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Y eso es todo lo que hay que cambiarse en el archivo /etc/dnsmasq.conf para resolver nombres de equipos locales por medio de /etc/hosts.&lt;/p&gt;
&lt;p&gt;Agregar los equipos en el archivo /etc/hosts.&lt;/p&gt;
&lt;p&gt;En este caso se tiene el equipo grievous:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;192.168.10.53   grievous        grievous
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Si se necesita agregar más equipos al servidor de DNS simplemente se edita el archivo /etc/hosts agregando los equipos en dicho archivo.&lt;/p&gt;
&lt;p&gt;Se crea el archivo /etc/resolv-orig.conf donde se encuentra las IPs de los servidores de DNS externos.
En este caso se está usando los servidores de DNS de Google, OpenDNS y de la red del trabajo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nameserver 8.8.8.8 
nameserver 8.8.4.4
nameserver 208.67.222.222
nameserver 208.67.220.220
nameserver 192.168.32.254
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ya se tiene configurado el servidor de DNS, sólo falta que el equipo realice las consultas por medio del archivo /etc/resolv.conf, el cual debe apuntar al servidor local de DNS (127.0.0.1).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nameserver 127.0.0.1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se puede probar la resolución de nombres en el equipo.&lt;/p&gt;
&lt;p&gt;Probar que devuelve respuestas el servidor DNS al consultar el nombre del equipo grievous:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;host&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt;
&lt;span class="nt"&gt;grievous&lt;/span&gt; &lt;span class="nt"&gt;has&lt;/span&gt; &lt;span class="nt"&gt;address&lt;/span&gt; &lt;span class="nt"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;53&lt;/span&gt;


&lt;span class="nt"&gt;dig&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt;

&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;DiG&lt;/span&gt; &lt;span class="nt"&gt;9&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;7&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;3&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;grievous&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;global&lt;/span&gt; &lt;span class="nt"&gt;options&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nt"&gt;cmd&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;Got&lt;/span&gt; &lt;span class="nt"&gt;answer&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;-&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="nt"&gt;HEADER&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;opcode&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;QUERY&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;status&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;NOERROR&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;id&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;19819&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;flags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;qr&lt;/span&gt; &lt;span class="nt"&gt;aa&lt;/span&gt; &lt;span class="nt"&gt;rd&lt;/span&gt; &lt;span class="nt"&gt;ra&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;QUERY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;ANSWER&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;AUTHORITY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;ADDITIONAL&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;


&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;QUESTION&lt;/span&gt; &lt;span class="nt"&gt;SECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="nt"&gt;grievous&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;          &lt;span class="nt"&gt;IN&lt;/span&gt;  &lt;span class="nt"&gt;A&lt;/span&gt;


&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;ANSWER&lt;/span&gt; &lt;span class="nt"&gt;SECTION&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="nt"&gt;grievous&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;       &lt;span class="nt"&gt;0&lt;/span&gt;   &lt;span class="nt"&gt;IN&lt;/span&gt;  &lt;span class="nt"&gt;A&lt;/span&gt;   &lt;span class="nt"&gt;192&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;168&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;53&lt;/span&gt;


&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;Query&lt;/span&gt; &lt;span class="nt"&gt;time&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;6&lt;/span&gt; &lt;span class="nt"&gt;msec&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;SERVER&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="nn"&gt;53&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;WHEN&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;Sat&lt;/span&gt; &lt;span class="nt"&gt;Aug&lt;/span&gt; &lt;span class="nt"&gt;20&lt;/span&gt; &lt;span class="nt"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;06&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;45&lt;/span&gt; &lt;span class="nt"&gt;2011&lt;/span&gt;
&lt;span class="o"&gt;;;&lt;/span&gt; &lt;span class="nt"&gt;MSG&lt;/span&gt; &lt;span class="nt"&gt;SIZE&lt;/span&gt;  &lt;span class="nt"&gt;rcvd&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;42&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se puede verificar los rendimientos de los servidores de DNS con NameBench. Para instalarlo se ejecuta apt-get.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install  namebench
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En la siguiente figura se muestra la ejecución de namebench donde se le define el servidor de Nombres a utilizar.&lt;/p&gt;
&lt;p&gt;&lt;img alt="namebench" src="./images/namebench.png"&gt;&lt;/p&gt;
&lt;p&gt;A continuación se muestra las figuras del resultado de Namebench.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Resultado namebench 1" src="./images/namebench1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Resultado namebench 2" src="./images/namebench2.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Resultado namebench 3" src="./images/namebench3.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Resultado namebench 4" src="./images/namebench4.png"&gt;&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Canaima"></category><category term="dnsmasq"></category></entry><entry><title>Gestionar los archivos de configuración en /etc con etckeeper y mercurial</title><link href="https://ecrespo.github.io/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html" rel="alternate"></link><published>2011-07-27T09:00:00-05:30</published><updated>2011-07-27T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-07-27:/gestionar-los-archivos-de-configuracion-en-etc-con-etckeeper-y-mercurial.html</id><summary type="html">&lt;p&gt;Continuando con los artículos de control de versiones distribuido con Mercurial ahora toca el respaldo y guardar las versiones de los archivos de configuración en /etc con etckeeper.&lt;/p&gt;
&lt;p&gt;La mayoria de los artículos que se consiguen sobre etckeeper es usando git o bazaar.&lt;/p&gt;
&lt;p&gt;Para esta guía es necesario tener conocimientos …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Continuando con los artículos de control de versiones distribuido con Mercurial ahora toca el respaldo y guardar las versiones de los archivos de configuración en /etc con etckeeper.&lt;/p&gt;
&lt;p&gt;La mayoria de los artículos que se consiguen sobre etckeeper es usando git o bazaar.&lt;/p&gt;
&lt;p&gt;Para esta guía es necesario tener conocimientos básicos de mercurial, pueden leer el artículo de control de &lt;a href="https://ecrespo.github.io/control-de-versiones-con-mercurial.html"&gt;versiones con mercurial de este blog&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Es necesario llevar un histórico de los archivos dentro del directorio /etc/, es esencial para un sistema saludable. Los beneficios rastrear cambios en los archivos dentro de /etc incluye:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Documentación: Los mensajes de log quedan atados a los cambios de configuración de los archivos que sirven como documentación.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Resolución de problemas: Permite devolver cambios en las configuraciones que han dado problemas y así mantener la estabilidad del sistema.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Instalación de etckeeper:
 Es necesario tener mercurial instalado.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install mercurial etckeeper
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Configuración de etckeeper:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Se edita el archivo /etc/etckeeper/etckeeper.conf se comenta los distintos sistemas de control de versiones y se deja hg, adicionalmente se deja la opción de envío de correo a un usuario.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;VCS=&amp;quot;hg&amp;quot;
# Options passed to hg commit when run by etckeeper.
HG_COMMIT_OPTIONS=&amp;quot;-u ecrespo@gmail.com&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Luego se edita el archivo /etc/mercurial/hgrc&lt;/p&gt;
&lt;p&gt;Se agrega el correo del usuario:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[ui]&lt;/span&gt;
&lt;span class="na"&gt;username&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;ecrespo@gmail.com&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Se inicializa el control de versiones:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;etckeeper init
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A continuación se muestra como se ha agregado los archivos dentro de /etc en el control de versiones:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;adding xdg/xfce4/Xft.xrdb
adding xdg/xfce4/helpers.rc
adding xdg/xfce4/mount.rc
adding xdg/xfce4/panel/clock-14.rc
adding xdg/xfce4/panel/launcher-10.rc
adding xdg/xfce4/panel/launcher-7.rc
adding xdg/xfce4/panel/launcher-9.rc
adding xdg/xfce4/panel/panels.xml
adding xdg/xfce4/panel/systray-4.rc
adding xdg/xfce4/panel/xfce4-menu-5.rc
adding xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-keyboard-shortcuts.xml
adding xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml
adding xdg/xfce4/xfconf/xfce-perchannel-xml/xsettings.xml
adding xdg/xfce4/xinitrc
adding xml/catalog
adding xml/docbook-xml.xml
adding xml/docbook-xsl.xml
adding xml/rarian-compat.xml
adding xml/sgml-data.xml
adding xml/xml-core.xml
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Se hace el primer commit:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;etckeeper commit &amp;quot;Inicializacion del control de versiones&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Usando etckeeper.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Al realizar la instalación de un programa se ejecutará automáticamente el agregado de los archivos de configuración en el control de versiones.
Se instalará el paquete lighttpd para mostar el proceso de agregar los archivos al control de versiones:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install lighttpd
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al final aparece una serie de archivos agregados:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;adding lighttpd/conf-available/15-fastcgi-php.conf
adding lighttpd/conf-available/90-debian-doc.conf
adding lighttpd/conf-available/README
adding lighttpd/lighttpd.conf
adding logrotate.d/lighttpd
adding rc0.d/K01lighttpd
adding rc1.d/K01lighttpd
adding rc2.d/S20lighttpd
adding rc3.d/S20lighttpd
adding rc4.d/S20lighttpd
adding rc5.d/S20lighttpd
adding rc6.d/K01lighttpd
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se revisa el estatus de mercurial en el directorio /etc:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg status /etc/
M ../etc/.etckeeper
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al revisar el log de mercurial en el directorio /etc/ muestra los cambios realizados (commit):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg log /etc/

changeset:   1:ba22869a3179
tag:         tip
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:02:27 2011 -0430
summary:     committing changes in /etc after apt run

changeset:   0:f2a3f337ecc0
user:        ecrespo@gmail.com
date:        Wed Jul 27 21:54:21 2011 -0430
summary:     Inicializacion del control de versiones
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se tiene una descripción de los cambios en el changeset 0 se muestra la inicialización del control de versiones, en el changeset 1 se muestra el cambio luego de instalar lighttpd.&lt;/p&gt;
&lt;p&gt;Se modifica un archivo de configuración /etc/hosts :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;etckeeper commit &amp;quot;Se elimina el dominio  del host jewel en /etc/hosts&amp;quot; /etc/hosts
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al volver a revisar el log de mercurial sobre el directorio /etc/ aparece el commit del cambio del archivo hosts:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg log /etc/
changeset:   2:6efc1189bd8b
tag:         tip
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:08:25 2011 -0430
summary:     Se elimina el dominio del host jewel en /etc/hosts

changeset:   1:ba22869a3179
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:02:27 2011 -0430
summary:     committing changes in /etc after apt run

changeset:   0:f2a3f337ecc0
user:        ecrespo@gmail.com
date:        Wed Jul 27 21:54:21 2011 -0430
summary:     Inicializacion del control de versiones
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se puede ver las diferencias entre los cambios realizados en archivos dentro del directorio /etc:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg diff /etc/
diff -r 6efc1189bd8b hosts
--- a/hosts    Wed Jul 27 22:08:25 2011 -0430
+++ b/hosts    Wed Jul 27 22:13:41 2011 -0430
@@ -1,6 +1,6 @@
 127.0.0.1    localhost
 127.0.1.1    jewel    jewel
-
+127.0.0.1    sofia   sofia
 # The following lines are desirable for IPv6 capable hosts
 ::1     ip6-localhost ip6-loopback
 fe00::0 ip6-localnet
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al realizar el commit y volver a hacer el diff está vez no muestra información por que ya los cambios se subieron al control de versiones:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;etckeeper commit &amp;quot;Agregado el nombre sofia al host 127.0.0.1 en el archivo /etc/hosts&amp;quot; /etc/hosts
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al revisar los logs ahora aparece el cambio de agreado el nombre sofia al host 127.0.0.1:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg log /etc/
changeset:   3:452065708a7e
tag:         tip
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:16:13 2011 -0430
summary:     Agregado el nombre sofia al host 127.0.0.1 en el archivo /etc/hosts

changeset:   2:6efc1189bd8b
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:08:25 2011 -0430
summary:     Se elimina pdvsa.com del host jewel en /etc/hosts

changeset:   1:ba22869a3179
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:02:27 2011 -0430
summary:     committing changes in /etc after apt run

changeset:   0:f2a3f337ecc0
user:        ecrespo@gmail.com
date:        Wed Jul 27 21:54:21 2011 -0430
summary:     Inicializacion del control de versiones
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para ver el tip de cada repo se ejecuta hg tip dentro del repositorio:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@jewel:/etc# hg tip
changeset:   3:452065708a7e
tag:         tip
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:16:13 2011 -0430
summary:     Agregado el nombre sofia al host 127.0.0.1 en el archivo /etc/hosts
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se mostrará todas las revisiones con los logs y luego se revertirá un cambio:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg log 
changeset:   3:452065708a7e
tag:         tip
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:16:13 2011 -0430
summary:     Agregado el nombre sofia al host 127.0.0.1 en el archivo /etc/hosts

changeset:   2:6efc1189bd8b
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:08:25 2011 -0430
summary:     Se elimina pdvsa.com del host jewel en /etc/hosts

changeset:   1:ba22869a3179
user:        ecrespo@gmail.com
date:        Wed Jul 27 22:02:27 2011 -0430
summary:     committing changes in /etc after apt run

changeset:   0:f2a3f337ecc0
user:        ecrespo@gmail.com
date:        Wed Jul 27 21:54:21 2011 -0430
summary:     Inicializacion del control de versiones
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se pueden ver los cambios con respecto a cada revisión, en el siguiente comando se revisa la revisión 1 con respecto a la 2 en /etc/hosts:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg diff -r 1 -r 2 /etc/hosts
diff -r ba22869a3179 -r 6efc1189bd8b hosts
--- a/hosts    Wed Jul 27 22:02:27 2011 -0430
+++ b/hosts    Wed Jul 27 22:08:25 2011 -0430
@@ -1,5 +1,5 @@
 127.0.0.1    localhost
-127.0.1.1    jewel.dst.pdvsa.com    jewel
+127.0.1.1    jewel    jewel

 # The following lines are desirable for IPv6 capable hosts
 ::1     ip6-localhost ip6-loopback

Ahora se mostrará la 1 con respecto a la 3:
hg diff -r 1 -r 3 /etc/hosts
diff -r ba22869a3179 -r 452065708a7e hosts
--- a/hosts    Wed Jul 27 22:02:27 2011 -0430
+++ b/hosts    Wed Jul 27 22:16:13 2011 -0430
@@ -1,6 +1,6 @@
 127.0.0.1    localhost
-127.0.1.1    jewel.dst.pdvsa.com    jewel
-
+127.0.1.1    jewel    jewel
+127.0.0.1    sofia   sofia
 # The following lines are desirable for IPv6 capable hosts
 ::1     ip6-localhost ip6-loopback
 fe00::0 ip6-localnet
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora se revierte el cambio de la revisión 3 a la 2 en el archivo /etc/hosts.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg revert -r 2 /etc/hosts
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ahora el host sofia ya no aparece en el archivo /etc/hosts:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;127.0.0.1       localhost
127.0.1.1       jewel   jewel

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Si se desea respaldar los archivos en un servidor se puede usar bitbucket como ejemplo, se crea el proyecto configuracion-jewel y se sube el contenido del directorio /etc/ con el comando hg push:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hg push https://bitbucket.org/ecrespo/configuracion-jewel
http authorization required
realm: Bitbucket.org HTTP
user: ecrespo
password: 
pushing to https://bitbucket.org/ecrespo/configuracion-jewel
searching for changes
remote: adding changesets
remote: adding manifests
remote: adding file changes
remote: added 4 changesets with 5764 changes to 5759 files
remote: bb/acl: ecrespo is allowed. accepted payload.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En la siguiente figura se muestra una captura de pantalla de los cambios del proyecto en bitbucket.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Web mercurial" src="./images/mercurial-1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Web mercurial" src="./images/mercurial-2.png"&gt;&lt;/p&gt;
&lt;p&gt;Con esta guía ya se puede llevar un control de los cambios realizados en el directorio /etc/ con un control de versiones distribuido como mercurial.&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Canaima"></category><category term="etckeeper"></category><category term="mercurial"></category></entry><entry><title>Iniciar sesión de usuario autenticando vía pendrive</title><link href="https://ecrespo.github.io/iniciar-sesion-de-usuario-autenticando-via-pendrive.html" rel="alternate"></link><published>2011-07-26T09:00:00-05:30</published><updated>2011-07-26T09:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2011-07-26:/iniciar-sesion-de-usuario-autenticando-via-pendrive.html</id><summary type="html">&lt;p&gt;Cuando no se pasa uno a modo paranoico se le ocurren ideas de como validar usuarios al ingresar en una sesión de escritorio vía GDM.&lt;/p&gt;
&lt;p&gt;En Debian/Ubuntu/Canaima existe los paquetes libpam-usb y pamusb-tools, estos permiten crear una llave, dicha llave se guarda en el pendrive. Luego se configura …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Cuando no se pasa uno a modo paranoico se le ocurren ideas de como validar usuarios al ingresar en una sesión de escritorio vía GDM.&lt;/p&gt;
&lt;p&gt;En Debian/Ubuntu/Canaima existe los paquetes libpam-usb y pamusb-tools, estos permiten crear una llave, dicha llave se guarda en el pendrive. Luego se configura pam para que se pida la llave al momento de ingresar usuario y clave en el GDM del equipo; si no se conecta el pendrive el GDM colocará un mensaje que clave invalida.&lt;/p&gt;
&lt;p&gt;Para instalar estos paquetes se ejecuta aptitude:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install libpam-usb pamusb-tools
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Luego se conecta el pendrive en el equipo y se agrega el dispositivo en /etc/pamusb.conf con el comando pamusb-conf:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pamusb-conf --add-device /media/F060-785C/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Donde /media/F060-785C/ es la ruta del pendrive.&lt;/p&gt;
&lt;p&gt;Se agrega el usuario en /etc/pamusb.conf el cual iniciará sesión en el equipo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pamusb-conf --add-user ecrespo
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se verifica la configuración de pamusb con el usuario agregado:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pamusb-check ecrespo
* Authentication request for user &amp;quot;ecrespo&amp;quot; (pamusb-check)
* Device &amp;quot;/media/F060-785C/&amp;quot; is connected (good).
* Performing one time pad verification...
* Regenerating new pads...
* Unable to update pads.
* Access granted.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al devolver el programa acceso garantizado ya se tiene todo listo para usar el pendrive en el momento de inicio de sesión, sólo falta modificar pam para que permita la autenticación con el pendrive.&lt;/p&gt;
&lt;p&gt;Se edita el archivo /etc/pam.d/common-aut y se agrega la siguiente línea:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;auth sufficient pam_usb.so
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Con esta línea el GDM verifica el token de la llave, si se quiere que pida tanto la contraseña como el token se cambia sufficient a required.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;auth required pam_usb.so
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A partir de ahora al iniciar sesión se necesita la contraseña y el token.&lt;/p&gt;
&lt;p&gt;A continuación se muestra el mensaje que envía la consola al ejecutar sudo -s :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[sudo] password for ecrespo: 
* pam_usb v0.4.2
* Authentication request for user &amp;quot;ecrespo&amp;quot; (sudo)
* Device &amp;quot;/media/F060-785C/&amp;quot; is connected (good).
* Performing one time pad verification...
* Regenerating new pads...
* Unable to update pads.
* Access granted.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="Debian"></category><category term="Ubuntu"></category><category term="Canaima"></category><category term="libpam"></category><category term="gnome"></category><category term="usb"></category></entry><entry><title>Crear un paquete python de un programa</title><link href="https://ecrespo.github.io/crear-un-paquete-python-de-un-programa.html" rel="alternate"></link><published>2010-08-08T11:00:00-05:30</published><updated>2010-08-08T11:00:00-05:30</updated><author><name>Ernesto Crespo</name></author><id>tag:ecrespo.github.io,2010-08-08:/crear-un-paquete-python-de-un-programa.html</id><summary type="html">&lt;p&gt;Este artículo explicará el proceso de creación de un tar.gz o tar.bz2 del programa de configuración de los accesos rápidos de teclado por medio de gconf con python.
La siguiente imagen muestra el repositorio del proyecto en google code.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Repositorio  de Python-config-accesskey-gnome - Google Code" src="./images/googlecode.png"&gt;&lt;/p&gt;
&lt;p&gt;Como muestra la figura se tiene una serie de …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Este artículo explicará el proceso de creación de un tar.gz o tar.bz2 del programa de configuración de los accesos rápidos de teclado por medio de gconf con python.
La siguiente imagen muestra el repositorio del proyecto en google code.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Repositorio  de Python-config-accesskey-gnome - Google Code" src="./images/googlecode.png"&gt;&lt;/p&gt;
&lt;p&gt;Como muestra la figura se tiene una serie de archivos en el repositorio, a continuación se explicará cada uno de ellos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;COPYING: Contiene la Licencia del proyecto.&lt;/li&gt;
&lt;li&gt;MANIFEST.in: Es una plantilla que contiene la lista de archivos que se incluirán en el paquete del programa.&lt;/li&gt;
&lt;li&gt;README: Contiene información del programa, una descripción de uso y requerimientos.&lt;/li&gt;
&lt;li&gt;TODO: Lista de cosas por hacer para las siguientes versiones del programa.&lt;/li&gt;
&lt;li&gt;Archivos *.py: Son los programas desarrollados.&lt;/li&gt;
&lt;li&gt;pyconfig-accessgnome-ui.desktop: Archivo que define la información de la aplicación en el menú del escritorio.&lt;/li&gt;
&lt;li&gt;pyconfig-accessgnome.glade : Archivo xml glade que contiene la interfaz gráfica.&lt;/li&gt;
&lt;li&gt;setup.py: Archivo de configuración del proceso de instalación y creación de paquetes.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para fines prácticos se explicará MANIFEST.in y setup.py.&lt;/p&gt;
&lt;p&gt;MANIFEST.in es un archivo plantilla de entra que define que archivos se van a colocar en el archivo MANIFEST, este archivo final le dira a setup.py cuales serán los archivos que se incluirán en el paquete .tar.gz o .tar.bz2.
El archivo tiene una directiva include donde se le dirá los archivos que se quieren incluir.
Por ejemplo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;include COPYING pyconfig-accessgnome.glade pyconfig-accessgnome-ui.desktop README TODO
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;El archivo setup.py contiene lo siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;!&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nb"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;env&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;
&lt;span class="c1"&gt;#importar setup de distutils&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;distutils.core&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;setup&lt;/span&gt;  
&lt;span class="c1"&gt;#Crear la variable data_files que contiene las rutas de donde se van a colocar los archivos.&lt;/span&gt;
&lt;span class="n"&gt;data_files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;share/applications&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pyconfig-accessgnome-ui.desktop&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;share/python-config-accesskey-gnome&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;COPYING&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;configGconf.py&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pyconfig-accessgnome.glade&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pyconfig-accessgnome-ui.py&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;README&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;TODO&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])]&lt;/span&gt;


&lt;span class="c1"&gt;#se define el nombre del programa, la versión, una descripción corta, el autor y su correo, &lt;/span&gt;
&lt;span class="c1"&gt;#el url del proyecto, la licencia, los scripts principales del programa, los archivos de datos adicionales,&lt;/span&gt;
&lt;span class="c1"&gt;#La plataforma soportadas,los módulos que se requieren para el funcionamiento del programa.&lt;/span&gt;
&lt;span class="c1"&gt;#Y el módulo que se desarrollo y necesita el programa principal.&lt;/span&gt;


&lt;span class="n"&gt;setup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;python-gconf-keybinding&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;0.4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Allow config keyboard access application with gconf&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;author&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Ernesto Nadir Crespo Avila&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
      &lt;span class="n"&gt;author_email&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ecrespo@gmail.com&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;http://code.google.com/p/python-config-accesskey-gnome/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;license&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;GPL v3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;scripts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pyconfig-accessgnome-ui.py&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;configGconf.py&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
      &lt;span class="n"&gt;data_files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data_files&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="n"&gt;platforms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;i386&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;AMD64&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
      &lt;span class="n"&gt;requires&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gtk&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gconf&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pygtk&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gtk.glade&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
      &lt;span class="n"&gt;py_modules&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;configGconf&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
      &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Al tener los archivos necesarios para instalar el programa y para crear los paquetes sólo queda ejecutar los comandos:
Listar los archivos existentes:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls -l
total 92
-rwxr-xr-x 1 ernesto ernesto  8036 ago  7 17:49 configGconf.py
-rw-r--r-- 1 ernesto ernesto 33353 jul 27 20:41 COPYING
-rw-r--r-- 1 ernesto ernesto    88 ago  8 18:15 MANIFEST.in
-rw-r--r-- 1 ernesto ernesto 14729 jul 27 20:45 pyconfig-accessgnome.glade
-rwxr-xr-x 1 ernesto ernesto   315 jul 27 20:41 pyconfig-accessgnome-ui.desktop
-rwxr-xr-x 1 ernesto ernesto  8420 ago  8 17:06 pyconfig-accessgnome-ui.py
-rw-r--r-- 1 ernesto ernesto  4260 jul 27 20:41 README
-rwxr-xr-x 1 ernesto ernesto  1021 ago  8 18:12 setup.py
-rw-r--r-- 1 ernesto ernesto     0 jul 27 20:41 TODO
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Probar la instalación del programa:
Se ejecuta el install para el setup.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo python setup.py install
running install
running build
running build_py
creating build
creating build/lib.linux-i686-2.6
copying configGconf.py -&amp;gt; build/lib.linux-i686-2.6
running build_scripts
creating build/scripts-2.6
copying and adjusting pyconfig-accessgnome-ui.py -&amp;gt; build/scripts-2.6
copying and adjusting configGconf.py -&amp;gt; build/scripts-2.6
changing mode of build/scripts-2.6/pyconfig-accessgnome-ui.py from 644 to 755
changing mode of build/scripts-2.6/configGconf.py from 644 to 755
running install_lib
running install_scripts
copying build/scripts-2.6/pyconfig-accessgnome-ui.py -&amp;gt; /usr/local/bin
copying build/scripts-2.6/configGconf.py -&amp;gt; /usr/local/bin
changing mode of /usr/local/bin/pyconfig-accessgnome-ui.py to 755
changing mode of /usr/local/bin/configGconf.py to 755
running install_data
running install_egg_info
Removing /usr/local/lib/python2.6/dist-packages/python_gconf_keybinding-0.4.egg-info
Writing /usr/local/lib/python2.6/dist-packages/python_gconf_keybinding-0.4.egg-info
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Esto crea un directorio build que contiene los scripts y la librerías, luego los copia en /usr/local/  tanto en bin como en share. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls share/python-config-accesskey-gnome/
configGconf.py  COPYING  pyconfig-accessgnome.glade  pyconfig-accessgnome-ui.py  README  TODO

ls bin/
configGconf.py  pyconfig-accessgnome-ui.py  pyloro.py
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ya en este momento se puede ejecutar el programa tanto de forma gráfica como desde la línea de comandos.&lt;/p&gt;
&lt;p&gt;A continuación viene el proceso de construcción del tar.gz y tar.bz:
El comando para el setup.py es sdist el cual crea el paquete para ser distribuído, adicionalmente se le pasa el formato con la opción --formats=bztar, gztar. Los argumentos bztar y gztar es para crear un tar.bz2 y un tar.gz respectivamente.&lt;/p&gt;
&lt;p&gt;El comando es el siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python setup.py sdist --formats=bztar,gztar
running sdist
reading manifest template &amp;#39;MANIFEST.in&amp;#39;
writing manifest file &amp;#39;MANIFEST&amp;#39;
creating python-gconf-keybinding-0.4
making hard links in python-gconf-keybinding-0.4...
hard linking COPYING -&amp;gt; python-gconf-keybinding-0.4
hard linking README -&amp;gt; python-gconf-keybinding-0.4
hard linking TODO -&amp;gt; python-gconf-keybinding-0.4
hard linking configGconf.py -&amp;gt; python-gconf-keybinding-0.4
hard linking pyconfig-accessgnome-ui.desktop -&amp;gt; python-gconf-keybinding-0.4
hard linking pyconfig-accessgnome-ui.py -&amp;gt; python-gconf-keybinding-0.4
hard linking pyconfig-accessgnome.glade -&amp;gt; python-gconf-keybinding-0.4
hard linking setup.py -&amp;gt; python-gconf-keybinding-0.4
creating dist
tar -cf dist/python-gconf-keybinding-0.4.tar python-gconf-keybinding-0.4
bzip2 -f9 dist/python-gconf-keybinding-0.4.tar
tar -cf dist/python-gconf-keybinding-0.4.tar python-gconf-keybinding-0.4
gzip -f9 dist/python-gconf-keybinding-0.4.tar
removing &amp;#39;python-gconf-keybinding-0.4&amp;#39; (and everything under it)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ya se tiene un directorio dist con los 2 paquetes creados:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls -l dist/
total 40
-rw-r--r-- 1 ernesto ernesto 16539 ago  8 19:12 python-gconf-keybinding-0.4.tar.bz2
-rw-r--r-- 1 ernesto ernesto 18331 ago  8 19:12 python-gconf-keybinding-0.4.tar.gz
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;El contenido de un paquete es el siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;tar -tvzf dist/python-gconf-keybinding-0.4.tar.gz 
drwxr-xr-x ernesto/ernesto   0 2010-08-08 19:12 python-gconf-keybinding-0.4/
-rwxr-xr-x ernesto/ernesto 8420 2010-08-08 17:06 python-gconf-keybinding-0.4/pyconfig-accessgnome-ui.py
-rw-r--r-- ernesto/ernesto 33353 2010-07-27 20:41 python-gconf-keybinding-0.4/COPYING
-rwxr-xr-x ernesto/ernesto  8036 2010-08-07 17:49 python-gconf-keybinding-0.4/configGconf.py
-rw-r--r-- ernesto/ernesto     0 2010-07-27 20:41 python-gconf-keybinding-0.4/TODO
-rwxr-xr-x ernesto/ernesto   315 2010-07-27 20:41 python-gconf-keybinding-0.4/pyconfig-accessgnome-ui.desktop
-rwxr-xr-x ernesto/ernesto  1021 2010-08-08 18:12 python-gconf-keybinding-0.4/setup.py
-rw-r--r-- ernesto/ernesto 14729 2010-07-27 20:45 python-gconf-keybinding-0.4/pyconfig-accessgnome.glade
-rw-r--r-- ernesto/ernesto  4260 2010-07-27 20:41 python-gconf-keybinding-0.4/README
-rw-r--r-- ernesto/ernesto   394 2010-08-08 19:12 python-gconf-keybinding-0.4/PKG-INFO
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Sólo queda probar la instalación del paquete, primero se descomprime y luego se ejecuta el setup.py con la opción install:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;tar -xvzf python-gconf-keybinding-0.4.tar.gz 
python-gconf-keybinding-0.4/
python-gconf-keybinding-0.4/pyconfig-accessgnome-ui.py
python-gconf-keybinding-0.4/COPYING
python-gconf-keybinding-0.4/configGconf.py
python-gconf-keybinding-0.4/TODO
python-gconf-keybinding-0.4/pyconfig-accessgnome-ui.desktop
python-gconf-keybinding-0.4/setup.py
python-gconf-keybinding-0.4/pyconfig-accessgnome.glade
python-gconf-keybinding-0.4/README
python-gconf-keybinding-0.4/PKG-INFO
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Se cambia al directorio python-gconf-keybinding-0.4.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cd python-gconf-keybinding-0.4/ 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Instalación del paquete:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo python setup.py install 
running install
running build
running build_py
creating build
creating build/lib.linux-i686-2.6
copying configGconf.py -&amp;gt; build/lib.linux-i686-2.6
running build_scripts
creating build/scripts-2.6
copying and adjusting pyconfig-accessgnome-ui.py -&amp;gt; build/scripts-2.6
copying and adjusting configGconf.py -&amp;gt; build/scripts-2.6
changing mode of build/scripts-2.6/pyconfig-accessgnome-ui.py from 644 to 755
changing mode of build/scripts-2.6/configGconf.py from 644 to 755
running install_lib
running install_scripts
copying build/scripts-2.6/pyconfig-accessgnome-ui.py -&amp;gt; /usr/local/bin
copying build/scripts-2.6/configGconf.py -&amp;gt; /usr/local/bin
changing mode of /usr/local/bin/pyconfig-accessgnome-ui.py to 755
changing mode of /usr/local/bin/configGconf.py to 755
running install_data
running install_egg_info
Removing /usr/local/lib/python2.6/dist-packages/python_gconf_keybinding-0.4.egg-info
Writing /usr/local/lib/python2.6/dist-packages/python_gconf_keybinding-0.4.egg-info
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Como ya se explico antes el programa se instala en /usr/local .&lt;/p&gt;
&lt;p&gt;El próximo artículo explicará como crear un paquete Debian a partir del tar.gz.&lt;/p&gt;
&lt;p&gt;Para más información pueden visitar los siguientes enlaces:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.python.org/distutils/"&gt;http://docs.python.org/distutils/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://mundogeek.net/archivos/2008/09/23/distribuir-aplicaciones-python/"&gt;http://mundogeek.net/archivos/2008/09/23/distribuir-aplicaciones-python/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;===&lt;/p&gt;
&lt;p&gt;¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV&lt;/p&gt;
&lt;p&gt;O Escaneando el código QR desde billetera:&lt;/p&gt;
&lt;p&gt;&lt;img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"&gt;&lt;/p&gt;</content><category term="Debian"></category><category term="Empaquetado"></category><category term="Gnome"></category><category term="Linux"></category><category term="Python"></category></entry></feed>