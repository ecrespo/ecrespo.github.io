<!doctype html>
<html lang="es" itemscope itemtype="http://schema.org/Person">
<head>
            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>Extracción de datos de páginas web con scrapy y MongoDB</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Ernesto Crespo">

        <link rel="shortcut icon" href="">

        <!-- schema.org -->
        <meta itemprop="name" content="Página de Seraph">
        <meta itemprop="image" content="">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="https://ecrespo.github.io/theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Página de Seraph ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="">
        <meta name="twitter:image" content="">

    <meta name="twitter:creator" content="">
    <meta name="twitter:url" content="https://ecrespo.github.io/extraccion-de-datos-de-paginas-web-con-scrapy-y-mongodb.html">
    <meta name="twitter:title" content="Página de Seraph ~ Extracción de datos de páginas web con scrapy y MongoDB">
    <meta name="twitter:description" content="En el artículo anterior (Extracción de datos de páginas web con scrapy se hizo una introducción del uso de scrapy basándose en el tutorial de la página del proyecto. Este artículo continua la serie de artículos sobre extracción de datos de páginas web (webscraping. En el artículo anterior se extrajo …">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="Página de Seraph ~ Extracción de datos de páginas web con scrapy y MongoDB"/>
    <meta property="og:description" content="En el artículo anterior (Extracción de datos de páginas web con scrapy se hizo una introducción del uso de scrapy basándose en el tutorial de la página del proyecto. Este artículo continua la serie de artículos sobre extracción de datos de páginas web (webscraping. En el artículo anterior se extrajo …"/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <!--<center><a href="https://ecrespo.github.io"><img id="avatar" src=""></a></center>-->
    <h1>Página de Seraph</h1>
    <br>


    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="/archives.html">Archives</a></li>
                <li><a class="nav__link" href="/categories.html">Categories</a></li>
                <li><a class="nav__link" href="/tags.html">Tags</a></li>

                <li><a class="nav__link" href="https://ecrespo.github.io/pages/About.html">Acerca</a></li>
                <li><a class="nav__link" href="https://ecrespo.github.io/pages/Contacto.html">Contacto</a></li>

        </ul>
    </nav>

    <p class="social">
                <a href="https://medium.com/@_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/medium.png"></a>
                <a href="http://ve.linkedin.com/in/ernestocrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/linkedin.png"></a>
                <a href="https://github.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/github.png"></a>
                <a href="https://google.com/+ErnestoCrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/google.png"></a>
                <a href="https://twitter.com/_seraph1" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/twitter.png"></a>
                <a href="https://www.facebook.com/ernesto.crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/facebook.png"></a>
                <a href="https://gitlab.com/ecrespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/gitlab.png"></a>
                <a href="https://soundcloud.com/ernesto-crespo" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/soundcloud.png"></a>
                <a href="//www.seraph.to/feeds/all.atom.xml" target="_blank"><img
                        src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
            <a href="https://ecrespo.github.io/feeds/all.atom.xml" rel="alternate">
                <img src="https://ecrespo.github.io/theme/images/icons/rss.png"></a>
    </p>

        <h2>Categories</h2>
        <ul class="navbar">
                <li><a
                        href="https://ecrespo.github.io/category/accesibilidad.html">Accesibilidad</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncio.html">Anuncio</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/anuncios.html">Anuncios</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/aplicacion-android.html">Aplicación Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/asterisk-debian-linux.html">Asterisk, Debian, Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla.html">Charla</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/charla-python.html">Charla Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-linux-mac-book.html">Debian, Linux, Mac Book</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/debian-maemo-nokia-n810-python.html">Debian, maemo, Nokia N810, Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/demostracion-aplicacion-para-android.html">Demostración Aplicación para Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/desarrollomovil.html">Desarrollo,Movil</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/evento.html">Evento</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/general.html">General</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linux.html">Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdebian.html">Linux,Debian</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxdesarrollo.html">Linux,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxempaquetado.html">Linux,Empaquetado</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/linuxofimaticadesarrollo.html">Linux,Ofimatica,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/movil-nokia.html">Movil, Nokia</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810.html">Nokia N810</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/nokia-n810-debian-maemo.html">Nokia N810 Debian Maemo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/posts.html">posts</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/resumen-2010.html">Resumen 2010</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/sistemas-operativos.html">Sistemas Operativos</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial.html">Tutorial</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-android.html">Tutorial Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-arduino.html">Tutorial de Arduino</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-data-science.html">Tutorial de Data Science</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-docker.html">Tutorial de Docker</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-integracion-continua.html">Tutorial de integración continua</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-linux.html">Tutorial de Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python.html">Tutorial de Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-en-android.html">Tutorial de Python en Android</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-linux.html">Tutorial de Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-de-python-y-pyqt.html">Tutorial de Python y PyQt</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-debian-bsd-y-python.html">Tutorial Debian BSD y Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux.html">Tutorial Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-linux-y-python.html">Tutorial Linux y Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorial-python-en-android.html">Tutorial Python en Android</a></li>
                <li class="active"><a
                        href="https://ecrespo.github.io/category/tutorial-python-y-linux.html">Tutorial Python y Linux</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/tutorialdesarrollo.html">Tutorial,Desarrollo</a></li>
                <li><a
                        href="https://ecrespo.github.io/category/xml-rpcpython.html">XML-RPC,Python</a></li>
        </ul>


</aside>

<!-- Content -->
<article>
    <section id="content">
        <article>
            <h2 class="post_title post_detail"><a href="https://ecrespo.github.io/extraccion-de-datos-de-paginas-web-con-scrapy-y-mongodb.html" rel="bookmark"
                                                  title="Permalink to Extracción de datos de páginas web con scrapy y MongoDB">Extracción de datos de páginas web con scrapy y MongoDB</a></h2>
            <div class="entry-content blog-post">
                <p>En el artículo anterior (<a href="https://www.seraph.to/extraccion-de-datos-de-paginas-web-con-scrapy.html#extraccion-de-datos-de-paginas-web-con-scrapy">Extracción de datos de páginas web con scrapy</a> se hizo una introducción del uso de scrapy basándose en el tutorial de la página del proyecto.</p>
<p>Este artículo continua la serie de artículos sobre extracción de datos de páginas web (<a href="https://www.seraph.to/tag/webscraping.html">webscraping</a>.</p>
<p>En el artículo <a href="https://www.seraph.to/extraccion-de-datos-de-paginas-web-con-scrapy.html#extraccion-de-datos-de-paginas-web-con-scrapy">anterior</a> se extrajo información de la página <a href="http://www.dmoz.org/">dmoz.org</a>, en este caso se usará la misma página, pero está vez basandose en el 
artículo en Inglés <a href="https://realpython.com/web-scraping-with-scrapy-and-mongodb/?utm_source=Python+Weekly+Newsletter&amp;utm_campaign=3387594e10-Python_Weekly_Issue_172_January_1_2015&amp;utm_medium=email&amp;utm_term=0_9e26887fc5-3387594e10-312675721">Web scraping with scrapy and MongoDB</a>. </p>
<p>En este artículo le hacen la extracción de datos a <a href="https://stackoverflow.org/">stackoverflow</a>, pero por problemas de conexión se mostrará la extracción con el sitio <a href="http://www.dmoz.org/">dmoz.org</a>.</p>
<p>Aparte de hacer la extracción de datos se agregará lo extraído a la basa de datos Mongo, para montar el servidor MongoDB pueden seguir el siguiente artículo, y para usarlo desde python este otro.</p>
<p>Para visualizar los datos insertados en MongoDB se puede instalar la aplicación <a href="https://robomongo.org/">robomongo</a>.</p>
<p>El procedimiento es el mismo que el del artículo anterior, se crea el proyecto:</p>
<div class="highlight"><pre><span></span><code><span class="err">$</span><span class="n">scrapy</span> <span class="n">startproject</span> <span class="n">dmoz</span>
</code></pre></div>

<p>Se modifica el archivo <code>dmoz/dmoz/items.py</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapy</span> <span class="kn">import</span> <span class="n">Item</span><span class="p">,</span><span class="n">Field</span>

<span class="k">class</span> <span class="nc">DmozItem</span><span class="p">(</span><span class="n">Item</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">Field</span><span class="p">()</span>
    <span class="n">link</span> <span class="o">=</span> <span class="n">Field</span><span class="p">()</span>
    <span class="n">desc</span> <span class="o">=</span> <span class="n">Field</span><span class="p">()</span>
</code></pre></div>

<p>Ahora se crea la araña <code>dmoz/dmoz/spider/dmoz_spider.py</code>:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">#Se importa Spider y Selector</span>
<span class="kn">from</span> <span class="nn">scrapy</span> <span class="kn">import</span> <span class="n">Spider</span>
<span class="kn">from</span> <span class="nn">scrapy.selector</span> <span class="kn">import</span> <span class="n">Selector</span>

<span class="c1">#Se importa la clase DmozItem</span>
<span class="kn">from</span> <span class="nn">dmoz.items</span> <span class="kn">import</span> <span class="n">DmozItem</span>


<span class="c1">#Se crea la clase DmozSpider que hereda de Spider .</span>
<span class="k">class</span> <span class="nc">DmozSpider</span><span class="p">(</span><span class="n">Spider</span><span class="p">):</span>
    <span class="c1">#Se define el nombre del proyecto</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;dmoz&#39;</span>
    <span class="c1">#El proyecto al cual está permitido</span>
    <span class="n">allowed_domains</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;dmoz.org&#39;</span><span class="p">]</span>
    <span class="c1">#Se define las urls a extraer datos</span>
    <span class="n">start_urls</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;http://www.dmoz.org/Computers/Programming/Languages/Python/Books/&quot;</span><span class="p">,</span>
        <span class="s2">&quot;http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/&quot;</span>
    <span class="p">]</span>


    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
        <span class="c1">#Se instancia el selector de ul-&gt; li del artículo anterior</span>
        <span class="n">questions</span> <span class="o">=</span> <span class="n">Selector</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s1">&#39;//ul/li&#39;</span><span class="p">)</span>
        <span class="c1">#Se crea una lista de items</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1">#Se recorre los li</span>
        <span class="k">for</span> <span class="n">question</span> <span class="ow">in</span> <span class="n">questions</span><span class="p">:</span>
            <span class="c1">#Se instancia DmozItem en item</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">DmozItem</span><span class="p">()</span>
            <span class="c1">#Se extra title, link y descripción de cada enlace de la página</span>
            <span class="n">title</span> <span class="o">=</span> <span class="n">question</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s1">&#39;a/text()&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
            <span class="n">link</span> <span class="o">=</span> <span class="n">question</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s1">&#39;a/@href&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
            <span class="n">desc</span> <span class="o">=</span> <span class="n">question</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s1">&#39;text()&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
            <span class="c1">#Se asocia estos elementos a la lista</span>
            <span class="n">item</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">title</span>
            <span class="n">item</span><span class="p">[</span><span class="s1">&#39;link&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>
            <span class="n">item</span><span class="p">[</span><span class="s1">&#39;desc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">desc</span>
            <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="c1">#Se retorna el item</span>
        <span class="k">return</span> <span class="n">item</span>
</code></pre></div>

<p>Se prueba la araña y luego se guarda en un archivo json.</p>
<div class="highlight"><pre><span></span><code><span class="n">scrapy</span> <span class="n">crawl</span> <span class="n">dmoz</span>

<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">37</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">scrapy</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Scrapy</span> <span class="mf">0.24</span><span class="o">.</span><span class="mi">2</span> <span class="n">started</span> <span class="p">(</span><span class="n">bot</span><span class="p">:</span> <span class="n">dmoz</span><span class="p">)</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">37</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">scrapy</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Optional</span> <span class="n">features</span> <span class="n">available</span><span class="p">:</span> <span class="n">ssl</span><span class="p">,</span> <span class="n">http11</span><span class="p">,</span> <span class="n">boto</span><span class="p">,</span> <span class="n">django</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">37</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">scrapy</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Overridden</span> <span class="n">settings</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;NEWSPIDER_MODULE&#39;</span><span class="p">:</span> <span class="s1">&#39;dmoz.spiders&#39;</span><span class="p">,</span> <span class="s1">&#39;SPIDER_MODULES&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dmoz.spiders&#39;</span><span class="p">],</span> <span class="s1">&#39;BOT_NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;dmoz&#39;</span><span class="p">}</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">37</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">scrapy</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Enabled</span> <span class="n">extensions</span><span class="p">:</span> <span class="n">LogStats</span><span class="p">,</span> <span class="n">TelnetConsole</span><span class="p">,</span> <span class="n">CloseSpider</span><span class="p">,</span> <span class="n">WebService</span><span class="p">,</span> <span class="n">CoreStats</span><span class="p">,</span> <span class="n">SpiderState</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">39</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">scrapy</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Enabled</span> <span class="n">downloader</span> <span class="n">middlewares</span><span class="p">:</span> <span class="n">HttpAuthMiddleware</span><span class="p">,</span> <span class="n">DownloadTimeoutMiddleware</span><span class="p">,</span> <span class="n">UserAgentMiddleware</span><span class="p">,</span> <span class="n">RetryMiddleware</span><span class="p">,</span> <span class="n">DefaultHeadersMiddleware</span><span class="p">,</span> <span class="n">MetaRefreshMiddleware</span><span class="p">,</span> <span class="n">HttpCompressionMiddleware</span><span class="p">,</span> <span class="n">RedirectMiddleware</span><span class="p">,</span> <span class="n">CookiesMiddleware</span><span class="p">,</span> <span class="n">ChunkedTransferMiddleware</span><span class="p">,</span> <span class="n">DownloaderStats</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">39</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">scrapy</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Enabled</span> <span class="n">spider</span> <span class="n">middlewares</span><span class="p">:</span> <span class="n">HttpErrorMiddleware</span><span class="p">,</span> <span class="n">OffsiteMiddleware</span><span class="p">,</span> <span class="n">RefererMiddleware</span><span class="p">,</span> <span class="n">UrlLengthMiddleware</span><span class="p">,</span> <span class="n">DepthMiddleware</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">dist</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">scrapy</span><span class="o">/</span><span class="n">contrib</span><span class="o">/</span><span class="n">pipeline</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span> <span class="n">ScrapyDeprecationWarning</span><span class="p">:</span> <span class="n">ITEM_PIPELINES</span> <span class="n">defined</span> <span class="k">as</span> <span class="n">a</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">a</span> <span class="nb">set</span> <span class="ow">is</span> <span class="n">deprecated</span><span class="p">,</span> <span class="n">switch</span> <span class="n">to</span> <span class="n">a</span> <span class="nb">dict</span>
  <span class="n">category</span><span class="o">=</span><span class="n">ScrapyDeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">39</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">scrapy</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Enabled</span> <span class="n">item</span> <span class="n">pipelines</span><span class="p">:</span> <span class="n">MongoDBPipeline</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">39</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Spider</span> <span class="n">opened</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">39</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Crawled</span> <span class="mi">0</span> <span class="n">pages</span> <span class="p">(</span><span class="n">at</span> <span class="mi">0</span> <span class="n">pages</span><span class="o">/</span><span class="nb">min</span><span class="p">),</span> <span class="n">scraped</span> <span class="mi">0</span> <span class="n">items</span> <span class="p">(</span><span class="n">at</span> <span class="mi">0</span> <span class="n">items</span><span class="o">/</span><span class="nb">min</span><span class="p">)</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">39</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">scrapy</span><span class="p">]</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="n">Telnet</span> <span class="n">console</span> <span class="n">listening</span> <span class="n">on</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6023</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">39</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">scrapy</span><span class="p">]</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="n">Web</span> <span class="n">service</span> <span class="n">listening</span> <span class="n">on</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6080</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">45</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="n">Crawled</span> <span class="p">(</span><span class="mi">200</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">GET</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">dmoz</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">Computers</span><span class="o">/</span><span class="n">Programming</span><span class="o">/</span><span class="n">Languages</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">Resources</span><span class="o">/&gt;</span> <span class="p">(</span><span class="n">referer</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">45</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="n">Question</span> <span class="n">added</span> <span class="n">to</span> <span class="n">MongoDB</span> <span class="n">database</span><span class="err">!</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">45</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="n">Scraped</span> <span class="kn">from</span> <span class="o">&lt;</span><span class="mi">200</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">dmoz</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">Computers</span><span class="o">/</span><span class="n">Programming</span><span class="o">/</span><span class="n">Languages</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">Resources</span><span class="o">/&gt;</span>
 <span class="p">{</span><span class="s1">&#39;desc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;</span><span class="se">\r\n\t\r\n</span><span class="s1">                                &#39;</span><span class="p">,</span>
           <span class="sa">u</span><span class="s1">&#39; </span><span class="se">\r\n\t\t\t\r\n</span><span class="s1">                                - Scripts, examples and news about Python programming for the Windows platform.</span><span class="se">\r\n</span><span class="s1">                                </span><span class="se">\r\n</span><span class="s1">                                &#39;</span><span class="p">,</span>
           <span class="sa">u</span><span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">                                &#39;</span><span class="p">],</span>
  <span class="s1">&#39;link&#39;</span><span class="p">:</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;http://win32com.goermezer.de/&#39;</span><span class="p">],</span>
  <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;Social Bug&#39;</span><span class="p">]}</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">46</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="n">Crawled</span> <span class="p">(</span><span class="mi">200</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">GET</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">dmoz</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">Computers</span><span class="o">/</span><span class="n">Programming</span><span class="o">/</span><span class="n">Languages</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">Books</span><span class="o">/&gt;</span> <span class="p">(</span><span class="n">referer</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">46</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="n">Question</span> <span class="n">added</span> <span class="n">to</span> <span class="n">MongoDB</span> <span class="n">database</span><span class="err">!</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">46</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="n">Scraped</span> <span class="kn">from</span> <span class="o">&lt;</span><span class="mi">200</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">dmoz</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">Computers</span><span class="o">/</span><span class="n">Programming</span><span class="o">/</span><span class="n">Languages</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">Books</span><span class="o">/&gt;</span>
 <span class="p">{</span><span class="s1">&#39;desc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;</span><span class="se">\r\n\t\r\n</span><span class="s1">                                &#39;</span><span class="p">,</span>
           <span class="sa">u</span><span class="s1">&#39; </span><span class="se">\r\n\t\t\t\r\n</span><span class="s1">                                - By Sean McGrath; Prentice Hall PTR, 2000, ISBN 0130211192, has CD-ROM. Methods to build XML applications fast, Python tutorial, DOM and SAX, new Pyxie open source XML processing library. [Prentice Hall PTR]</span><span class="se">\r\n</span><span class="s1">                                </span><span class="se">\r\n</span><span class="s1">                                &#39;</span><span class="p">,</span>
           <span class="sa">u</span><span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">                                &#39;</span><span class="p">],</span>
  <span class="s1">&#39;link&#39;</span><span class="p">:</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;http://www.informit.com/store/product.aspx?isbn=0130211192&#39;</span><span class="p">],</span>
  <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;XML Processing with Python&#39;</span><span class="p">]}</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">46</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Closing</span> <span class="n">spider</span> <span class="p">(</span><span class="n">finished</span><span class="p">)</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">46</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Dumping</span> <span class="n">Scrapy</span> <span class="n">stats</span><span class="p">:</span>
 <span class="p">{</span><span class="s1">&#39;downloader/request_bytes&#39;</span><span class="p">:</span> <span class="mi">516</span><span class="p">,</span>
  <span class="s1">&#39;downloader/request_count&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;downloader/request_method_count/GET&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;downloader/response_bytes&#39;</span><span class="p">:</span> <span class="mi">16342</span><span class="p">,</span>
  <span class="s1">&#39;downloader/response_count&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;downloader/response_status_count/200&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;finish_reason&#39;</span><span class="p">:</span> <span class="s1">&#39;finished&#39;</span><span class="p">,</span>
  <span class="s1">&#39;finish_time&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">119507</span><span class="p">),</span>
  <span class="s1">&#39;item_scraped_count&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;log_count/DEBUG&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="s1">&#39;log_count/INFO&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="s1">&#39;response_received_count&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;scheduler/dequeued&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;scheduler/dequeued/memory&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;scheduler/enqueued&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;scheduler/enqueued/memory&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;start_time&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">404138</span><span class="p">)}</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">46</span><span class="o">-</span><span class="mi">0430</span> <span class="p">[</span><span class="n">dmoz</span><span class="p">]</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Spider</span> <span class="n">closed</span> <span class="p">(</span><span class="n">finished</span><span class="p">)</span>
</code></pre></div>

<p>Se guarda la información en el archivo json:</p>
<div class="highlight"><pre><span></span><code><span class="err">scrapy crawl dmoz -o dmoz.json -t json</span>
</code></pre></div>

<p>El archivo <code>dmoz.json</code> contiene lo siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="err">[{&quot;desc&quot;: [&quot;\r\n\t\r\n                                &quot;, &quot; \r\n\t\t\t\r\n                                - Scripts, examples and news about Python programming for the Windows platform.\r\n                                \r\n                                &quot;, &quot;\r\n                                &quot;], &quot;link&quot;: [&quot;http://win32com.goermezer.de/&quot;], &quot;title&quot;: [&quot;Social Bug&quot;]},</span>
<span class="err">{&quot;desc&quot;: [&quot;\r\n\t\r\n                                &quot;, &quot; \r\n\t\t\t\r\n                                - By Sean McGrath; Prentice Hall PTR, 2000, ISBN 0130211192, has CD-ROM. Methods to build XML applications fast, Python tutorial, DOM and SAX, new Pyxie open source XML processing library. [Prentice Hall PTR]\r\n                                \r\n                                &quot;, &quot;\r\n                                &quot;], &quot;link&quot;: [&quot;http://www.informit.com/store/product.aspx?isbn=0130211192&quot;], &quot;</span>
</code></pre></div>

<p>Para configurar el acceso a MongoDB se edita el archivo <code>dmoz/dmoz/settings.py</code>, se agrega lo siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="n">ITEM_PIPELINES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;dmoz.pipelines.MongoDBPipeline&#39;</span><span class="p">,</span> <span class="p">]</span>

<span class="o">#</span><span class="n">información</span> <span class="n">de</span> <span class="n">conexión</span> <span class="n">con</span> <span class="n">el</span> <span class="n">servidor</span> <span class="n">mongodb</span><span class="p">,</span> <span class="k">host</span><span class="p">,</span> <span class="n">puerto</span><span class="p">,</span> <span class="n">base</span> <span class="n">de</span> <span class="n">datos</span> <span class="n">y</span> <span class="n">colección</span><span class="p">.</span>
<span class="n">MONGODB_SERVER</span> <span class="o">=</span> <span class="ss">&quot;localhost&quot;</span>
<span class="n">MONGODB_PORT</span> <span class="o">=</span> <span class="mi">27017</span>
<span class="n">MONGODB_DB</span> <span class="o">=</span> <span class="ss">&quot;dmoz&quot;</span>
<span class="n">MONGODB_COLLECTION</span> <span class="o">=</span> <span class="ss">&quot;links&quot;</span>
</code></pre></div>

<p>Se edita <code>dmoz/dmoz/pipelines.py</code> para generar el flujo del proceso de extracción de datos, se define la conexión a la base de datos y luego se inserta los datos a mongodb:</p>
<div class="highlight"><pre><span></span><code><span class="c1">#Se importa pymongo</span>
<span class="kn">import</span> <span class="nn">pymongo</span>

<span class="c1">#Se importa la configuración de settings</span>
<span class="kn">from</span> <span class="nn">scrapy.conf</span> <span class="kn">import</span> <span class="n">settings</span>

<span class="c1">#Se importa DropItem y log</span>
<span class="kn">from</span> <span class="nn">scrapy.exceptions</span> <span class="kn">import</span> <span class="n">DropItem</span>
<span class="kn">from</span> <span class="nn">scrapy</span> <span class="kn">import</span> <span class="n">log</span>


<span class="c1">#Se crea la clase MongoDBPipeline</span>
<span class="k">class</span> <span class="nc">MongoDBPipeline</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#Se conecta al servidor mongodb</span>
        <span class="n">connection</span> <span class="o">=</span> <span class="n">pymongo</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span>
            <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;MONGODB_SERVER&#39;</span><span class="p">],</span>
            <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;MONGODB_PORT&#39;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="c1">#Se instancia los datos de conexión y la colección de los datos</span>
        <span class="n">db</span> <span class="o">=</span> <span class="n">connection</span><span class="p">[</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;MONGODB_DB&#39;</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collection</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;MONGODB_COLLECTION&#39;</span><span class="p">]]</span>

    <span class="c1">#Se procesa los items</span>
    <span class="k">def</span> <span class="nf">process_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">spider</span><span class="p">):</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="c1">#Se recorre los datos si no hay datos se descarta, si los hay se inserta y se agrega un mensaje al log.</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">item</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
                <span class="n">valid</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="k">raise</span> <span class="n">DropItem</span><span class="p">(</span><span class="s2">&quot;Missing {0}!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">valid</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
            <span class="n">log</span><span class="o">.</span><span class="n">msg</span><span class="p">(</span><span class="s2">&quot;Question added to MongoDB database!&quot;</span><span class="p">,</span>
                    <span class="n">level</span><span class="o">=</span><span class="n">log</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">spider</span><span class="o">=</span><span class="n">spider</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">item</span>
</code></pre></div>

<p>Se vuelve a probar la extracción de datos:</p>
<div class="highlight"><pre><span></span><code><span class="err">scrapy crawl dmoz</span>
</code></pre></div>

<p>Desde el shell se ejecuta el cliente de mongo:</p>
<div class="highlight"><pre><span></span><code><span class="n">mongo</span>
<span class="n">MongoDB</span> <span class="n">shell</span> <span class="n">version</span><span class="p">:</span> <span class="mf">2.4</span><span class="o">.</span><span class="mi">10</span>
<span class="n">connecting</span> <span class="n">to</span><span class="p">:</span> <span class="n">test</span>
<span class="o">&gt;</span>
</code></pre></div>

<p>Se muestra las base de datos existentes:</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="n">show</span> <span class="n">dbs</span>
<span class="n">dmoz</span> <span class="mf">0.203125</span><span class="n">GB</span>
<span class="n">local</span> <span class="mf">0.078125</span><span class="n">GB</span>
</code></pre></div>

<p>Se usa la base de datos <code>dmoz</code>:</p>
<div class="highlight"><pre><span></span><code><span class="err">&gt; use dmoz</span>
<span class="err">switched to db dmoz</span>
</code></pre></div>

<p>Se muestra las colecciones existentes de la base de datos:</p>
<div class="highlight"><pre><span></span><code><span class="err">&gt; show collections</span>
<span class="err">links</span>
<span class="err">system.indexes</span>
</code></pre></div>

<p>Se muestra el contenido de la colección links:</p>
<div class="highlight"><pre><span></span><code><span class="err">&gt; db.links.find()</span>
<span class="err">{ &quot;_id&quot; : ObjectId(&quot;54a6ef962b405e3dc6fd96b8&quot;), &quot;title&quot; : [  &quot;XML Processing with Python&quot; ], &quot;link&quot; : [  &quot;http://www.informit.com/store/product.aspx?isbn=0130211192&quot; ], &quot;desc&quot; : [  &quot;\r\n\t\r\n                                &quot;,  &quot; \r\n\t\t\t\r\n                                - By Sean McGrath; Prentice Hall PTR, 2000, ISBN 0130211192, has CD-ROM. Methods to build XML applications fast, Python tutorial, DOM and SAX, new Pyxie open source XML processing library. [Prentice Hall PTR]\r\n                                \r\n                                &quot;,  &quot;\r\n                                &quot; ] }</span>
<span class="err">{ &quot;_id&quot; : ObjectId(&quot;54a6ef962b405e3dc6fd96b9&quot;), &quot;title&quot; : [  &quot;Social Bug&quot; ], &quot;link&quot; : [  &quot;http://win32com.goermezer.de/&quot; ], &quot;desc&quot; : [  &quot;\r\n\t\r\n                                &quot;,  &quot; \r\n\t\t\t\r\n                                - Scripts, examples and news about Python programming for the Windows platform.\r\n                                \r\n                                &quot;,  &quot;\r\n                                &quot; ] }</span>
</code></pre></div>

<p>Para finalizar se muestra la captura de pantalla de la aplicación robomongo que muestra el mismo contenido de la colección links:</p>
<p><img alt="" src="./images/extracciondedatosdepaginaswebconscrapyymongodb-1.png"></p>
<h2></h2>
<p>¡Haz tu donativo!
Si te gustó el artículo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
dirección: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el código QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"></p>
            </div>
            <div class="post_list">
                <span>By </span>
                <a href="https://ecrespo.github.io/author/ernesto-crespo.html">@Ernesto Crespo</a>
                <span> in </span>
                <span class="post_category"><a href="https://ecrespo.github.io/category/tutorial-python-y-linux.html" rel="bookmark"
                                               title="Permalink to Tutorial Python y Linux">[ Tutorial Python y Linux ]</a></span>
                <span class="post_date">vie 02 enero 2015</span>
                <div><span>Tags : </span>
                            <span><a href="https://ecrespo.github.io/tag/debian.html">#Debian, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/linux.html">#Linux, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/python.html">#Python, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/ubuntu.html">#Ubuntu, </a></span>
                            <span><a href="https://ecrespo.github.io/tag/webscraping.html">#Webscraping, </a></span>
                </div>

                <div class="entry-social">
                    <span class="twitter"><a target="_blank" rel="nofollow"
                                             onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;"
                                             title="Twitter"
                                             href="https://twitter.com/share?url=https://ecrespo.github.io/extraccion-de-datos-de-paginas-web-con-scrapy-y-mongodb.html&text=Extracción de datos de páginas web con scrapy y MongoDB&via="><img
                            src="https://ecrespo.github.io/theme/images/icons/twitter-s.png"></a></span>

                    <span class="gplus"><a target="_blank" title="Google +"
                                           href="https://plus.google.com/share?url=https://ecrespo.github.io/extraccion-de-datos-de-paginas-web-con-scrapy-y-mongodb.html&hl=fr"
                                           rel="nofollow"
                                           onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/google-s.png"></a></span>

                    <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow"
                                              onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;"
                                              href="https://www.facebook.com/sharer.php?u=https://ecrespo.github.io/extraccion-de-datos-de-paginas-web-con-scrapy-y-mongodb.html&t=Extracción de datos de páginas web con scrapy y MongoDB"><img
                            src="https://ecrespo.github.io/theme/images/icons/facebook-s.png"></a></span>

                    <a target="_blank" title="Linkedin"
                       href="https://www.linkedin.com/shareArticle?mini=true&url=https://ecrespo.github.io/extraccion-de-datos-de-paginas-web-con-scrapy-y-mongodb.html&title=Extracción de datos de páginas web con scrapy y MongoDB"
                       rel="nofollow"
                       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://ecrespo.github.io/theme/images/icons/linkedin-s.png"></a>

                    <span class="mail"><a
                            href="mailto:?subject=Extracción de datos de páginas web con scrapy y MongoDB&amp;body=Viens découvrir un article à propos de [Extracción de datos de páginas web con scrapy y MongoDB] sur le site de Ernesto Crespo. https://ecrespo.github.io/extraccion-de-datos-de-paginas-web-con-scrapy-y-mongodb.html"
                            title="Share by Email" target="_blank"><img
                            src="https://ecrespo.github.io/theme/images/icons/mail-s.png"></a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Comments !</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "extraccion-de-datos-de-paginas-web-con-scrapy-y-mongodb.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://https://seraphto.disqus.com.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
            Blog powered by <a href="http://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="http://python.org">Python</a>.
            Theme <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> by <a
                href="https://parbhatpuri.com/">@parbhat</a>.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-131517246-1']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>