
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/pygments/monokai.min.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ecrespo.github.io/theme/font-awesome/css/solid.css">


    <link href="https://ecrespo.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Página de Seraph Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131517246-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">

<meta name="author" content="Ernesto Crespo" />
<meta name="description" content="El programa csvkit es una herramienta desarrollada en Python que facilita la manipulación de la información contenida en un archivo con formato csv. Se utilizará como ejemplo los datos de la página data.gov. Los datos que se utilizará son del Departamento de Asuntos de Veteranos de beneficios educativos de …" />
<meta name="keywords" content="General, Python, csv, csvkit">

<meta property="og:site_name" content="Página de Seraph"/>
<meta property="og:title" content="Manejar información de un archivo csv con csvkit"/>
<meta property="og:description" content="El programa csvkit es una herramienta desarrollada en Python que facilita la manipulación de la información contenida en un archivo con formato csv. Se utilizará como ejemplo los datos de la página data.gov. Los datos que se utilizará son del Departamento de Asuntos de Veteranos de beneficios educativos de …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://ecrespo.github.io/manejar-informacion-de-un-archivo-csv-con-csvkit.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2013-02-19 10:00:00-04:30"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ecrespo.github.io/author/ernesto-crespo.html">
<meta property="article:section" content="Tutorial Python"/>
<meta property="article:tag" content="General"/>
<meta property="article:tag" content="Python"/>
<meta property="article:tag" content="csv"/>
<meta property="article:tag" content="csvkit"/>
<meta property="og:image" content="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120">

  <title>Página de Seraph &ndash; Manejar información de un archivo csv con csvkit</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://ecrespo.github.io">
        <img src="//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120" alt="Ernesto Crespo" title="Ernesto Crespo">
      </a>
      <h1><a href="https://ecrespo.github.io">Ernesto Crespo</a></h1>

<p>Data Scientist </p>
      <nav>
        <ul class="list">
          <li><a href="https://ecrespo.github.io/pages/About.html#About">Acerca</a></li>
          <li><a href="https://ecrespo.github.io/pages/Contacto.html#Contacto">Contacto</a></li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-medium" href="https://medium.com/@_seraph1" target="_blank">
            <i class="fab fa-medium">
            </i>
          </a></li>
          <li>
            <a  class="sc-linkedin" href="http://ve.linkedin.com/in/ernestocrespo" target="_blank">
            <i class="fab fa-linkedin">
            </i>
          </a></li>
          <li>
            <a  class="sc-github" href="https://github.com/ecrespo" target="_blank">
            <i class="fab fa-github">
            </i>
          </a></li>
          <li>
            <a  class="sc-google" href="https://google.com/+ErnestoCrespo" target="_blank">
            <i class="fab fa-google">
            </i>
          </a></li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/_seraph1" target="_blank">
            <i class="fab fa-twitter">
            </i>
          </a></li>
          <li>
            <a  class="sc-facebook" href="https://www.facebook.com/ernesto.crespo" target="_blank">
            <i class="fab fa-facebook">
            </i>
          </a></li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/ecrespo" target="_blank">
            <i class="fab fa-gitlab">
            </i>
          </a></li>
          <li>
            <a  class="sc-soundcloud" href="https://soundcloud.com/ernesto-crespo" target="_blank">
            <i class="fab fa-soundcloud">
            </i>
          </a></li>
          <li>
            <a  class="sc-rss" href="//www.seraph.to/feeds/all.atom.xml" target="_blank">
            <i class="fas fa-rss">
            </i>
          </a></li>
      </ul>
    </div>



  </aside>
  <main>

    <nav>
      <a href="https://ecrespo.github.io">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ecrespo.github.io/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="manejar-informacion-de-un-archivo-csv-con-csvkit">Manejar información de un archivo csv con csvkit</h1>
    <p>
          Posted on mar 19 febrero 2013 in <a href="https://ecrespo.github.io/category/tutorial-python.html">Tutorial Python</a>


        &#8226; 3 min read
    </p>
  </header>


  <div>
    <p>El programa <code>csvkit</code> es una herramienta desarrollada en Python que facilita la manipulaci&oacute;n de la informaci&oacute;n contenida en un archivo con formato <code>csv</code>.</p>
<p>Se utilizar&aacute; como ejemplo los datos de la p&aacute;gina data.gov. Los datos que se utilizar&aacute; son del Departamento de Asuntos de Veteranos de beneficios educativos de los Estatos Unidos (disculpen la traducci&oacute;n) del a&ntilde;o 2009.</p>
<p>Es necesario instalar <code>csvkit</code>, en este caso se usa el comando <code>pip</code> de python:<br/>
<code>python
pip install csvkit</code>
Obtener los datos:
```
mkdir beneficios</p>
<p>cd beneficios 
<code>Bajar archivo `2009.csv` con el comando `wget`:</code>
wget -O 2009.csv -U "Mozilla/5.0 (X11; U; Linux x86_64; en-US) AppleWebKit/534.16 (JHTML, like Gecko) chrome/10.0.648.205 Safari/534.16" http://www.data.gob/download/4029/csv 
<code>Verificar las primeras 5 l&iacute;neas del archivo:</code>
head -n 5 2009.csv </p>
<p>State Name,State Abbreviate,Code,Montgomery GI Bill-Active Duty,Montgomery GI Bill- Selective Reserve,Dependents' Educational Assistance,Reserve Educational Assistance Program,Post-Vietnam Era Veteran's Educational Assistance Program,TOTAL,</p>
<p>ALABAMA,AL,01,"6,718","1,728","2,703","1,269",8,"12,426",</p>
<p>ALASKA,AK,02,776,154,166,60,2,"1,158",</p>
<p>ARIZONA,AZ,04,"26,822","2,005","3,137","2,011",11,"33,986",</p>
<p>ARKANSAS,AR,05,"2,061",988,"1,575",886,3,"5,513",
<code>``
Se puede usar el mismo comando</code>wget` para bajar los archivos de los a&ntilde;os 2010.csv, 2011.csv y 2012.csv.</p>
<p>Obtener la informaci&oacute;n de las columnas con <code>csvcut</code>:
```
csvcut -n 2009.csv</p>
<p>1: State Name</p>
<p>2: State Abbreviate</p>
<p>3: Code</p>
<p>4: Montgomery GI Bill-Active Duty</p>
<p>5: Montgomery GI Bill- Selective Reserve</p>
<p>6: Dependents' Educational Assistance</p>
<p>7: Reserve Educational Assistance Program</p>
<p>8: Post-Vietnam Era Veteran's Educational Assistance Program</p>
<p>9: TOTAL</p>
<p>10: 
```</p>
<p>Como se puede observar, el archivo <code>csv</code> maneja 9 columnas. </p>
<p>Con el comando <code>csvcut</code> se puede obtener informaci&oacute;n entre la fila 2 y 3 (State Abbreviate y Code), s&oacute;lo se desea mostrar las primeras 5 l&iacute;neas del archivo: 
```
csvcut -c 2,3 2009.csv | head -n 5</p>
<p>State Abbreviate,Code
AL,01
AK,02
AZ,04
AR,05
```</p>
<p>Se puede tambi&eacute;n manejar estadisticas bajo demanda con <code>csvstat</code>. Se genera la estadistica de la informaci&oacute;n de las columnas 1,4,9 y 10. Para este caso se utiliza <code>csvcut</code> y se pasa la informaci&oacute;n a <code>csvstat</code>:
```
csvcut -c 1,4,9,10 2009.csv | csvstat</p>
<ol>
<li>State Name
    <type 'unicode'="">
    Nulls: True
    Unique values: 52
    Max length: 17</type></li>
<li>Montgomery GI Bill-Active Duty
    <type 'int'="">
    Nulls: True
    Min: 435
    Max: 34942
    Sum: 325723
    Mean: 6263.90384615
    Median: 3548.0
    Standard Deviation: 7537.86225373
    Unique values: 52</type></li>
<li>TOTAL
    <type 'int'="">
    Nulls: True
    Min: 768
    Max: 46897
    Sum: 506914
    Mean: 9748.34615385
    Median: 6520.0
    Standard Deviation: 10070.4022127
    Unique values: 52</type></li>
<li>_unnamed
    <type 'nonetype'="">
    Nulls: True
    Values: 
```</type></li>
</ol>
<p>Se puede realizar busquedas por filas con <code>csvgrep</code>. En este caso la informaci&oacute;n total del Estado de Illinois:
```
csvcut -c 1,"TOTAL" 2009.csv | csvgrep -c 1 -m ILLINOIS</p>
<p>State Name,TOTAL</p>
<p>ILLINOIS,"21,964"
```</p>
<p>Voltear orden de las columnas con <code>csvcut</code>: 
```
csvcut -c 9,1 2009.csv | head -n 5</p>
<p>TOTAL,State Name
"12,426",ALABAMA
"1,158",ALASKA
"33,986",ARIZONA
"5,513",ARKANSAS
```
En este caso se cambia el orden de las columnas al decirle a csvcut el orden de las columnas. </p>
<p>Ordenar con <code>csvsort</code>: 
```
csvcut -c 9,1 2009.csv | csvsort -r | head -n 5</p>
<p>TOTAL,State Name
46897,CALIFORNIA
40402,TEXAS
36394,FLORIDA
33986,ARIZONA
<code>Se puede dar un formato para que sea legible la informaci&oacute;n con `csvlook`:</code>
csvcut -c 9,1 2009.csv | csvsort -r -l | csvlook</p>
<p>|--------------+-------+--------------------|
|  line_number | TOTAL | State Name         |
|--------------+-------+--------------------|
|  1           | 46897 | CALIFORNIA         |
|  2           | 40402 | TEXAS              |
|  3           | 36394 | FLORIDA            |
|  4           | 33986 | ARIZONA            |
|  5           | 21964 | ILLINOIS           |
|  6           | 20541 | VIRGINIA           |
|  7           | 18236 | GEORGIA            |
|  8           | 15730 | NORTH CAROLINA     |
|  9           | 13967 | NEW YORK           |
|  10          | 13962 | MISSOURI           |
|  11          | 13614 | COLORADO           |
|  12          | 13314 | OHIO               |
|  13          | 13011 | PENNSYLVANIA       |
|  14          | 12426 | ALABAMA            |
|  15          | 11492 | WASHINGTON         |
|  16          | 10085 | MARYLAND           |
|  17          | 9791  | MINNESOTA          |
|  18          | 9344  | MICHIGAN           |
|  19          | 9206  | OKLAHOMA           |
|  20          | 9013  | IOWA               |
|  21          | 8840  | WEST VIRGINIA      |
|  22          | 8757  | TENNESSEE          |
|  23          | 8081  | WISCONSIN          |
|  24          | 7872  | SOUTH CAROLINA     |
|  25          | 7809  | INDIANA            |
|  26          | 6652  | LOUISIANA          |
|  27          | 6388  | KENTUCKY           |
|  28          | 6009  | MASSACHUSETTS      |
|  29          | 5870  | OREGON             |
|  30          | 5513  | ARKANSAS           |
|  31          | 5511  | NEW JERSEY         |
|  32          | 5416  | NEBRASKA           |
|  33          | 5345  | UTAH               |
|  34          | 4947  | KANSAS             |
|  35          | 4551  | NEW MEXICO         |
|  36          | 4424  | PUERTO RICO        |
|  37          | 4299  | MISSISSIPPI        |
|  38          | 3728  | NEVADA             |
|  39          | 2997  | CONNECTICUT        |
|  40          | 2751  | IDAHO              |
|  41          | 2521  | HAWAII             |
|  42          | 1992  | SOUTH DAKOTA       |
|  43          | 1920  | MAINE              |
|  44          | 1795  | MONTANA            |
|  45          | 1778  | NORTH DAKOTA       |
|  46          | 1326  | NEW HAMPSHIRE      |
|  47          | 1175  | RHODE ISLAND       |
|  48          | 1158  | ALASKA             |
|  49          | 1145  | DELAWARE           |
|  50          | 1117  | WYOMING            |
|  51          | 1084  | DIST. OF COLUMBIA  |
|  52          | 768   | VERMONT            |
|  53          |       |                    |
|--------------+-------+--------------------|
```</p>
<p>Para finalizar se puede salvar el trabajo en un nuevo archivo csv:
<code>csvcut -c 9,1 2009.csv | csvsort -r -l &gt; 2009_ranking.csv</code></p>
<p>Si se desea aprender m&aacute;s de la herramienta <code>csvkit</code> se puede revisar la p&aacute;gina de la <a href="https://csvkit.readthedocs.io/en/latest/index.html">documentaci&oacute;n</a>. </p>
<p>En pr&oacute;ximo art&iacute;culo se mostrar&aacute; como usar <code>csvkit</code> desde un programa en Python.</p>
<h2 id="_1"></h2>
<p>&iexcl;Haz tu donativo!
Si te gust&oacute; el art&iacute;culo puedes realizar un donativo con Bitcoin (BTC)
usando la billetera digital de tu preferencia a la siguiente
direcci&oacute;n: 17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV</p>
<p>O Escaneando el c&oacute;digo QR desde la billetera:</p>
<p><img alt="17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV" src="./images/17MtNybhdkA9GV3UNS6BTwPcuhjXoPrSzV.png"/></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ecrespo.github.io/tag/general.html">General</a>
      <a href="https://ecrespo.github.io/tag/python.html">Python</a>
      <a href="https://ecrespo.github.io/tag/csv.html">csv</a>
      <a href="https://ecrespo.github.io/tag/csvkit.html">csvkit</a>
    </p>
  </div>



  <div class="related-posts">
    <h4>    You might enjoy
</h4>
    <ul class="related-posts">
      <li><a href="https://ecrespo.github.io/reproductor-de-video-con-python-y-kivy.html">Reproductor de vídeo con python y kivy</a></li>
      <li><a href="https://ecrespo.github.io/widget-button-y-scatter-widget-de-comportamiento-en-kivy.html">Widget button y Scatter (widget de comportamiento) en kivy.</a></li>
      <li><a href="https://ecrespo.github.io/desarrollo-de-aplicaciones-multiplataforma-con-python-y-kivy.html">Desarrollo de aplicaciones multiplataforma con python y kivy</a></li>
      <li><a href="https://ecrespo.github.io/crear-un-demonio-de-linux-con-python.html">Crear un demonio de Linux con Python</a></li>
      <li><a href="https://ecrespo.github.io/crear-url-recortadas-con-python-bitly.html">Crear URL recortadas con Python (bit.ly)</a></li>
    </ul>
  </div>


<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https://seraphto.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy;  2006</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Página de Seraph ",
  "url" : "https://ecrespo.github.io",
  "image": "//s.gravatar.com/avatar/7fab2070e149e57fe99da94d7ccbad6b?s=120",
  "description": " Software Libre, Ciencia de Datos y Python"
}
</script>

</body>
</html>